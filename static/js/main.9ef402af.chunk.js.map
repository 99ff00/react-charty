{"version":3,"sources":["../../dist/index.es.js","App.js","index.js"],"names":["styles","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","_typeof","Symbol","iterator","obj","constructor","prototype","instance","Constructor","TypeError","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","self","call","ReferenceError","Charty","CHARTY","CTRLS","LEGEND","DEFAULT_THEME","grid","color","alpha","markerFillColor","legend","background","preview","maskColor","maskAlpha","brushColor","xAxis","textColor","textAlpha","yAxis","title","localRange","zoomedRange","PI_RAD","Math","PI","FONT","WDAYS","LONG_WDAYS","MONTHS","DPR","window","devicePixelRatio","LONG_TAP_DURATION","ANIMATE_DURATION","ON_OFF_DURATION","ZOOM_IN_DURATION","ZOOM_OUT_DURATION","SNAP_DURATION","LEGEND_TIMER","AREA","HEADER","MAIN","XAXIS","PREVIEW","BRUSH_CENTER","BRUSH_LEFT","BRUSH_RIGHT","IS_MOBILE","undefined","orientation","CHARTS","PIE_VISIBLE","SHARED_PROPS","EASE","inQuad","t","b","c","d","outQuad","inCubic","outCubic","outSine","sin","outBack","s","DATA_TYPES","time","v","Date","h","getHours","m","getMinutes","unixToTime","date","unixToD","shortDate","longDate","unixToDate","longDateWeekDay","float1","parseFloat","toFixed","float2","number","format","round","n","toString","replace","_d","getDate","getMonth","getFullYear","full","longWdays","getDay","byId","id","getElementById","initSTree","a","tl","al","p","floor","log","pow","Array","getRightChildIdx","idx","getLeftChildIdx","buildSTree","T","cmp","buildSTree_","leftIdx","rightIdx","middleIdx","isNaN","querySTree","len","fail","querySTree_","qLeftIdx","qRightIdx","ID_","parent","UI_","ctx_","ID","AYL","AX","AXL","TOTALS","parentSeries","currentTheme","V","progress","needMeasure","yPos","ctx","IDs","AY","X","TYPES","PERCENTS","STREE_MIN","STREE_MAX","animations","A","STATE","myIdx","UI","chart","topPadding","hPadding","height","pie","segmentShift","vPadding","radius","lineWidth","handleW","handleTick","minBrushSize","hitSlop","legendShift","markerRadius","markerLineWidth","textWidth","fadeTime","textCount","main","this","setTheme","theme","stylo","buttons","name","labels","barColor","bars","lineColor","lines","stepGridX","stepGridY","repaint","parse","_IDs","_","tag","map","y","k","join","indexOf","push","renderLegend","innerHTML","flerken","renderCtrls","showButtons","ctrls","S","on","e","stop","tapStarted","now","tapTimer","clearTimeout","setTimeout","off","toggleCheckbox","seriesCount","prevSeriesCount","el","shake","updateCheckbox","togglePreview","on_","showPreview","animate","transform","error","msg","updateVars","showLegend","showRangeText","showLegendTitle","stepX","zoomStepX","autoScale","start","restart","data","previewA","x","forEach","keys","colors","names","min","max","localMM","globalMM","linear","line","multi_yaxis","percentage","localStart","startX","localEnd","endX","globalStart","globalEnd","innerText","canvas","getContext","isHooked","unhookEvents","addEventListener","dismiss","resize","scroll","vLineX","zoomedChart","zoomIn","area","cl","vLineY","pieX","pieY","isZoomed","legendIsVisible","updateZoomedChart","width","hideLegend","draggingArea","updateCursor","newLocalStart","newLocalEnd","deltaX","deltaStepX","getProps","applyRange","xToVal","abs","ceil","moveBrush","deltaDragX","zoom","currentGlobalStart","currentGlobalEnd","currentLocalStart","currentLocalEnd","isZooming","v_","_globalStart","_globalEnd","_localStart","_localEnd","opacity","updateRangeText","forceUpdate","destroy","wakeUp","getSeries","zoomOut","valToX","xVal","dxStart","dxEnd","getTheme","measureUI","render","xToIdx","xToIdxUp","xToIdxDown","renderHandle","rect","renderPreview","minH","minHeight","w","clearRect","save","globalAlpha","renderSeries","fillStyle","fillRect","restore","hw","end","strokeStyle","bar","brushBorderColor","brushBorderAlpha","strokeRect","renderBrush","renderXText","prevStep","scaleX","u","prevStepGridX","xAxisType","Function","fillText","renderYText","scaleY","localMin","localMax","localD","minLocalD","lowerMin","y_","val","a0","a1","yAxisType","measureText","renderPieLegend","R","masterA","percent","fontSize","r","text","font","ts","cos","angle","dx","dy","renderPie","startIdx","endIdx","R_","segment","values","totals","translate","sectorR","sqrt","sectorA","atan2","z","startA","dr","beginPath","moveTo","arc","fill","vStart","vEnd","offsetY","offsetX","isPreview","startIdx_","selectedIdx","selectX","selectY","selectH","barWidth","STACK","stacked","highlightedX","stack","renderBars","_p","_height","filled","selectedIndex","sector","centered","da","rotate","startLine","tan","lineTo","renderArea","stroke","renderLinear","renderMain","toggleLegend","renderGrid","ww","innerWidth","wh","innerHeight","pageYOffset","box","measure","prevW","prevH","attr","scale","_start","_end","rangeText","zoomedProps","rangeTextType","startStr","endStr","minMax","Infinity","x1","x2","compare","maxY","minY","recalcMinMax","prevMM","MM","movingBrush","isDestroyed","completed","started","animated","update","to","cb","ease","from","duration","doAnimations","requestAnimationFrame","localRangeChanged","prevLocalStart","prevLocalEnd","prevGlobalStart","prevGlobalEnd","seriesCountChanged","isOnOffAnimating","recalcTotals","hidden","xAxisStep","prevStepGridY","renderAxis","backgroundColor","pieMode","localDY","side","sum","xval","display","pp","paddingTop","labelTotal","labelValueTotal","legendPosition","legendTimer","resetCursor","cursor","setProgress","stopPropagation","preventDefault","o","className","evt","split","touch","touches","clientX","pageX","clientY","pageY","whereAmI","value","setAttribute","append","getBoundingClientRect","left","top","raw","classList","add","remove","y1","y2","right","clip","rightR","leftR","arcTo","closePath","lw","lineCap","lineJoin","inProgress","selectedX","setHours","setMinutes","setSeconds","setMilliseconds","getTime","roundDate","onZoomIn","doZoom","then","err","JSON","stringify","newGlobalStart","newGlobalEnd","zoomInterval","getAxesData","zoomProps","p_","removeEventListener","getDefaultTheme","getVars","hide","V_","prop","setProps","props_","assign","setShowButtons","setStartX","setEndX","setAutoScale","setShowPreview","RESTARTING_PROPS","Charty$1","_Component","Charty$$1","_ref","_temp","_this","_len","arguments","args","_key","__proto__","getPrototypeOf","apply","concat","setRef","subClass","superClass","create","setPrototypeOf","charty","nextProps","nextState","_this2","findIndex","propTypes","string","object","bool","func","LIGHT_THEME","DARK_THEME","BOX_OFFICE_DATA","y0","y10","y12","y3","y4","y11","y5","y6","y7","y8","App","switchTheme","isDarkTheme","state","setState","body","month","day","year","file","fetch","response","json","isLoaded","dataFiles","Promise","all","results","marginTop","Fragment","onClick","Component","ReactDOM"],"mappings":"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","file":"static/js/main.9ef402af.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \"/*\\n *  Copyright (c) 2019-present, Aleksandr Telegin\\n *\\n * This source code is licensed under the MIT license.\\n */\\n\\n.styles_chart__3TN3X {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.styles_chart__3TN3X .styles_header__3PFGX{\\n  height: 50px;\\n  position: relative;\\n}\\n.styles_chart__3TN3X .styles_title__1cca0 {\\n  font-size: 16px;\\n  margin: 15px 0 0 20px;\\n  position: absolute;\\n  transform-origin: top left;\\n  -webkit-transform-origin: bottom left;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD {\\n  opacity: 0;\\n  position: absolute;\\n  transform-origin: bottom left;\\n  -webkit-transform-origin: bottom left;\\n  margin: 15px 0 0 20px;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD .styles_zoomIcon__3EH5u {\\n  width: 16px;\\n  height: 16px;\\n  display: inline-block;\\n  position: relative;\\n  margin: 0 8px 0 0;\\n  top: 5px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAdVBMVEUAAAAQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+MQi+OtSfirAAAAJ3RSTlMA5en9VPD44M6SPDryrbm0NiDbLcGPZQjWvoFZQCkVEQ2eb0NPTQo+24OLAAAA50lEQVQoz4WP23KDMAxELYR8w9xsIEACIUnb///EmmLGnk463ae1jke7Yj9ah1qA7Av2S9eODBEZodp0fFHcVM+XzpXF8ZYAhfZ6uPbBRRP3cBsfPXZbsGvH82RthUOwA1Vp4Cc/n7V5puAuRWgm6MXYXJe7auc/8pAIpBmb8JAvW6I+gCSf7XSxS2/sMpELBY1KMxaQ98M1wrYJmFHFwx9xrgGW07cj77/O+UgQz70JrD5Wf/UyA0GWkKZDLutyAgQ/z7JItqESHEkql0dyJjWF23vmWSSJ/ifwFzGSvSNgrGZviSzYNyH9CvXxutyLAAAAAElFTkSuQmCC');\\n}\\n.styles_chart__3TN3X .styles_date__3jLQg {\\n  position: relative;\\n  display: flex;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_date__3jLQg a {\\n  position: absolute;\\n  right: 0;\\n}\\n.styles_chart__3TN3X .styles_zoomText__OFj8g {\\n  font-weight: normal;\\n  font-size: 16px;\\n  color: #108BE3;\\n  padding: 0 0 20px;\\n}\\n.styles_chart__3TN3X .styles_localRange__3BkLX {\\n  font-size: 12px;\\n  top: 0;\\n  padding: 17px 20px 0 0;\\n  margin: 0;\\n  right: 0;\\n  transform-origin: top right;\\n  -webkit-transform-origin: bottom left;\\n  position: absolute;\\n}\\n.styles_chart__3TN3X .styles_zoomedRange__2Eoyo {\\n  font-size: 12px;\\n  top: 0;\\n  padding: 17px 20px 0 0;\\n  margin: 0;\\n  right: 0;\\n  position: absolute;\\n  opacity: 0;\\n  transform-origin: bottom right;\\n  -webkit-transform-origin: bottom left;\\n}\\n.styles_chart__3TN3X .styles_ctrls__1QGXt {\\n  padding: 0 6px;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  transition: transform .3s ease;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb {\\n  margin: 10px 0 0 10px;\\n  padding: 9px 12px 9px 30px;\\n  cursor: pointer;\\n  position: relative;\\n  border-radius: 7px;\\n  border-width: 1px;\\n  border-style: solid;\\n  font-size: 14px;\\n  min-width: auto;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb.styles_shake__cxUqQ {\\n  -webkit-animation: styles_shake__cxUqQ .3s ease alternate;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_chk__36JRA {\\n  width: 16px;\\n  height: 16px;\\n  position: absolute;\\n  left: 8px;\\n  top: 10px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAflBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vroaSAAAAKXRSTlMA9F4IBPHk2dK8fXYxD/z4wLSvo5yGVEdCIhvIqJiPWFA9Nykf3ctiF+A174kAAADgSURBVEjH7ZJZDoJAEAWbAREB2RRwRTaXvv8FNUyr0QTy+CXUH0kldGoezUyau+NaY/w85CDxcb+x+UV4VqC/jlhzJIxE/DTH/I34BWGk4idgJiW+s8b82tD+AozaXrUflmDQFWsuNC6QB/qu+FsaF2hlYv5OAi0PmL+3tW/UvYqZKfP7cWRN/0QfMXN8+A/k9p/gdAf7v4FOvb733kAGBlJLFlLrE8hph2YQs3BubvK3ioawChaMAFyQkkvwBVXyWPiC9pHY8IKsLcMLErygC7QjmNxmNkoagX+KMpqZGE/sxyrbXghwlwAAAABJRU5ErkJggg==');\\n  transition: transform .15s ease;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_name__13yyl {\\n  font-weight: normal;\\n  display: inline-block;\\n  transition: transform .15s ease, opacity .15s ease;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG {\\n  position: absolute;\\n  padding: 8px 10px;\\n  border-radius: 10px;\\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.4);\\n  white-space: nowrap;\\n  max-width: 300px;\\n  z-index: 9999;\\n  transform: translate3d(0, -200px, 0);\\n  -webkit-transform-origin: bottom left;\\n  top: 0;\\n  font-size: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 150px;\\n  opacity: 0;\\n  transition: opacity .3s ease;\\n  overflow-y: auto;\\n  max-height: 200px;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_xval__2fECb {\\n  font-weight: bold;\\n  margin: 0 22px 5px 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_label__1nh3o, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: row;\\n  padding: 5px 0 0 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\\n  display: none;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelPercent__3drGS {\\n  display: none;\\n  font-weight: bold;\\n  font-size: 12px;\\n  text-align: right;\\n  min-width: 30px;\\n  padding: 0 10px 0 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelName__2M57m, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelNameTotal__3VUst {\\n  font-size: 12px;\\n  padding: 0 10px 0 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValue__3m_Aj, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValueTotal__1ihZO {\\n  font-weight: bold;\\n  font-size: 12px;\\n  flex: 1;\\n  text-align: right;\\n}\\n\";\nvar styles = {\n  \"chart\": \"styles_chart__3TN3X\",\n  \"header\": \"styles_header__3PFGX\",\n  \"title\": \"styles_title__1cca0\",\n  \"zoom\": \"styles_zoom__1MrWD\",\n  \"zoomIcon\": \"styles_zoomIcon__3EH5u\",\n  \"date\": \"styles_date__3jLQg\",\n  \"zoomText\": \"styles_zoomText__OFj8g\",\n  \"localRange\": \"styles_localRange__3BkLX\",\n  \"zoomedRange\": \"styles_zoomedRange__2Eoyo\",\n  \"ctrls\": \"styles_ctrls__1QGXt\",\n  \"checkbox\": \"styles_checkbox__n3Wwb\",\n  \"shake\": \"styles_shake__cxUqQ\",\n  \"chk\": \"styles_chk__36JRA\",\n  \"name\": \"styles_name__13yyl\",\n  \"legend\": \"styles_legend__1RMVG\",\n  \"xval\": \"styles_xval__2fECb\",\n  \"label\": \"styles_label__1nh3o\",\n  \"labelTotal\": \"styles_labelTotal__17ztL\",\n  \"labelPercent\": \"styles_labelPercent__3drGS\",\n  \"labelName\": \"styles_labelName__2M57m\",\n  \"labelNameTotal\": \"styles_labelNameTotal__3VUst\",\n  \"labelValue\": \"styles_labelValue__3m_Aj\",\n  \"labelValueTotal\": \"styles_labelValueTotal__1ihZO\"\n};\nstyleInject(css);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n\nvar Charty = function () {\n  var CHARTY = '<div id=|header>\\\n      <h3 id=|title></h3>\\\n      <h3 id=|zoom><span id=|zoomIcon></span><span id=|zoomText>Zoom Out</span></h3>\\\n      <h4 id=|localRange></h4>\\\n      <h4 id=|zoomedRange></h4>\\\n    </div>\\\n    <canvas id=|canvas></canvas>\\\n    <div id=|ctrls></div>\\\n    <div id=|legend></div>',\n      CTRLS = '[<label id=|checkbox{i} style=\"background: {color}; border-color: {color}\"><span id=|name{i} style=\"color:#fff\">{name}</span><span id=|chk{i}></span></label>]',\n      LEGEND = '<div id=|date><span id=|xval></span></div>\\\n      [<div id=|label{i}><div id=|labelPercent{i}></div><div id=|labelName{i}></div><div id=|labelValue{i} style=\"color:{color}\"></div></div>]\\\n      <div id=|labelTotal><div id=|labelNameTotal>All</div><div id=|labelValueTotal></div></div>',\n      DEFAULT_THEME = {\n    grid: {\n      color: '#182D3B',\n      alpha: 0.1,\n      markerFillColor: '#fff'\n    },\n    legend: {\n      background: '#fff',\n      color: '#000'\n    },\n    preview: {\n      maskColor: '#E2EEF9',\n      maskAlpha: 0.6,\n      brushColor: '#C0D1E1'\n    },\n    xAxis: {\n      textColor: '#8E8E93',\n      textAlpha: 1\n    },\n    yAxis: {\n      textColor: '#8E8E93',\n      textAlpha: 1\n    },\n    title: {\n      color: '#000'\n    },\n    localRange: {\n      color: '#000'\n    },\n    zoomedRange: {\n      color: '#000'\n    }\n  },\n      PI_RAD = Math.PI / 180,\n      FONT = '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n      WDAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n      LONG_WDAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      DPR = window.devicePixelRatio,\n      LONG_TAP_DURATION = 700,\n      ANIMATE_DURATION = 220,\n      ON_OFF_DURATION = 150,\n      ZOOM_IN_DURATION = 300,\n      ZOOM_OUT_DURATION = 300,\n      SNAP_DURATION = 200,\n      LEGEND_TIMER = 10000,\n      AREA = {\n    HEADER: 1,\n    MAIN: 2,\n    XAXIS: 3,\n    PREVIEW: 4,\n    BRUSH_CENTER: 5,\n    BRUSH_LEFT: 6,\n    BRUSH_RIGHT: 7\n  },\n      IS_MOBILE = window.orientation !== undefined,\n      CHARTS = [],\n      PIE_VISIBLE = 0.99,\n      SHARED_PROPS = ['globalStart', 'globalEnd', 'localStart', 'localEnd', 'vLineX', 'vLineY', 'legendIsVisible', 'isZoomed', 'isZooming'],\n      EASE = {\n    inQuad: function inQuad(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    outQuad: function outQuad(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    inCubic: function inCubic(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    outCubic: function outCubic(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    outSine: function outSine(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    outBack: function outBack(t, b, c, d, s) {\n      if (!s) s = 1.5;\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    }\n  },\n      DATA_TYPES = {\n    time: function time(v) {\n      return unixToTime(v);\n    },\n    date: function date(v) {\n      return unixToD(v);\n    },\n    shortDate: function shortDate(v) {\n      return unixToD(v);\n    },\n    longDate: function longDate(v) {\n      return unixToDate(v);\n    },\n    longDateWeekDay: function longDateWeekDay(v) {\n      return unixToD(v, true, true);\n    },\n    float1: function float1(v) {\n      return parseFloat(v).toFixed(1);\n    },\n    float2: function float2(v) {\n      return parseFloat(v).toFixed(2);\n    },\n    number: function number(v) {\n      return format(v);\n    },\n    undefined: function undefined(v) {\n      return Math.round(v);\n    }\n  };\n\n  function roundDate(ts) {\n    var d = new Date(ts);\n    d.setHours(0);\n    d.setMinutes(0);\n    d.setSeconds(0);\n    d.setMilliseconds(0);\n    return d.getTime();\n  }\n\n  function format(n) {\n    if (n === undefined) return '';\n    return Math.round(n).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n  }\n\n  function unixToDate(time, _d) {\n    var d = _d || new Date(time);\n    return d.getDate() + ' ' + MONTHS[d.getMonth()] + ' ' + d.getFullYear();\n  }\n\n  function unixToD(time, full, longWdays) {\n    var d = new Date(time);\n    if (full) return (longWdays ? LONG_WDAYS[d.getDay()] : WDAYS[d.getDay()]) + ', ' + unixToDate(0, d);\n    return MONTHS[d.getMonth()] + ' ' + d.getDate();\n  }\n\n  function unixToTime(time) {\n    var d = new Date(time),\n        h = '' + d.getHours(),\n        m = '' + d.getMinutes();\n    if (h.length < 2) h = '0' + h;\n    if (m.length < 2) m = '0' + m;\n    return h + ':' + m;\n  }\n\n  function byId(id) {\n    return document.getElementById(id);\n  }\n\n  function initSTree(a) {\n    var al = a.length,\n        tl;\n    if ((al & al - 1) === 0) tl = 2 * al - 1;else {\n      var p = Math.floor(Math.log(al) / Math.log(2)),\n          power = Math.pow(2, p + 1);\n      tl = 2 * power - 1;\n    }\n    return new Array(tl);\n  }\n\n  function getRightChildIdx(idx) {\n    return 2 * idx + 2;\n  }\n\n  function getLeftChildIdx(idx) {\n    return 2 * idx + 1;\n  }\n\n  function buildSTree_(T, a, leftIdx, rightIdx, p, cmp) {\n    if (leftIdx === rightIdx) {\n      var v = a[leftIdx];\n      T[p] = isNaN(v) ? 0 : v;\n      return;\n    }\n\n    var middleIdx = Math.floor((leftIdx + rightIdx) / 2);\n    buildSTree_(T, a, leftIdx, middleIdx, getLeftChildIdx(p), cmp);\n    buildSTree_(T, a, middleIdx + 1, rightIdx, getRightChildIdx(p), cmp);\n    T[p] = cmp(T[getLeftChildIdx(p)], T[getRightChildIdx(p)]);\n  }\n\n  function buildSTree(T, a, cmp) {\n    buildSTree_(T, a, 0, a.length - 1, 0, cmp);\n  }\n\n  function querySTree_(T, qLeftIdx, qRightIdx, leftIdx, rightIdx, p, cmp, fail) {\n    if (qLeftIdx <= leftIdx && qRightIdx >= rightIdx) return T[p];\n    if (qLeftIdx > rightIdx || qRightIdx < leftIdx) return fail;\n    var middleIdx = Math.floor((leftIdx + rightIdx) / 2),\n        leftResult = querySTree_(T, qLeftIdx, qRightIdx, leftIdx, middleIdx, getLeftChildIdx(p), cmp, fail),\n        rightResult = querySTree_(T, qLeftIdx, qRightIdx, middleIdx + 1, rightIdx, getRightChildIdx(p), cmp, fail);\n    return cmp(leftResult, rightResult);\n  }\n\n  function querySTree(T, len, leftIdx, rightIdx, cmp, fail) {\n    return querySTree_(T, leftIdx, rightIdx, 0, len - 1, 0, cmp, fail);\n  }\n\n  function Charty(ID_, props, parent, UI_, ctx_) {\n    var ID = (typeof ID_ === 'undefined' ? 'undefined' : _typeof(ID_)) === 'object' ? ID_.id : ID_;\n    if (!ID) ID = ID_.id = 'charty-' + CHARTS.length;\n    var V = {\n      progress: 0,\n      needMeasure: true,\n      yPos: []\n    },\n        ctx = ctx_,\n        IDs = [],\n        AY = [],\n        AYL,\n        AX,\n        AXL,\n        X = {},\n        TYPES = {},\n        TOTALS,\n        PERCENTS = [],\n        STREE_MIN = [],\n        STREE_MAX = [],\n        animations = {},\n        A = {},\n        STATE = {},\n        myIdx = CHARTS.length,\n        parentSeries,\n        currentTheme,\n        UI = UI_ || {\n      chart: {\n        topPadding: 50,\n        hPadding: 15,\n        height: 400\n      },\n      pie: {\n        textColor: '#fff',\n        segmentShift: 5\n      },\n      preview: {\n        height: 46,\n        vPadding: 1,\n        radius: 8,\n        lineWidth: 1,\n        handleW: 9,\n        handleTick: 10,\n        minBrushSize: 10,\n        hitSlop: 10\n      },\n      grid: {\n        lineWidth: 1,\n        legendShift: -10,\n        markerRadius: 3,\n        markerLineWidth: 4\n      },\n      xAxis: {\n        textWidth: 80,\n        height: 32,\n        fadeTime: 250\n      },\n      yAxis: {\n        textCount: 5,\n        fadeTime: 500\n      },\n      main: {\n        lineWidth: 2,\n        vPadding: 15\n      }\n    },\n        self = this;\n    CHARTS.push(self);\n    if (parent) parentSeries = parent.getSeries();\n\n    function setTheme(theme) {\n      currentTheme = theme;\n\n      for (var id in theme) {\n        if (UI[id]) {\n          if (UI[id].stylo) UI[id].stylo(theme[id]);else for (var key in theme[id]) {\n            UI[id][key] = theme[id][key];\n          }\n        }\n      }\n\n      for (var i = 0; i < AYL; i++) {\n        var s = AY[i];\n\n        if (UI['checkbox' + i]) {\n          if (theme.buttons) UI['name' + i].stylo({\n            color: theme.buttons[s.name]\n          });\n          if (UI['labelValue' + i] && theme.labels) UI['labelValue' + i].stylo({\n            color: theme.labels[s.name]\n          });\n        }\n\n        s.barColor = (currentTheme.bars || {})[s.name] || s.color;\n        s.lineColor = (currentTheme.lines || {})[s.name] || s.color;\n      }\n\n      V.stepGridX = undefined;\n      V.stepGridY = undefined;\n      repaint();\n    }\n\n    this.setTheme = setTheme;\n\n    this.getDefaultTheme = function () {\n      return DEFAULT_THEME;\n    };\n\n    start();\n\n    function parse(T, _IDs) {\n      if (_IDs) IDs = _IDs;\n      return T.replace(/\\[([^\\]]+)\\]/g, function (_, tag) {\n        return AY.map(function (y, i) {\n          return tag.replace(/\\{(\\w+)\\}/g, function (_, k) {\n            return k === 'i' ? i : y[k];\n          });\n        }).join('');\n      }).replace(/\\|([^\\s>]+)/g, function (_, id) {\n        if (IDs.indexOf(id) < 0) IDs.push(id);\n        return ID + '-' + id;\n      });\n    }\n\n    function updateTheme() {\n      if (parent) setTheme(parent.getTheme());else if (currentTheme) setTheme(currentTheme);else {\n        setTheme(props.theme || DEFAULT_THEME);\n      }\n    }\n\n    function renderLegend() {\n      UI.legend.innerHTML = parse(LEGEND, []);\n      IDs.map(flerken);\n    }\n\n    function renderCtrls() {\n      if (!V.showButtons) UI.ctrls.innerHTML = '';else {\n        UI.ctrls.innerHTML = parse(CTRLS, []);\n        IDs.map(flerken);\n        AY.map(function (S, i) {\n          UI['checkbox' + i].on('mousedown touchstart', function (e) {\n            stop(e);\n            V.tapStarted = Date.now();\n            if (V.tapTimer) clearTimeout(V.tapTimer);\n            V.tapTimer = setTimeout(function () {\n              V.tapTimer = 0;\n\n              for (var idx = 0; idx < AYL; idx++) {\n                var s = AY[idx];\n                if (!s.off && idx !== i || s.off && idx === i) toggleCheckbox(idx, idx !== i);\n              }\n\n              V.seriesCount = 1;\n              V.prevSeriesCount = 0;\n            }, LONG_TAP_DURATION);\n          }).on('mouseup touchend', function (e, a, b, c, el) {\n            stop(e);\n            if (!V.tapTimer) return;\n            clearTimeout(V.tapTimer);\n            V.tapTimer = 0;\n\n            for (var idx = 0; idx < AYL; idx++) {\n              if (idx !== i && !AY[idx].off) return toggleCheckbox(i);\n            }\n\n            el.shake();\n          });\n          updateCheckbox(i, S.off);\n        });\n      }\n    }\n\n    function togglePreview(on_) {\n      var off = on_ !== undefined ? !on_ : !V.showPreview;\n      animate('previewA', off ? 1 : 0, off ? 0 : 1, 2 * ON_OFF_DURATION);\n      var d = on_ ? 0 : UI.preview.height + 10;\n      UI.ctrls.stylo({\n        transform: 'translate3d(0, -' + d + 'px, 0)'\n      });\n      V.showPreview = !off;\n    }\n\n    this.togglePreview = togglePreview;\n\n    function restorePreview(on) {\n      self.togglePreview(on);\n    }\n\n    function error(msg) {\n      throw msg;\n    }\n\n    function updateVars() {\n      V.showLegend = props.showLegend !== false;\n      V.showButtons = props.showButtons !== false && AYL > 1;\n      V.showPreview = props.showPreview !== false;\n      V.showRangeText = props.showRangeText !== false;\n      V.showLegendTitle = props.showLegendTitle !== false;\n      V.stepX = props.stepX || 1;\n      V.zoomStepX = props.zoomStepX || 1;\n      V.autoScale = props.autoScale !== false;\n    }\n\n    function start(restart) {\n      var data = props.data;\n      AY = [];\n      X = {};\n      TYPES = {};\n      IDs = [ID];\n      A = {\n        previewA: V.showPreview ? 1 : 0\n      };\n      if (!data) return error('The data parameter is missing.');\n      if (!data.x || !(data.x instanceof Array)) return error('The x-axis data is missing.');\n      var type = props.type || 'line';\n      ['line', 'stacked', 'area', 'percentage', 'multi_yaxis', 'bar', 'pie'].forEach(function (t) {\n        TYPES[t] = type.indexOf(t) >= 0;\n      });\n      Object.keys(data).forEach(function (n) {\n        var d = data[n];\n        if (n === 'x') AX = d;else AY.push({\n          data: d,\n          color: (props.colors || {})[n],\n          name: (props.names || {})[n],\n          type: props.type\n        });\n      });\n      AYL = AY.length;\n      AXL = AX.length;\n      X.min = AX[0];\n      X.max = AX[AXL - 1];\n      X.d = X.max - X.min;\n      V.localMM = undefined;\n      V.globalMM = undefined;\n      TYPES.linear = TYPES.line || TYPES.multi_yaxis;\n      updateVars();\n      A = {\n        previewA: V.showPreview ? 1 : 0\n      };\n\n      for (var i = 0, S; i < AYL; i++) {\n        var S = AY[i],\n            off = false;\n\n        if (!TYPES.percentage) {\n          STREE_MAX[i] = initSTree(S.data);\n          buildSTree(STREE_MAX[i], S.data, Math.max);\n          STREE_MIN[i] = initSTree(S.data);\n          buildSTree(STREE_MIN[i], S.data, Math.min);\n        }\n\n        if (parentSeries && parentSeries[i] && parentSeries[i].name === S.name) off = parentSeries[i].off;\n        S.off = off;\n        A['alphaY' + i] = off ? 0 : 1;\n        A['on' + i] = off ? 0 : 1;\n      }\n\n      if (!restart) {\n        V.localStart = props.startX || 2 / 3 * X.d + X.min;\n        V.localEnd = props.endX || X.max;\n        V.globalStart = X.min;\n        V.globalEnd = X.max;\n      }\n\n      V.minBrushSize = X.d * UI.preview.minBrushSize / 100;\n      V.seriesCount = AYL;\n\n      if (!restart) {\n        if (parent) {\n          renderLegend();\n          renderCtrls();\n          parent.togglePreview(V.showPreview);\n        } else {\n          byId(ID).innerHTML = parse(CHARTY);\n          IDs.map(flerken);\n          renderLegend();\n          renderCtrls();\n          togglePreview(V.showPreview);\n          UI.title.innerText = props.title;\n          ctx = UI.canvas.getContext('2d');\n          hookEvents();\n        }\n      }\n\n      updateTheme();\n      V.forceUpdate = true;\n      repaint();\n      measureUI();\n\n      if (!restart) {\n        render();\n      }\n    }\n\n    function xToIdx(x) {\n      return applyRange(Math.round((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function xToIdxUp(x) {\n      return applyRange(Math.ceil((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function xToIdxDown(x) {\n      return applyRange(Math.floor((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function valToX(v) {\n      return (v - V.globalStart) / (V.globalEnd - V.globalStart) * UI.preview.width + UI.chart.hPadding;\n    }\n\n    function xToVal(x) {\n      return (x - UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n    }\n\n    function doAnimations(time) {\n      var a,\n          completed = true;\n\n      for (var name in animations) {\n        a = animations[name];\n        if (a.off) continue;\n        if (!a.started) a.started = time;\n\n        if (props.animated === false) {\n          a.update ? a.update(a.to) : A[name] = a.to;\n          a.cb && a.cb();\n          a.off = true;\n        } else {\n          var d = time - a.started,\n              v = a.ease(d, a.from, a.to - a.from, a.duration);\n          a.update ? a.update(v) : A[name] = v;\n\n          if (d > a.duration) {\n            a.update ? a.update(a.to) : A[name] = a.to;\n            a.cb && a.cb();\n            a.off = true;\n          } else completed = false;\n        }\n\n        repaint();\n        parent && parent.repaint();\n      }\n\n      if (completed) animations = {};\n    }\n\n    function renderHandle(x) {\n      UI.canvas.rect(x, UI.chart.height - (UI.preview.height + UI.preview.handleTick) / 2, 2, UI.preview.handleTick, 2, true, true);\n    }\n\n    function renderBrush(a) {\n      var hw = UI.preview.handleW,\n          start = valToX(V.localStart),\n          end = valToX(V.localEnd);\n      ctx.strokeStyle = UI.preview.brushColor;\n      ctx.globalAlpha = a;\n      ctx.lineWidth = 1;\n\n      if (TYPES.bar || TYPES.area || TYPES.pie) {\n        ctx.fillStyle = UI.preview.brushBorderColor;\n        ctx.globalAlpha = UI.preview.brushBorderAlpha;\n        UI.canvas.rect(start - 1, UI.preview.y - 1, hw + 3, UI.preview.height + 3, UI.preview.radius + 1, true);\n        UI.canvas.rect(end - hw - 2, UI.preview.y - 1, hw + 3, UI.preview.height + 3, UI.preview.radius + 1, false, true);\n      }\n\n      ctx.globalAlpha = a;\n      ctx.fillStyle = UI.preview.brushColor;\n      UI.canvas.rect(start, UI.preview.y, hw, UI.preview.height, UI.preview.radius, true);\n      UI.canvas.rect(end - hw, UI.preview.y, hw, UI.preview.height, UI.preview.radius, false, true);\n      ctx.strokeRect(start + hw, UI.preview.y + UI.preview.vPadding / 2, end - start - 2 * hw, UI.preview.height - UI.preview.vPadding);\n      ctx.fillStyle = '#fff';\n      renderHandle(start + 4);\n      renderHandle(end - 6);\n    }\n\n    function renderPreview() {\n      var h = UI.preview.height,\n          minH = UI.preview.minHeight,\n          w = UI.preview.width,\n          a = A['previewA'];\n      if (!parent) ctx.clearRect(0, UI.xAxis.y + 5, UI.main.width, UI.xAxis.height + h);\n      if (!V.showPreview) return;\n      ctx.save();\n      UI.canvas.rect(UI.chart.hPadding, UI.preview.y + UI.preview.vPadding, w, minH, UI.preview.radius, true, true, true);\n      ctx.lineWidth = UI.preview.lineWidth;\n      ctx.globalAlpha = a;\n      renderSeries('global', a, w, h - 2 * UI.preview.vPadding, V.globalStart, V.globalEnd, 0, UI.chart.height - UI.preview.vPadding, UI.chart.hPadding, true);\n      ctx.fillStyle = UI.preview.maskColor;\n      ctx.globalAlpha = a * UI.preview.maskAlpha;\n      ctx.fillRect(UI.chart.hPadding, UI.preview.y + UI.preview.vPadding, valToX(V.localStart) - UI.preview.handleW, minH);\n      ctx.fillRect(valToX(V.localEnd) - UI.preview.handleW, UI.preview.y + UI.preview.vPadding, UI.main.width + UI.preview.handleW - UI.chart.hPadding - valToX(V.localEnd), minH);\n      ctx.restore();\n      renderBrush(a);\n    }\n\n    function renderAxis() {\n      if (TYPES.pie) return;\n      var localD,\n          localMin,\n          localMax = 0,\n          minLocalD,\n          lowerMin,\n          p = Math.min(1, V.progress);\n      ctx.font = '11px ' + FONT;\n\n      if (TYPES.percentage) {\n        localMin = 0;\n        localMax = 100;\n      } else if (TYPES.stacked || TYPES.bar || TYPES.percentage) {\n        for (var i = 0, val; i < AYL; i++) {\n          val = AY[i].max * A['on' + i];\n          localMax = TYPES.stacked ? localMax + val : Math.max(localMax, val);\n        }\n\n        localMin = 0;\n      } else if (TYPES.multi_yaxis) {\n        localMin = Math.max(A['localMinY0'], A['localMinY1']);\n        localMax = localMin + Math.max(A['localDY0'], A['localDY1']);\n        minLocalD = Math.min(A['localDY0'], A['localDY1']);\n        lowerMin = Math.min(A['localMinY0'], A['localMinY1']);\n      } else {\n        localMax = V.localMM.max;\n        localMin = V.localMM.min;\n      }\n\n      localD = localMax - localMin;\n      var w = UI.main.width - 2 * UI.chart.hPadding,\n          scaleX = w / (V.localEnd - V.localStart),\n          scaleY = (UI.main.height - 22) / localD,\n          start = xToIdxDown(V.localStart - UI.chart.hPadding / scaleX),\n          end = xToIdxUp(V.localEnd + UI.chart.hPadding / scaleX),\n          y = UI.xAxis.y + UI.xAxis.height / 2,\n          stepGridX = props.xAxisStep ? props.xAxisStep : Math.pow(2, Math.ceil(Math.log(3 * UI.xAxis.textWidth * (end - start) / w))) || 1,\n          stepGridY = Math.round(localD / UI.yAxis.textCount) || 1,\n          d = 5 * Math.pow(10, stepGridY.toString().length - 2) || 1;\n      stepGridY = Math.max(1, Math.round(stepGridY / d) * d);\n\n      if (V.stepGridX !== stepGridX) {\n        if (V.stepGridX) {\n          if (V.stepGridX < stepGridX) animate('stepGridXA' + V.stepGridX, 1, 0, UI.xAxis.fadeTime);\n          V.prevStepGridX = V.stepGridX;\n        }\n\n        if (!V.prevStepGridX || stepGridX < V.prevStepGridX) animate('stepGridXA' + stepGridX, 0, 1, UI.xAxis.fadeTime);\n        if (stepGridX > V.prevStepGridX) A['stepGridXA' + stepGridX] = 1;\n        V.stepGridX = stepGridX;\n      }\n\n      if (V.prevStepGridX) renderXText(1, V.prevStepGridX, start, end, scaleX, y, 1 - p);\n      renderXText(0, stepGridX, start, end, scaleX, y, 1 - p);\n\n      if (V.stepGridY !== stepGridY) {\n        if (V.stepGridY) {\n          animate('stepGridYA' + V.stepGridY, 1, 0, UI.yAxis.fadeTime / 2, 0, 0, function () {\n            V.prevStepGridY = 0;\n            V.yPos = [];\n          });\n          V.prevStepGridY = V.stepGridY;\n        }\n\n        animate('stepGridYA' + stepGridY, 0, 1, UI.yAxis.fadeTime);\n        V.stepGridY = stepGridY;\n      }\n\n      if (V.prevStepGridY) renderYText(1, V.prevStepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, 1 - p);\n      renderYText(0, stepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, 1 - p);\n\n      if (TYPES.percentage) {\n        ctx.globalAlpha = UI.xAxis.textAlpha * (1 - p);\n        ctx.fillStyle = UI.yAxis.textColor;\n        ctx.fillText('100', UI.chart.hPadding, 12);\n      }\n    }\n\n    function renderXText(prevStep, stepGridX, start, end, scaleX, y, p) {\n      var a = A['stepGridXA' + stepGridX] * UI.xAxis.textAlpha * p;\n      if (a === 0) return;\n      start -= start % stepGridX;\n      ctx.fillStyle = UI.xAxis.textColor;\n      ctx.globalAlpha = a;\n\n      for (var i = start, x, u; i <= end; i += stepGridX) {\n        if (!prevStep && stepGridX < V.prevStepGridX && i % V.prevStepGridX === 0) continue;\n        if (prevStep && stepGridX > V.prevStepGridX && i % V.prevStepGridX === 0) continue;\n        if (prevStep && V.stepGridX > V.prevStepGridX && i % V.stepGridX === 0) continue;\n        x = UI.chart.hPadding + (AX[i] - V.localStart) * scaleX;\n        u = props.xAxisType instanceof Function ? props.xAxisType(AX[i]) : DATA_TYPES[props.xAxisType](AX[i]);\n        ctx.fillText(u, x, y);\n      }\n    }\n\n    function renderYText(prevStep, stepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, p) {\n      var u,\n          y = localMin,\n          y_,\n          yPos,\n          val,\n          c = 0,\n          a0 = TYPES.multi_yaxis ? A['alphaY0'] : 1,\n          a1 = TYPES.multi_yaxis ? A['alphaY1'] : 1,\n          a = A['stepGridYA' + stepGridY],\n          v;\n\n      while (y < localMax) {\n        y_ = c === 0 && stepGridY > 10 ? Math.ceil(y / 10) * 10 : y;\n        yPos = UI.xAxis.y - (y - localMin) * scaleY;\n\n        if (prevStep && c > 0) {\n          v = V.yPos[c];\n          if (v) yPos = yPos + (yPos - V.yPos[c]) * a;\n        }\n\n        val = '' + Math.floor(c === 0 ? localMin : y_);\n        ctx.globalAlpha = a * p * a0 * UI.yAxis.textAlpha;\n        ctx.fillStyle = TYPES.multi_yaxis ? AY[0].lineColor : UI.yAxis.textColor;\n        u = props.yAxisType instanceof Function ? props.yAxisType(val) : DATA_TYPES[props.yAxisType](val);\n        ctx.fillText(u, UI.chart.hPadding, yPos - 5);\n\n        if (TYPES.multi_yaxis) {\n          ctx.fillStyle = AY[1].lineColor || UI.yAxis.textColor;\n          val = Math.max(0, Math.floor(lowerMin + (y - localMin) / localD * minLocalD));\n          if (c > 0 && val > 50) val = Math.ceil(val / 10) * 10;\n          ctx.globalAlpha = a * p * a1;\n          u = props.yAxisType instanceof Function ? props.yAxisType(val) : DATA_TYPES[props.yAxisType](val);\n          ctx.fillText(u, UI.main.width - UI.chart.hPadding - ctx.measureText(u).width - 5, yPos - 5);\n        }\n\n        UI.canvas.line(UI.chart.hPadding, yPos, UI.main.width - UI.chart.hPadding, yPos, UI.grid.lineWidth, UI.grid.color, a * UI.grid.alpha * p);\n        if (!prevStep) V.yPos[c] = yPos;\n\n        if (c === 0 && stepGridY > 10) {\n          y_ = y_ + (stepGridY - y_ % stepGridY);\n          y = y_ - y < stepGridY * 0.6 ? y_ + stepGridY : y_;\n        } else y += stepGridY;\n\n        c++;\n      }\n    }\n\n    function renderLinear(type, height, vStart, hPadding, offsetY, offsetX, startIdx, endIdx, scaleX, scaleY) {\n      height -= UI.grid.markerRadius + UI.grid.markerLineWidth;\n\n      for (var s = 0, idx, x, data, color; s < AYL; s++) {\n        data = AY[s].data;\n        color = AY[s].lineColor;\n        UI.canvas.startLine((1 - V.progress) * A['alphaY' + s], color, 0, ctx.lineWidth);\n        idx = TYPES.multi_yaxis ? s : '';\n        scaleY = height / A[type + 'DY' + idx];\n\n        for (var i = startIdx; i <= endIdx; i++) {\n          x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n          if (i === startIdx) ctx.moveTo(x, offsetY - (data[i] - A[type + 'MinY' + idx]) * scaleY);\n          ctx.lineTo(x, offsetY - (data[i] - A[type + 'MinY' + idx]) * scaleY);\n        }\n\n        ctx.stroke();\n      }\n    }\n\n    function renderBars(type, masterA, width, height, vStart, hPadding, offsetY, offsetX, isPreview, startIdx_, endIdx, scaleX) {\n      var selectedIdx,\n          x,\n          p = 1 - V.progress,\n          startIdx = xToIdxDown(vStart - hPadding / scaleX),\n          barWidth = UI.main.width / (endIdx - startIdx_ - 0.5),\n          max = 0,\n          alpha,\n          scaleY,\n          STACK = new Array(AXL),\n          selectX,\n          selectY,\n          selectH;\n\n      for (var s = 0, val; s < AYL; s++) {\n        val = A[type + 'DY' + s] * A['on' + s];\n        max = TYPES.stacked ? max + val : Math.max(max, val);\n      }\n\n      if (V.showLegend && V.vLineX >= 0) {\n        x = V.localStart + (V.highlightedX - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart);\n        selectedIdx = xToIdxDown(x);\n      }\n\n      for (var s = 0; s < AYL; s++) {\n        alpha = A['alphaY' + s] * p;\n        ctx.globalAlpha = masterA * (isPreview ? alpha : selectedIdx >= 0 ? 0.5 : alpha);\n        ctx.fillStyle = AY[s].barColor;\n        ctx.beginPath();\n        scaleY = (height + UI.main.vPadding / 2) / max;\n\n        for (var i = startIdx, val, stack; i <= endIdx; i++) {\n          val = AY[s].data[i] * A['on' + s];\n          stack = STACK[i] || 0;\n          x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n          ctx.rect(x, offsetY - stack * scaleY, barWidth, -val * scaleY);\n\n          if (selectedIdx === i) {\n            selectX = x;\n            selectY = offsetY - stack * scaleY;\n            selectH = -val * scaleY;\n          }\n\n          if (TYPES.stacked) STACK[i] = stack + val;\n        }\n\n        ctx.fill();\n\n        if (!isPreview && selectedIdx >= 0) {\n          ctx.globalAlpha = alpha * masterA;\n          ctx.fillRect(selectX, selectY, barWidth, selectH);\n        }\n      }\n    }\n\n    function renderArea(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview) {\n      var scaleX = width / (vEnd - vStart),\n          startIdx = xToIdxDown(vStart - hPadding / scaleX),\n          endIdx = xToIdxUp(vEnd + hPadding / scaleX),\n          STACK = new Array(AXL),\n          progress = isPreview ? 0 : V.progress,\n          R = Math.min(UI.main.height, UI.main.width) / 2 - 25,\n          p = Math.min(1, progress),\n          _p = 1 - progress;\n\n      if (p > 0 && !isPreview) {\n        vStart = V._localStart;\n        vEnd = V._localEnd;\n        scaleX = width / (vEnd - vStart);\n        startIdx = xToIdxDown(vStart - hPadding / scaleX);\n        endIdx = xToIdxUp(vEnd + hPadding / scaleX);\n      }\n\n      if (!isPreview) height += UI.main.vPadding;\n\n      var _height = height / (1 + progress),\n          scaleY = _height / 100,\n          angle = 0,\n          filled = false;\n\n      if (!isPreview) {\n        offsetX -= UI.main.width / 2;\n        offsetY -= R + 15;\n        ctx.save();\n        if (p < 1) UI.canvas.rect(p * (UI.main.width / 2 - R), 25 * p, 2 * R * p + (1 - p) * (UI.main.width - hPadding), 2 * R + 50 * _p, p * R, true, true, true);\n        ctx.translate(UI.main.width / 2, UI.main.height / 2);\n        if (!isPreview && p <= PIE_VISIBLE) ctx.transform(1 + p, 0, 0, 1 + p, 0, 0);\n        if (p > PIE_VISIBLE) renderPie(xToIdx(V.localStart), xToIdx(V.localEnd - V.zoomStepX), masterA, R);\n      }\n\n      if (p <= PIE_VISIBLE || isPreview) {\n        angle = 0;\n\n        for (var s = AYL - 1; s >= 0; s--) {\n          var S = AY[s],\n              selectedVal = S.data[V.selectedIndex] || 0,\n              percent = selectedVal / (TOTALS[V.selectedIndex] || 1),\n              sector = 180 * percent,\n              centered = false,\n              da = 0,\n              alpha = A['on' + s];\n\n          if (!isPreview) {\n            da = 180 * progress * percent * alpha * PI_RAD;\n            ctx.rotate(angle + da);\n          }\n\n          UI.canvas.startLine(alpha, 0, S.barColor, ctx.lineWidth);\n\n          for (var i = startIdx, val, x, y, startX, stack, dy; i <= endIdx; i++) {\n            stack = STACK[i] || 0;\n            val = 100 * S.data[i] / TOTALS[i] * alpha;\n            x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n            y = offsetY - _height + _p * stack * scaleY;\n            dy = isPreview ? 0 : Math.abs(x) / Math.tan((90 * _p + progress * sector) * PI_RAD);\n\n            if (i === startIdx) {\n              startX = x;\n              ctx.moveTo(x, _p * y + dy);\n            } else {\n              if (!centered && x >= 0 && progress > 0.5) {\n                centered = true;\n                ctx.lineTo(x * _p, _p * (_p * y + dy));\n              } else ctx.lineTo(x, _p * y + dy);\n            }\n\n            if (i === endIdx) {\n              if (!S.off && !filled) {\n                filled = true;\n                ctx.globalAlpha = masterA;\n                ctx.fillStyle = S.barColor;\n                ctx.fillRect(startX, -offsetY + 26, x - startX, 2 * offsetY);\n                if (V.seriesCount === 1) break;\n              } else {\n                ctx.lineTo(x, 2 * offsetY);\n                ctx.lineTo(startX, 2 * offsetY);\n              }\n            }\n\n            STACK[i] = stack + val;\n          }\n\n          ctx.fill();\n\n          if (!isPreview) {\n            ctx.rotate(-angle - da);\n            angle += 2 * da;\n          }\n\n          if (V.seriesCount === 1 && !S.off) break;\n        }\n      }\n\n      if (!isPreview) {\n        ctx.restore();\n        renderPieLegend(p, R, masterA);\n      }\n    }\n\n    function renderPieLegend(p, R, masterA) {\n      for (var s = AYL - 1; s >= 0; s--) {\n        var S = AY[s],\n            val = Math.round(S.percent * 100);\n        if (S.off) continue;\n        var fontSize = 13 + S.percent * 30,\n            r = val < 4 ? R + fontSize + 2 : R / 1.25,\n            text = val < 1 ? '<1%' : val + '%';\n        ctx.font = fontSize + 'px ' + FONT;\n        var ts = ctx.measureText(text),\n            x = UI.main.width / 2 + (1 - S.percent) * r * Math.cos(S.angle) - ts.width / 2 + 2 * S.dx,\n            y = UI.main.height / 2 + (1 - S.percent) * r * Math.sin(S.angle) + fontSize / 4 + 2 * S.dy;\n        ctx.globalAlpha = p * S.alpha * masterA;\n        ctx.fillStyle = val < 4 ? S.color : UI.pie.textColor;\n        ctx.fillText(text, x, y);\n      }\n    }\n\n    function renderPie(startIdx, endIdx, masterA, R_) {\n      var R = R_ || Math.min(UI.main.height, UI.main.width) / 2 - 25,\n          values = new Array(AYL),\n          totals = 0,\n          angle = 90 * PI_RAD,\n          segment,\n          progress = TYPES.pie ? 1 : V.progress;\n\n      for (var s = 0; s < AYL; s++) {\n        var S = AY[s],\n            a = A['on' + s];\n\n        for (var i = startIdx, val; i <= endIdx; i++) {\n          val = S.data[i];\n          values[s] = i === startIdx ? val : values[s] + val;\n          if (s === 0) totals += TOTALS[i];\n        }\n      }\n\n      if (!TYPES.area) {\n        ctx.save();\n        ctx.translate(UI.main.width / 2, UI.main.height / 2);\n      }\n\n      if (!isNaN(V.pieX)) {\n        var sectorR = Math.sqrt(V.pieX * V.pieX + V.pieY * V.pieY),\n            sectorA = Math.atan2(V.pieY, V.pieX);\n        sectorA -= 90 * PI_RAD;\n        if (sectorA < 0) sectorA += 2 * Math.PI;\n      }\n\n      for (s = AYL - 1; s >= 0; s--) {\n        var S = AY[s],\n            alpha = A['on' + s],\n            percent = values[s] / totals,\n            z = A['pieZoom' + s] || 0,\n            a = 360 * progress * percent * alpha * PI_RAD,\n            d = 0,\n            startA = angle - 90 * PI_RAD,\n            dx = z * UI.pie.segmentShift * Math.cos(90 * PI_RAD + startA + a / 2),\n            dy = z * UI.pie.segmentShift * Math.sin(90 * PI_RAD + startA + a / 2),\n            dr = z * UI.pie.segmentShift,\n            val = Math.round(percent * 100);\n        PERCENTS[s] = percent;\n        if (val >= 1 && sectorR <= R && sectorA >= startA && sectorA < startA + a) segment = s;\n        S.angle = angle + a / 2;\n        S.percent = alpha * percent;\n        S.alpha = alpha;\n        S.val = values[s];\n        S.dx = dx;\n        S.dy = dy;\n        S.z = z;\n        ctx.globalAlpha = masterA;\n        ctx.fillStyle = S.barColor;\n        ctx.beginPath();\n        ctx.moveTo(dx, dy);\n\n        if (V.seriesCount === 1 && !S.off) {\n          ctx.arc(0, 0, R + dr, angle, angle + 360 * PI_RAD);\n          ctx.fill();\n          break;\n        } else {\n          d = dr / (360 - 180 * percent);\n          ctx.arc(dx, dy, R + dr, angle + d, angle + a + PI_RAD * alpha - d);\n        }\n\n        ctx.fill();\n        angle += a;\n      }\n\n      if (!isNaN(segment)) {\n        if (V.segment !== segment) {\n          animate('pieZoom' + segment, 0, 1, ON_OFF_DURATION);\n          if (!isNaN(V.segment)) animate('pieZoom' + V.segment, 1, 0, ON_OFF_DURATION, 0);\n          V.segment = segment;\n        }\n      } else if (!isNaN(V.segment)) {\n        animate('pieZoom' + V.segment, 1, 0, ON_OFF_DURATION, 0);\n        V.segment = undefined;\n      }\n\n      if (!TYPES.area) {\n        ctx.restore();\n        renderPieLegend(progress, R, masterA);\n      }\n    }\n\n    function renderSeries(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview) {\n      var scaleX = width / (vEnd - vStart),\n          startIdx = xToIdx(vStart - hPadding / scaleX),\n          endIdx = xToIdx(vEnd + hPadding / scaleX),\n          scaleY;\n      ctx.globalAlpha = masterA;\n      if (TYPES.bar) renderBars(type, masterA, width, height, vStart, hPadding, offsetY, offsetX, isPreview, startIdx, endIdx, scaleX);else if (TYPES.area || TYPES.pie && isPreview) renderArea(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview);else if (TYPES.pie) renderPie(startIdx, endIdx, masterA);else if (TYPES.linear) renderLinear(type, height + 7, vStart, hPadding, offsetY, offsetX, startIdx, endIdx, scaleX, scaleY);\n    }\n\n    function renderMain() {\n      ctx.lineWidth = UI.main.lineWidth;\n      renderSeries('local', TYPES.percentage ? 1 : 1 - V.progress, UI.preview.width, UI.main.height - 1.5 * UI.main.vPadding, V.localStart, V.localEnd, UI.chart.hPadding, UI.main.height, false);\n      renderGrid();\n    }\n\n    function measureUI() {\n      V.needMeasure = false;\n      var ww = window.innerWidth,\n          wh = window.innerHeight,\n          pageYOffset = window.pageYOffset;\n\n      if (pageYOffset !== V.pageYOffset) {\n        UI.box.measure();\n        V.pageYOffset = pageYOffset;\n      }\n\n      if (V.prevW !== ww || V.prevH !== wh) {\n        V.prevW = ww;\n        V.prevH = wh;\n        UI.box.measure();\n        if (UI.box.h < UI.chart.height) V.prevH = 0;\n        UI.main.height = UI.chart.height - UI.preview.height - UI.xAxis.height;\n        UI.main.y = 0;\n        UI.main.width = UI.box.w;\n        UI.xAxis.y = UI.main.y + UI.main.height;\n        UI.preview.y = UI.chart.height - UI.preview.height;\n        UI.preview.width = UI.box.w - 2 * UI.chart.hPadding;\n        UI.preview.minHeight = UI.preview.height - 2 * UI.preview.vPadding;\n        UI.canvas.attr('width', UI.main.width * DPR).attr('height', UI.chart.height * DPR).stylo({\n          width: UI.main.width,\n          height: UI.chart.height\n        });\n        ctx.scale(DPR, DPR);\n        repaint();\n      }\n    }\n\n    function renderGrid() {\n      var showLegend = V.showLegend && !isNaN(V.vLineX);\n      showLegend && (!(TYPES.bar || TYPES.pie) || TYPES.area) && UI.canvas.line(V.vLineX, TYPES.area ? 16 : 4, V.vLineX, UI.main.height, UI.grid.lineWidth, UI.grid.color, UI.grid.alpha);\n      if (!V.zoomedChart) toggleLegend(showLegend || TYPES.area && V.isZoomed);\n    }\n\n    function repaint() {\n      STATE.repaint = true;\n      if (V.zoomedChart) V.zoomedChart.repaint();\n    }\n\n    this.repaint = repaint;\n\n    this.getSeries = function () {\n      return AY;\n    };\n\n    this.getProps = function () {\n      return props;\n    };\n\n    this.getVars = function () {\n      return V;\n    };\n\n    this.getAxesData = function () {\n      return {\n        AX: AX,\n        AY: AY,\n        X: X\n      };\n    };\n\n    function updateRangeText(el, _start, _end) {\n      if (V.isZooming) return;\n\n      if (!V.showRangeText) {\n        el.innerText = '';\n        return;\n      }\n\n      var start = _start === undefined ? V.localStart : _start,\n          end = _end === undefined ? V.localEnd : _end,\n          rangeText,\n          zoomedProps = V.zoomedChart ? V.zoomedChart.getProps() : undefined,\n          rangeTextType = zoomedProps ? zoomedProps.rangeTextType : props.rangeTextType;\n      if (props.xAxisType === 'date') end -= zoomedProps ? zoomedProps.zoomStepX || zoomedProps.stepX || 1 : props.zoomStepX || V.stepX;\n\n      if (rangeTextType instanceof Function) {\n        rangeText = rangeTextType(start, end);\n      } else if (rangeText === undefined) {\n        var startStr = DATA_TYPES[rangeTextType](start),\n            endStr = DATA_TYPES[rangeTextType](end);\n        rangeText = startStr === endStr ? startStr : startStr + ' - ' + endStr;\n      }\n\n      el.innerText = rangeText;\n    }\n\n    function recalcTotals() {\n      TOTALS = new Array(AXL);\n\n      for (var s = 0; s < AYL; s++) {\n        for (var i = 0, v; i < AXL; i++) {\n          v = AY[s].data[i] * A['on' + s];\n          TOTALS[i] = s === 0 ? v : TOTALS[i] + v;\n        }\n      }\n    }\n\n    function minMax(start, end) {\n      var min = Infinity,\n          max = -Infinity,\n          x1 = Math.max(0, start),\n          x2 = Math.min(AXL, end);\n\n      function compare(u) {\n        if (u > max) max = u;\n        if (u < min) min = u;\n      }\n\n      for (var y = 0, S; y < AYL; y++) {\n        S = AY[y];\n\n        if (S.off && !TYPES.multi_yaxis) {\n          S.max = 0;\n          S.min = 0;\n          S.d = 0;\n          continue;\n        }\n\n        if (TYPES.stacked || TYPES.bar || TYPES.percentage) {\n          if (V.autoScale) {\n            S.max = querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity);\n            S.min = 0;\n          } else {\n            S.max = props.maxY === undefined ? querySTree(STREE_MAX[y], AXL, 0, AXL, Math.max, -Infinity) : props.maxY;\n            S.min = props.minY || 0;\n          }\n\n          S.d = S.max;\n        } else if (TYPES.multi_yaxis) {\n          if (V.autoScale) {\n            S.min = querySTree(STREE_MIN[y], AXL, x1, x2, Math.min, Infinity);\n            S.max = querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity);\n          } else {\n            S.min = props.minY === undefined ? querySTree(STREE_MIN[y], AXL, 0, AXL, Math.min, Infinity) : props.minY;\n            S.max = props.maxY === undefined ? querySTree(STREE_MAX[y], AXL, 0, AXL, Math.max, -Infinity) : props.maxY;\n          }\n\n          S.d = S.max - S.min;\n        } else {\n          compare(querySTree(STREE_MIN[y], AXL, x1, x2, Math.min, Infinity));\n          compare(querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity));\n        }\n      }\n\n      min = !V.autoScale && props.minY !== undefined ? props.minY : min;\n      max = !V.autoScale && props.maxY !== undefined ? props.maxY : max;\n      if (min === Infinity && V.localMM) return V.localMM;\n      return {\n        min: min,\n        max: max,\n        d: max - min\n      };\n    }\n\n    function recalcMinMax(name, start, end) {\n      var prevMM, MM;\n      if (V.autoScale) MM = minMax(start, end);else {\n        MM = V[name + 'MM'];\n        if (!MM) MM = minMax(0, AXL);\n      }\n\n      if (TYPES.multi_yaxis || TYPES.stacked || TYPES.bar || TYPES.area) {\n        if (!A[name + 'DY0']) {\n          for (var i = 0; i < AYL; i++) {\n            var s = AY[i];\n            A[name + 'MinY' + i] = s.min;\n            A[name + 'DY' + i] = s.d;\n          }\n        } else {\n          for (var i = 0; i < AYL; i++) {\n            var s = AY[i];\n            prevMM = s[name + 'MM'];\n\n            if (s.min !== prevMM.min || s.d !== prevMM.d) {\n              animate(name + 'DY' + i, prevMM.d, s.d, ANIMATE_DURATION);\n              animate(name + 'MinY' + i, prevMM.min, s.min, ANIMATE_DURATION);\n            }\n          }\n        }\n\n        for (var i = 0; i < AYL; i++) {\n          var s = AY[i];\n          s[name + 'MM'] = {\n            min: s.min,\n            max: s.max,\n            d: s.d\n          };\n        }\n      } else {\n        prevMM = V[name + 'MM'];\n\n        if (!prevMM || V.movingBrush) {\n          A[name + 'MinY'] = MM.min;\n          A[name + 'DY'] = MM.d;\n        } else {\n          if (MM.min !== prevMM.min || MM.d !== prevMM.d) {\n            animate(name + 'DY', prevMM.d, MM.d, ANIMATE_DURATION);\n            animate(name + 'MinY', prevMM.min, MM.min, ANIMATE_DURATION);\n          }\n        }\n\n        V[name + 'MM'] = MM;\n      }\n    }\n\n    function render(time) {\n      if (AXL < 2 || V.isDestroyed) return;\n      doAnimations(time);\n      requestAnimationFrame(render);\n      if (V.needMeasure) measureUI();\n      var localRangeChanged = V.prevLocalStart !== V.localStart || V.prevLocalEnd !== V.localEnd,\n          isZoomed = V.prevGlobalStart !== V.globalStart || V.prevGlobalEnd !== V.globalEnd,\n          seriesCountChanged = V.seriesCount !== V.prevSeriesCount;\n      if (!STATE.repaint) return;\n\n      if (TYPES.percentage || TYPES.pie) {\n        if (!TOTALS || V.forceUpdate || V.isOnOffAnimating || seriesCountChanged) recalcTotals();\n      } else {\n        if (seriesCountChanged || isZoomed || V.forceUpdate) recalcMinMax('global', xToIdxUp(V.globalStart), xToIdxUp(V.globalEnd));\n        if (localRangeChanged || seriesCountChanged || isZoomed || V.forceUpdate) recalcMinMax('local', xToIdxUp(V.localStart), xToIdxUp(V.localEnd));\n      }\n\n      if (localRangeChanged || isZoomed || V.forceUpdate) updateRangeText(UI.localRange);\n      V.prevSeriesCount = V.seriesCount;\n      V.prevLocalStart = V.localStart;\n      V.prevLocalEnd = V.localEnd;\n      V.prevGlobalStart = V.globalStart;\n      V.prevGlobalEnd = V.globalEnd;\n\n      if (!V.hidden) {\n        if (!parent) ctx.clearRect(0, UI.main.y - 5, UI.main.width, UI.chart.height);\n        renderMain();\n        renderPreview();\n        renderAxis();\n      }\n\n      STATE.repaint = false;\n      V.forceUpdate = false;\n      if (V.zoomedChart) V.zoomedChart.repaint();\n    }\n\n    function animate(name, from, to, duration, update, ease, cb) {\n      update ? update(from) : A[name] = from;\n      animations[name] = {\n        ease: ease || EASE.outQuad,\n        from: from,\n        to: to,\n        duration: duration,\n        update: update,\n        cb: cb\n      };\n    }\n\n    function whereAmI(x, y_) {\n      var y = y_ - UI.chart.topPadding,\n          area = AREA.HEADER;\n      if (y >= UI.main.y && y < UI.xAxis.y) area = AREA.MAIN;else if (y >= UI.xAxis.y && y < UI.preview.y) area = AREA.XAXIS;else if (y >= UI.preview.y) {\n        var start = valToX(V.localStart),\n            end = valToX(V.localEnd);\n        if (x >= start - UI.preview.hitSlop && x <= start + UI.preview.handleW + UI.preview.hitSlop / 2) area = AREA.BRUSH_LEFT;else if (x > start + UI.preview.handleW && x < end - UI.preview.handleW - UI.preview.hitSlop / 2) area = AREA.BRUSH_CENTER;else if (x >= end - UI.preview.handleW - UI.preview.hitSlop / 2 && x < end + UI.preview.hitSlop) area = AREA.BRUSH_RIGHT;else area = AREA.PREVIEW;\n      }\n      return area;\n    }\n\n    function updateCheckbox(i, off) {\n      var to = off ? 0 : 1;\n      UI['checkbox' + i].attr('class', typeof styles !== 'undefined' ? styles['checkbox'] : 'checkbox ' + (off ? 'off' : 'on')).stylo({\n        backgroundColor: off ? 'transparent' : AY[i].color\n      });\n      UI['chk' + i].stylo({\n        transform: 'scale(' + to + ')',\n        opacity: to\n      }, true);\n      UI['name' + i].stylo({\n        transform: 'translate3d(' + (to - 1) * 8 + 'px, 0, 0)',\n        color: off ? AY[i].color : '#fff'\n      });\n    }\n\n    function toggleCheckbox(i, off) {\n      var s = AY[i];\n      s.off = off !== undefined ? off : !s.off;\n      s.off ? --V.seriesCount : ++V.seriesCount;\n      var from = s.off ? 1 : 0,\n          to = s.off ? 0 : 1;\n      updateCheckbox(i, s.off);\n\n      if (TYPES.stacked || TYPES.bar || TYPES.percentage || TYPES.pie) {\n        V.isOnOffAnimating = true;\n        animate('on' + i, from, to, ON_OFF_DURATION, 0, s.off ? EASE.outQuad : EASE.inQuad, function () {\n          V.isOnOffAnimating = false;\n          V.forceUpdate = true;\n        });\n        A['alphaY' + i] = 1;\n      } else {\n        animate('alphaY' + i, from, to, ON_OFF_DURATION);\n      }\n\n      if (V.zoomedChart) V.zoomedChart.toggleCheckbox(i, off);\n      toggleLegend(false);\n    }\n\n    this.toggleCheckbox = toggleCheckbox;\n\n    function toggleLegend(on) {\n      var pieMode = TYPES.pie || TYPES.percentage && V.isZoomed;\n      if (!pieMode && !(on ^ V.legendIsVisible)) return;\n      if (pieMode && isNaN(V.segment)) return hideLegend();\n\n      if (on) {\n        var y,\n            p,\n            x = V.localStart + (V.vLineX - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart),\n            idx = TYPES.bar ? xToIdxDown(x) : xToIdx(x),\n            scaleX = UI.preview.width / (V.localEnd - V.localStart),\n            dy = TYPES.linear ? UI.grid.markerRadius + UI.grid.markerLineWidth : 0,\n            scaleY = (UI.main.height - UI.main.vPadding - dy) / A.localDY,\n            side = 1,\n            sum = 0;\n\n        if (V.showLegendTitle) {\n          UI.xval.innerText = DATA_TYPES[props.xAxisType](AX[idx]);\n          UI.xval.stylo({\n            display: 'block'\n          });\n        } else UI.xval.stylo({\n          display: 'none'\n        });\n\n        V.highlightedX = V.vLineX;\n        ctx.fillStyle = UI.grid.markerFillColor;\n        ctx.lineWidth = UI.grid.markerLineWidth;\n        ctx.globalAlpha = 1;\n        UI.date.stylo({\n          display: pieMode ? 'none' : 'flex'\n        });\n\n        for (var s = 0, pp = 0; s < AYL; s++) {\n          var S = AY[s],\n              v = pieMode ? S.val : S.data[idx];\n          UI['label' + s].stylo({\n            display: S.off || pieMode && s !== V.segment ? 'none' : 'flex',\n            paddingTop: pieMode ? 0 : 5\n          });\n          if (S.off) continue;\n          sum += v;\n          if (TYPES.multi_yaxis) scaleY = (UI.main.height - UI.main.vPadding - dy) / A['localDY' + s];\n          UI['labelName' + s].innerText = S.name;\n          UI['labelValue' + s].stylo({\n            color: S.color\n          }).innerText = format(v);\n\n          if (TYPES.percentage || TYPES.pie) {\n            p = v / TOTALS[idx];\n            if (s === AYL - 1) p = 1 - pp;\n            pp += p;\n            UI['labelPercent' + s].stylo({\n              display: pieMode ? 'none' : 'flex'\n            }).innerText = Math.round(p * 100) + '%';\n          }\n\n          if (!(TYPES.pie || TYPES.bar || TYPES.percentage)) {\n            ctx.strokeStyle = S.color;\n            ctx.beginPath();\n            ctx.arc(UI.chart.hPadding + (AX[idx] - V.localStart) * scaleX, UI.xAxis.y - (S.data[idx] - A['localMinY' + (TYPES.multi_yaxis ? s : '')]) * scaleY, UI.grid.markerRadius, 0, Math.PI * 2);\n            ctx.stroke();\n            ctx.fill();\n          }\n        }\n\n        if (TYPES.stacked) {\n          UI.labelTotal.stylo({\n            display: V.seriesCount > 1 ? 'flex' : 'none'\n          });\n          UI.labelValueTotal.innerHTML = format(sum);\n        }\n\n        UI.legend.measure();\n\n        if (pieMode) {\n          x = V.pieX + UI.main.width / 2;\n          y = V.pieY + UI.main.height / 2;\n        } else {\n          side = V.vLineX < UI.main.width / 2 ? 0 : 1;\n          x = applyRange(V.vLineX - UI.grid.legendShift - side * (UI.legend.w - 2 * UI.grid.legendShift), 2, UI.main.width - UI.legend.w - 2);\n          if (props.legendPosition === 'top') y = UI.chart.topPadding;else if (props.legendPosition === 'bottom') y = UI.xAxis.y - UI.legend.h + 40;else y = applyRange(V.vLineY - UI.legend.h - (IS_MOBILE ? 50 : 10), UI.chart.topPadding, UI.xAxis.y - UI.legend.h);\n        }\n\n        UI.legend.stylo({\n          opacity: 1,\n          transform: 'translate3d(' + x + 'px, ' + y + 'px, 0)'\n        }, true);\n        if (V.legendTimer) clearTimeout(V.legendTimer);\n        V.legendTimer = setTimeout(hideLegend, LEGEND_TIMER);\n      } else hideLegend();\n\n      V.legendIsVisible = on;\n    }\n\n    function resetCursor() {\n      UI.canvas.stylo({\n        cursor: 'auto'\n      });\n    }\n\n    function dismiss() {\n      if (parent) return;\n      if (hideLegend()) repaint();\n      STATE.draggingArea = 0;\n      resetCursor();\n    }\n\n    this.dismiss = dismiss;\n\n    function applyRange(v, from, to) {\n      return Math.max(from, Math.min(v, to));\n    }\n\n    function updateZoomedChart() {\n      if (V.zoomedChart) V.zoomedChart.setProgress(V);\n    }\n\n    function hideLegend() {\n      var repaint = V.vLineX !== undefined;\n      if (!UI.legend) return;\n      V.vLineX = undefined;\n      V.highlightedX = -1;\n      UI.legend.stylo({\n        transform: 'translate3d(0, -1000px, 0)'\n      });\n\n      if (V.legendTimer) {\n        clearTimeout(V.legendTimer);\n        V.legendTimer = undefined;\n      }\n\n      return repaint;\n    }\n\n    function stop(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    function flerken(o, className) {\n      var el;\n      if ((typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object') el = o;else {\n        el = byId(o === ID ? ID : ID + '-' + o);\n        className = o === ID ? 'chart' : o.replace(/[\\d]+/g, '');\n        if (typeof styles !== 'undefined') className = styles[className];\n      }\n\n      el.on = function (evt, cb) {\n        evt.split(' ').map(function (name) {\n          el.addEventListener(name, function (e) {\n            var touch = e.touches && e.touches.length ? e.touches[0] : e,\n                x = (touch.clientX || touch.pageX) - UI.box.x,\n                y = (touch.clientY || touch.pageY) - UI.box.y;\n            cb(e, x, y, whereAmI(x, y), this);\n          });\n        });\n        return el;\n      };\n\n      el.attr = function (name, value) {\n        el.setAttribute(name, value);\n        return el;\n      };\n\n      el.append = function (name) {\n        var n = document.createElement(name);\n        return flerken(el.appendChild(n), name);\n      };\n\n      el.measure = function () {\n        var s = el.getBoundingClientRect();\n        el.x = s.left;\n        el.y = s.top;\n        el.w = s.width;\n        el.h = s.height;\n        return el;\n      };\n\n      el.stylo = function (s, raw) {\n        var v;\n\n        for (var k in s) {\n          v = raw ? s[k] : s[k] + (isNaN(s[k]) ? '' : 'px');\n          el.style[k] = v;\n\n          if (k === 'transform') {\n            el.style['webkitTransform'] = v;\n            el.style['mozTransform'] = v;\n            el.style['oTransform'] = v;\n            el.style['msTransform'] = v;\n          }\n        }\n\n        return el;\n      };\n\n      el.shake = function () {\n        el.classList.add('shake');\n        setTimeout(function () {\n          el.classList.remove('shake');\n        }, 200);\n      };\n\n      el.line = function (x1, y1, x2, y2, w, color, alpha) {\n        if (!isNaN(alpha)) ctx.globalAlpha = alpha;\n        ctx.strokeStyle = color;\n        ctx.lineWidth = w;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n      };\n\n      el.rect = function (x, y, w, h, radius, left, right, clip) {\n        var r = radius || 0,\n            rightR = right ? r : 0,\n            leftR = left ? r : 0;\n        ctx.beginPath();\n        ctx.moveTo(x + leftR, y);\n        ctx.arcTo(x + w, y, x + w, y + h, rightR);\n        ctx.arcTo(x + w, y + h, x, y + h, rightR);\n        ctx.arcTo(x, y + h, x, y, leftR);\n        ctx.arcTo(x, y, x + w, y, leftR);\n        if (clip) return ctx.clip();\n        ctx.closePath();\n        ctx.fill();\n      };\n\n      el.startLine = function (alpha, strokeStyle, fillStyle, lw) {\n        ctx.globalAlpha = alpha;\n        if (ctx.strokeStyle) ctx.strokeStyle = strokeStyle;\n        if (ctx.fillStyle) ctx.fillStyle = fillStyle;\n        ctx.lineWidth = lw;\n        ctx.beginPath();\n        ctx.lineCap = 'butt';\n        ctx.lineJoin = 'bevel';\n      };\n\n      UI[o === ID ? 'box' : o] = el;\n      return el.attr('class', className).measure();\n    }\n\n    function hide() {\n      V.hidden = true;\n    }\n\n    this.hide = hide;\n\n    function zoomIn(x) {\n      if (V.inProgress) return;\n      V.inProgress = true;\n      var selectedX = V.localStart + (x - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart),\n          selectedIndex = xToIdx(selectedX),\n          currentGlobalStart = V.globalStart,\n          currentGlobalEnd = V.globalEnd,\n          currentLocalStart = V.localStart,\n          currentLocalEnd = V.localEnd,\n          xVal = AX[selectedIndex];\n      if (props.xAxisType === 'date') roundDate(xVal);\n      V._globalStart = V.globalStart;\n      V._globalEnd = V.globalEnd;\n      V._localStart = V.localStart;\n      V._localEnd = V.localEnd;\n\n      function doZoom() {\n        var newGlobalStart, newGlobalEnd, newLocalStart, newLocalEnd, zoomInterval, stepX;\n\n        if (V.zoomedChart) {\n          var data = V.zoomedChart.getAxesData(),\n              zoomProps = V.zoomedChart.getProps();\n          stepX = zoomProps.stepX || V.zoomStepX || V.stepX;\n          zoomInterval = props.zoomInterval || zoomProps.zoomInterval;\n\n          if (zoomInterval) {\n            newGlobalStart = selectedX - zoomInterval / 2;\n            newGlobalEnd = newGlobalStart + zoomInterval;\n            newLocalStart = selectedX;\n            newLocalEnd = newLocalStart + stepX;\n          } else {\n            newGlobalStart = data.X.min;\n            newGlobalEnd = data.X.max;\n            newLocalStart = zoomProps.startX || newGlobalStart + Math.floor(data.X.d / 2 / stepX) * stepX;\n            newLocalEnd = newLocalStart + stepX;\n          }\n        } else {\n          stepX = V.zoomStepX || V.stepX;\n          zoomInterval = props.zoomInterval || 7 * stepX;\n          newLocalStart = props.startX || xVal;\n          if (newLocalStart + stepX >= X.max) newLocalStart -= stepX;\n          newLocalEnd = newLocalStart + stepX;\n          newGlobalStart = applyRange(xVal - (zoomInterval - stepX) / 2, X.min, X.max);\n          newGlobalEnd = applyRange(newGlobalStart + zoomInterval, X.min, X.max);\n          if (newGlobalEnd - newGlobalStart) newGlobalStart = applyRange(newGlobalEnd - zoomInterval, X.min, X.max);\n        }\n\n        updateRangeText(UI.zoomedRange, newLocalStart, newLocalEnd);\n        V.isZooming = true;\n        animate('zoomIn', 0, 1, TYPES.area ? 2 * ZOOM_IN_DURATION : ZOOM_IN_DURATION, function (v) {\n          var p = Math.min(1, v),\n              p_ = 1 - p;\n          V.progress = v;\n          V.globalStart = currentGlobalStart - p * (currentGlobalStart - newGlobalStart);\n          V.globalEnd = currentGlobalEnd - p * (currentGlobalEnd - newGlobalEnd);\n          V.localStart = currentLocalStart - p * (currentLocalStart - newLocalStart);\n          V.localEnd = currentLocalEnd - p * (currentLocalEnd - newLocalEnd);\n          UI.title.stylo({\n            opacity: p_,\n            transform: 'scale(' + p_ + ', ' + p_ + ')'\n          }, true);\n          UI.zoom.stylo({\n            opacity: p,\n            transform: 'scale(' + p + ', ' + p + ')'\n          }, true);\n          UI.localRange.stylo({\n            opacity: p_,\n            transform: 'scale(' + p_ + ', ' + p_ + ')'\n          }, true);\n          UI.zoomedRange.stylo({\n            opacity: p,\n            transform: 'scale(' + p + ', ' + p + ')'\n          }, true);\n          updateZoomedChart();\n        }, TYPES.area ? EASE.outBack : EASE.outCubic, function () {\n          V.isZooming = false;\n          V.isZoomed = true;\n          V.inProgress = false;\n          V.forceUpdate = true;\n          resize();\n          if (V.zoomedChart) V.zoomedChart.wakeUp();\n        });\n        V.selectedIndex = selectedIndex;\n        hideLegend();\n      }\n\n      if (!props.onZoomIn || TYPES.pie) {\n        if (TYPES.area) return doZoom();\n        V.inProgress = false;\n        return;\n      }\n\n      props.onZoomIn(AX[selectedIndex]).then(function (data) {\n        V.zoomedChart = new Charty(ID, data, self, UI, ctx);\n        doZoom();\n        repaint();\n      }, function (err) {\n        V.inProgress = false;\n        error('Error loading data: ' + JSON.stringify(err) + '\\n\\nx: ' + AX[selectedIndex]);\n      });\n    }\n\n    this.setProgress = function (V_) {\n      SHARED_PROPS.forEach(function (prop) {\n        V[prop] = V_[prop];\n      });\n      V.progress = 1 - V_.progress;\n      repaint();\n    };\n\n    this.getTheme = function () {\n      return currentTheme;\n    };\n\n    function zoomOut(x) {\n      if (!V.isZoomed) return zoomIn();\n      var currentGlobalStart = V.globalStart,\n          currentGlobalEnd = V.globalEnd,\n          currentLocalStart = V.localStart,\n          currentLocalEnd = V.localEnd;\n      V.isZooming = true;\n      animate('zoomOut', 1, 0, ZOOM_OUT_DURATION, function (v) {\n        var v_ = 1 - v;\n        V.globalStart = currentGlobalStart - v_ * (currentGlobalStart - V._globalStart);\n        V.globalEnd = currentGlobalEnd - v_ * (currentGlobalEnd - V._globalEnd);\n        V.localStart = currentLocalStart - v_ * (currentLocalStart - V._localStart);\n        V.localEnd = currentLocalEnd - v_ * (currentLocalEnd - V._localEnd);\n        V.progress = v;\n        UI.title.stylo({\n          opacity: v_,\n          transform: 'scale(' + v_ + ', ' + v_ + ')'\n        }, true);\n        UI.zoom.stylo({\n          opacity: v,\n          transform: 'scale(' + v + ', ' + v + ')'\n        }, true);\n        UI.localRange.stylo({\n          opacity: v_,\n          transform: 'scale(' + v_ + ', ' + v_ + ')'\n        }, true);\n        UI.zoomedRange.stylo({\n          opacity: v,\n          transform: 'scale(' + v + ', ' + v + ')'\n        }, true);\n        updateRangeText(UI.localRange);\n        updateZoomedChart();\n      }, EASE.inCubic, function () {\n        V.isZooming = false;\n        V.isZoomed = false;\n        V.forceUpdate = true;\n        resize();\n\n        if (V.zoomedChart) {\n          V.zoomedChart.destroy();\n          V.zoomedChart = undefined;\n        }\n\n        dismiss();\n        wakeUp();\n      });\n\n      if (V.zoomedChart) {\n        var series = V.zoomedChart.getSeries();\n        series.map(function (S, i) {\n          var off = S.off;\n\n          if (AY[i] && AY[i].name === S.name) {\n            AY[i].off = off;\n            A['alphaY' + i] = off ? 0 : 1;\n            A['on' + i] = off ? 0 : 1;\n          }\n        });\n        renderCtrls();\n        togglePreview(V.showPreview);\n      }\n\n      hideLegend();\n    }\n\n    this.setProps = function (props_) {\n      props = Object.assign({}, props, props_);\n      updateVars();\n      dismiss();\n      V.forceUpdate = true;\n      V.needMeasure = true;\n      UI.title.innerText = props.title || '';\n      repaint();\n    };\n\n    this.setShowButtons = function (on) {\n      V.showButtons = on;\n      renderCtrls();\n    };\n\n    this.setStartX = function (x) {\n      V.localStart = applyRange(x, V.globalStart, V.globalEnd);\n    };\n\n    this.setEndX = function (x) {\n      V.localEnd = applyRange(x, V.globalStart, V.globalEnd);\n    };\n\n    this.setAutoScale = function (on) {\n      V.localMM = undefined;\n      V.globalMM = undefined;\n      V.autoScale = on;\n    };\n\n    this.setShowPreview = function (on) {\n      V.showPreview = on;\n      if (V.zoomedChart) V.zoomedChart.togglePreview(on);\n      togglePreview(on);\n    };\n\n    this.restart = function () {\n      start(true);\n\n      if (!V.zoomedChart) {\n        renderLegend();\n        renderCtrls();\n      }\n    };\n\n    function wakeUp() {\n      V.hidden = false;\n      V.forceUpdate = true;\n      repaint();\n    }\n\n    function resize() {\n      V.needMeasure = true;\n    }\n\n    function scroll() {\n      V.needMeasure = true;\n    }\n\n    this.wakeUp = wakeUp;\n\n    this.destroy = function () {\n      V.isDestroyed = true;\n      unhookEvents();\n    };\n\n    function moveBrush(newLocalStart, newLocalEnd) {\n      if (V.movingBrush) return;\n      if (newLocalStart === V.localStart && newLocalEnd === V.localEnd) return;\n      if (newLocalStart >= newLocalEnd || newLocalEnd <= newLocalStart) return;\n      V.movingBrush = true;\n      var start = V.localStart,\n          end = V.localEnd;\n      animate('snapX', 0, 1, SNAP_DURATION, function (p) {\n        V.localStart = applyRange(start - p * (start - newLocalStart), X.min, X.max);\n        V.localEnd = applyRange(end - p * (end - newLocalEnd), X.min, X.max);\n        updateZoomedChart();\n      }, 0, function () {\n        V.movingBrush = false;\n        V.forceUpdate = true;\n        updateRangeText(UI.zoomedRange);\n      });\n      updateZoomedChart();\n    }\n\n    function updateCursor(area) {\n      if (!IS_MOBILE && !STATE.draggingArea) {\n        if (area === AREA.BRUSH_LEFT || area === AREA.BRUSH_RIGHT) UI.canvas.stylo({\n          cursor: 'ew-resize'\n        });else if (area === AREA.BRUSH_CENTER) UI.canvas.stylo({\n          cursor: 'move'\n        });else resetCursor();\n      }\n    }\n\n    function unhookEvents() {\n      if (!self.isHooked) return;\n      window.removeEventListener('resize', resize);\n      window.removeEventListener('scroll', scroll);\n      document.removeEventListener('mousemove', dismiss);\n      self.isHooked = false;\n    }\n\n    function hookEvents() {\n      if (self.isHooked) unhookEvents();\n      self.isHooked = true;\n      document.addEventListener('mousemove', dismiss);\n      window.addEventListener('resize', resize);\n      window.addEventListener('scroll', scroll);\n      UI.legend.on('touchmove mousemove', stop);\n      UI.legend.on('touchstart mousedown', function (e, x) {\n        if (!isNaN(V.vLineX) && !V.zoomedChart) zoomIn(V.vLineX);\n      });\n      UI.canvas.on('touchmove mousemove', function (e, x, y, area) {\n        for (var c = 0, cl = CHARTS.length; c < cl; c++) {\n          if (c !== myIdx) CHARTS[c].dismiss();\n        }\n\n        V.vLineX = undefined;\n        V.vLineY = undefined;\n        V.pieX = undefined;\n        V.pieY = undefined;\n\n        if (!V.isZoomed || !TYPES.area) {\n          if (area === AREA.MAIN) {\n            V.vLineX = x;\n            V.vLineY = y;\n          }\n\n          if (!isNaN(V.vLineX)) V.legendIsVisible = false;\n          updateZoomedChart();\n        }\n\n        if (TYPES.pie || V.isZoomed && TYPES.area) {\n          if (area === AREA.MAIN) {\n            V.pieX = x - UI.main.width / 2;\n            V.pieY = y - UI.main.height / 2 - UI.chart.topPadding;\n          }\n        }\n\n        if (area >= AREA.XAXIS) hideLegend();\n        repaint();\n        if (!IS_MOBILE || STATE.draggingArea >= AREA.PREVIEW) stop(e);\n        updateCursor(area);\n        var width = V.localEnd - V.localStart,\n            newLocalStart,\n            newLocalEnd,\n            deltaX,\n            xVal,\n            deltaStepX,\n            stepX = (V.zoomedChart ? V.zoomedChart.getProps().stepX : V.stepX) || 1,\n            minBrushSize = V.isZoomed || TYPES.pie ? stepX : Math.max(stepX, V.minBrushSize);\n        if (V.isZoomed && props.zoomStepX) stepX = props.zoomStepX;\n\n        if (STATE.draggingArea === AREA.BRUSH_LEFT) {\n          xVal = xToVal(x);\n          newLocalStart = applyRange(xVal, V.globalStart, V.localEnd - minBrushSize);\n          deltaX = V.localStart - newLocalStart;\n\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) {\n            V.localStart = newLocalStart;\n          } else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.ceil(deltaX / stepX);\n              moveBrush(V.localStart - deltaStepX, Math.min(V.localEnd, V.globalEnd));\n            }\n          }\n        } else if (STATE.draggingArea === AREA.BRUSH_RIGHT) {\n          xVal = (x + UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n          newLocalEnd = applyRange(xVal, V.localStart + minBrushSize, V.globalEnd);\n          deltaX = V.localEnd - newLocalEnd;\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) V.localEnd = newLocalEnd;else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.floor(deltaX / stepX);\n              moveBrush(Math.max(V.globalStart, V.localStart), V.localEnd - deltaStepX);\n            }\n          }\n        } else if (STATE.draggingArea === AREA.BRUSH_CENTER) {\n          xVal = (x - V.deltaDragX - UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n          newLocalStart = applyRange(xVal, V.globalStart, V.globalEnd - width);\n          newLocalEnd = applyRange(newLocalStart + width, V.globalStart, V.globalEnd);\n          deltaX = V.localEnd - newLocalEnd;\n\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) {\n            V.localStart = newLocalStart;\n            V.localEnd = newLocalEnd;\n          } else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.round(deltaX / stepX);\n              moveBrush(V.localStart - deltaStepX, V.localEnd - deltaStepX);\n            }\n          }\n        }\n      });\n      UI.zoom.on('touchstart mousedown', function () {\n        if (V.isZoomed) {\n          restorePreview(props.showPreview !== false);\n          zoomOut();\n        }\n      });\n      UI.canvas.on('touchstart mousedown', function (e, x, y, area) {\n        STATE.draggingArea = area;\n\n        if (area > AREA.PREVIEW) {\n          V.deltaDragX = x - valToX(V.localStart) - UI.preview.handleW / 2;\n        } else if (area === AREA.PREVIEW) {\n          var width = V.localEnd - V.localStart,\n              xVal = xToVal(x),\n              newLocalStart = xVal - width / 2,\n              newLocalEnd = xVal + width / 2,\n              dxStart = V.globalStart - newLocalStart,\n              dxEnd = newLocalEnd - V.globalEnd;\n\n          if (dxStart > 0) {\n            newLocalStart = V.globalStart;\n            newLocalEnd = V.globalStart + width;\n          } else if (dxEnd > 0) {\n            newLocalStart = V.globalEnd - width;\n            newLocalEnd = V.globalEnd;\n          }\n\n          moveBrush(newLocalStart, newLocalEnd);\n        }\n      });\n      UI.canvas.on('touchend touchcancel mouseup', function (e, x, y, area) {\n        if (!IS_MOBILE && !isNaN(V.vLineX) && !V.zoomedChart) zoomIn(V.vLineX);\n        STATE.draggingArea = 0;\n        updateCursor(area);\n      });\n    }\n  }\n\n  return Charty;\n}();\n/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n\nvar RESTARTING_PROPS = ['data', 'type', 'colors', 'names'];\n\nvar Charty$1 = function (_Component) {\n  inherits(Charty$$1, _Component);\n\n  function Charty$$1() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Charty$$1);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Charty$$1.__proto__ || Object.getPrototypeOf(Charty$$1)).call.apply(_ref, [this].concat(args))), _this), _this.setRef = function (el) {\n      _this.el = el;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(Charty$$1, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.charty = new Charty(this.el, this.props);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this2 = this;\n\n      if (!this.charty) return true;\n      this.charty.setProps(nextProps);\n      if (nextProps.theme !== this.props.theme) this.charty.setTheme(nextProps.theme);\n      if (nextProps.showPreview !== this.props.showPreview) this.charty.setShowPreview(nextProps.showPreview);\n      if (nextProps.showButtons !== this.props.showButtons) this.charty.setShowButtons(nextProps.showButtons);\n      if (nextProps.startX !== this.props.startX) this.charty.setStartX(nextProps.startX);\n      if (nextProps.endX !== this.props.endX) this.charty.setEndX(nextProps.endX);\n      if (nextProps.autoScale !== this.props.autoScale) this.charty.setAutoScale(nextProps.autoScale);\n      var idx = RESTARTING_PROPS.findIndex(function (prop) {\n        return _this2.props[prop] !== nextProps[prop];\n      });\n      if (idx >= 0) this.charty.restart();\n      return false;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.charty) {\n        this.charty.destroy();\n        this.charty = undefined;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        ref: this.setRef,\n        style: this.props.style\n      });\n    }\n  }]);\n  return Charty$$1;\n}(Component);\n\nCharty$1.propTypes = {\n  type: PropTypes.string,\n  title: PropTypes.string,\n  theme: PropTypes.object,\n  animated: PropTypes.bool,\n  showLegend: PropTypes.bool,\n  showLegendTitle: PropTypes.bool,\n  showButtons: PropTypes.bool,\n  showPreview: PropTypes.bool,\n  showRangeText: PropTypes.bool,\n  rangeTextType: PropTypes.string,\n  xAxisType: PropTypes.string,\n  yAxisType: PropTypes.string,\n  xAxisStep: PropTypes.number,\n  legendPosition: PropTypes.string,\n  data: PropTypes.object,\n  names: PropTypes.object,\n  colors: PropTypes.object,\n  stepX: PropTypes.number,\n  startX: PropTypes.number,\n  endX: PropTypes.number,\n  onZoomIn: PropTypes.func,\n  zoomInterval: PropTypes.number,\n  zoomStepX: PropTypes.number,\n  autoScale: PropTypes.bool,\n  minY: PropTypes.number,\n  maxY: PropTypes.number\n};\nexport default Charty$1;","/* eslint-disable one-var */\nimport React, { Component } from 'react'\nimport Charty from 'react-charty'\n\nconst LIGHT_THEME = {\n    grid: { color: '#182D3B', alpha: 0.1, markerFillColor: '#fff' },\n    legend: { background: '#fff', color: '#000' },\n    preview: { maskColor: '#E2EEF9', maskAlpha: 0.6, brushColor: '#C0D1E1', brushBorderColor: '#fff', brushBorderAlpha: 1 },\n    xAxis: { textColor: '#8E8E93', textAlpha: 1 },\n    yAxis: { textColor: '#8E8E93', textAlpha: 1 },\n    title: { color: '#000' },\n    localRange: { color: '#000' },\n    zoomedRange: { color: '#000' }\n  },\n  DARK_THEME = {\n    grid: { color: '#fff', alpha: 0.1, markerFillColor: '#242f3e' },\n    legend: { background: '#1c2533', color: '#fff' },\n    preview: { maskColor: '#304259', maskAlpha: 0.6, brushColor: '#56626D', brushBorderAlpha: 0 },\n    xAxis: { textColor: '#A3B1C2', textAlpha: 0.6 },\n    yAxis: { textColor: '#A3B1C2', textAlpha: 0.6 },\n    title: { color: '#fff' },\n    localRange: { color: '#fff' },\n    zoomedRange: { color: '#fff' }\n  },\n  IS_MOBILE = window.orientation !== undefined,\n  BOX_OFFICE_DATA = {\n    type: 'pie',\n    data: {\n      x: [2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018],\n      y0: [418894996, 375827476, 405950482, 350025489, 412599414, 356749803, 334756601, 363440937, 480825172, 299653307, 323532944],\n      y10: [2829762, 22654, 11748762, 10677132, 13353944, 17940856, 284339, 3501919, 17013981, 6864560, 3667257],\n      y1: [228907497, 272137386, 228669559, 267026649, 278874194, 297981308, 318724501, 349637236, 285649087, 368643283, 447980568],\n      y12: [70848, 85951, 148783, 190518, 238718, 263510, 628663, 286179, 330890, 514394, 525514],\n      y2: [151729266, 244595555, 213973344, 187934565, 209883469, 164612977, 201036506, 245573737, 157334842, 147887868, 176581251],\n      y3: [292402573, 191387857, 174406757, 188043157, 131991738, 199227435, 155477200, 153408009, 162978825, 87443925, 94998758],\n      y4: [106796214, 128751724, 116501895, 117123096, 186711044, 138499493, 118634566, 129240950, 82084039, 77766071, 67312441],\n      y11: [10533274, 2660484, 396482, 12035978, 3561192, 7980550, 385326, 136417, 3145782, 332699, 298642],\n      y5: [42770147, 77957339, 67327194, 50987000, 44842994, 57311383, 31198061, 44403863, 56039563, 115877974, 98962594],\n      y6: [46079258, 85649416, 65577463, 72861475, 42739101, 24261722, 32398230, 8790834, 15862326, 9586948, 26458555],\n      y7: [36236267, 5244119, 22114278, 10679542, 27725964, 43935184, 30866923, 8178513, 28773877, 99237710, 45842523],\n      y8: [12177214, 24992506, 11895704, 10392818, 16624104, 6064807, 10774221, 7720431, 5870460, 5006181, 11765171]\n    },\n    names: {\n      y0: 'Adventure',\n      y1: 'Action',\n      y2: 'Drama',\n      y3: 'Comedy',\n      y4: 'Thriller/Suspense',\n      y5: 'Horror',\n      y6: 'Romantic Comedy',\n      y7: 'Musical',\n      y8: 'Documentary',\n      y10: 'Western',\n      y11: 'Concert/Performance',\n      y12: 'Multiple Genres'\n    },\n    colors: {\n      y0: '#2373DB',\n      y1: '#EC2049',\n      y2: '#F26B38',\n      y3: '#F7DB4F',\n      y4: '#A7226E',\n      y5: '#474747',\n      y6: '#FC9D9A',\n      y7: '#FF4E50',\n      y8: '#5FB641',\n      y10: '#FC913A',\n      y11: '#C8C8A9',\n      y12: '#2F9599'\n    }\n  }\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      theme: DARK_THEME,\n      data: []\n    }\n  }\n\n  async componentDidMount() {\n    const dataFiles = [1,2,3,4,5].map((id) => fetch(`data/${id}/overview.json`)),\n      results = await Promise.all(dataFiles),\n      data = await Promise.all(results.map((r) => r.json()));\n\n    this.setState({\n      isLoaded: true,\n      data\n    })\n  }\n\n  switchTheme = () => {\n    const isDarkTheme = this.state.theme === DARK_THEME;\n\n    this.setState({\n      theme: isDarkTheme ? LIGHT_THEME : DARK_THEME\n    })\n\n    document.body.style.backgroundColor = isDarkTheme ? '#fff' : '#262f3d'\n    document.body.style.color = isDarkTheme ? '#000' : '#fff'\n  }\n\n  onZoomIn = async (id, x) => {\n    var d = new Date(x),\n      month = '' + (d.getMonth() + 1),\n      day = '' + d.getDate(),\n      year = d.getFullYear()\n\n    if (month.length < 2) month = '0' + month\n    if (day.length < 2) day = '0' + day\n\n    var file = 'data/' + id + '/' + year + '-' + month + '/' + day + '.json',\n        response = await fetch(file)\n\n    return response.json()\n  }\n\n  render () {\n    if (!this.state.isLoaded)\n      return null;\n\n    const width = IS_MOBILE ? '100%' : '50%',\n      theme = this.state.theme,\n      data = this.state.data,\n      style = { width, marginTop: 20 }\n\n    return (\n      <React.Fragment>\n        <h3 onClick={this.switchTheme}>Switch theme</h3>\n        <h4 className=\"note\">(click on the {IS_MOBILE ? 'legend' : 'chart'} to zoom in)</h4>\n        <div className=\"container\">\n          <Charty title=\"Followers\" theme={theme} style={style} {...data[0]} onZoomIn={(x) => this.onZoomIn(1, x)} />\n          <Charty title=\"Fruits\" theme={theme} style={style} {...data[4]} />\n          <Charty title=\"Interactions\" theme={theme} style={style} {...data[1]} onZoomIn={(x) => this.onZoomIn(2, x)} />\n          <Charty title=\"Messages\" theme={theme} style={style} {...data[2]} onZoomIn={(x) => this.onZoomIn(3, x)} />\n          <Charty title=\"Views\" theme={theme} style={style} {...data[3]} onZoomIn={(x) => this.onZoomIn(4, x)} />\n          <Charty title=\"Box Office Ticket Sales\" theme={theme} style={style} {...BOX_OFFICE_DATA} stepX={1} startX={2017} endX={2018} />\n        </div>\n        <h3 className=\"bottom\" onClick={this.switchTheme}>Switch theme</h3>\n      </React.Fragment>\n    )\n  }\n}\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}