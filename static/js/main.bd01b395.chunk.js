(this["webpackJsonpreact-charty-example"]=this["webpackJsonpreact-charty-example"]||[]).push([[0],{392:function(e,t,o){},398:function(e,t,o){"use strict";o.r(t);o(191),o(203);var a=o(53),n=o.n(a),i=o(186),r=o.n(i),l=(o(392),o(28)),s=o(68),d=o.n(s),c=o(115),h=o(187),f=o(188),p=o(190),m=o(189),u=o(116),g=o.n(u),v=o(8),y=o.n(v),x={chart:"styles_chart__3TN3X",header:"styles_header__3PFGX",title:"styles_title__1cca0",zoom:"styles_zoom__1MrWD",date:"styles_date__3jLQg",zoomText:"styles_zoomText__OFj8g",localRange:"styles_localRange__3BkLX",zoomedRange:"styles_zoomedRange__2Eoyo",ctrls:"styles_ctrls__1QGXt",checkbox:"styles_checkbox__n3Wwb",shake:"styles_shake__cxUqQ",name:"styles_name__13yyl",legend:"styles_legend__1RMVG",xval:"styles_xval__2fECb",label:"styles_label__1nh3o",labelTotal:"styles_labelTotal__17ztL",labelPercent:"styles_labelPercent__3drGS",labelName:"styles_labelName__2M57m",labelNameTotal:"styles_labelNameTotal__3VUst",labelValue:"styles_labelValue__3m_Aj",labelValueTotal:"styles_labelValueTotal__1ihZO"};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if("undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}("/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n.styles_chart__3TN3X {\n  position: relative;\n  overflow: hidden;\n}\n.styles_chart__3TN3X .styles_header__3PFGX{\n  height: 50px;\n  position: relative;\n}\n.styles_chart__3TN3X .styles_title__1cca0 {\n  font-size: 16px;\n  margin: 15px 0 0 20px;\n  position: absolute;\n  transform-origin: top left;\n  -webkit-transform-origin: bottom left;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD {\n  opacity: 0;\n  position: absolute;\n  transform-origin: bottom left;\n  -webkit-transform-origin: bottom left;\n  margin: 15px 0 0 20px;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD svg {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  position: relative;\n  margin: 0 4px 0 0;\n  top: 5px;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD svg path {\n  fill: #108BE3;\n}\n.styles_chart__3TN3X .styles_date__3jLQg {\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_date__3jLQg a {\n  position: absolute;\n  right: 0;\n}\n.styles_chart__3TN3X .styles_zoomText__OFj8g {\n  font-weight: normal;\n  font-size: 16px;\n  color: #108BE3;\n  padding: 0 0 20px;\n}\n.styles_chart__3TN3X .styles_localRange__3BkLX {\n  font-size: 12px;\n  top: 0;\n  padding: 17px 20px 0 0;\n  margin: 0;\n  right: 0;\n  transform-origin: top right;\n  -webkit-transform-origin: bottom left;\n  position: absolute;\n}\n.styles_chart__3TN3X .styles_zoomedRange__2Eoyo {\n  font-size: 12px;\n  top: 0;\n  padding: 17px 20px 0 0;\n  margin: 0;\n  right: 0;\n  position: absolute;\n  opacity: 0;\n  transform-origin: bottom right;\n  -webkit-transform-origin: bottom left;\n}\n.styles_chart__3TN3X .styles_ctrls__1QGXt {\n  padding: 0 6px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  transition: transform .3s ease;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb {\n  margin: 10px 0 0 10px;\n  padding: 9px 12px 9px 30px;\n  cursor: pointer;\n  position: relative;\n  border-radius: 7px;\n  border-width: 1px;\n  border-style: solid;\n  font-size: 14px;\n  min-width: auto;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb.styles_shake__cxUqQ {\n  -webkit-animation: styles_shake__cxUqQ .3s ease alternate;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb svg {\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_name__13yyl {\n  font-weight: normal;\n  display: inline-block;\n  transition: transform .15s ease, opacity .15s ease;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG {\n  position: absolute;\n  padding: 8px 10px;\n  border-radius: 10px;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.4);\n  white-space: nowrap;\n  max-width: 300px;\n  z-index: 9999;\n  transform: translate3d(0, -200px, 0);\n  -webkit-transform-origin: bottom left;\n  top: 0;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  min-width: 155px;\n  opacity: 0;\n  transition: opacity .3s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 200px;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_xval__2fECb {\n  font-weight: bold;\n  margin: 0 22px 5px 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_label__1nh3o, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  padding: 5px 0 0 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\n  display: none;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelPercent__3drGS {\n  display: none;\n  font-weight: bold;\n  font-size: 12px;\n  text-align: right;\n  min-width: 30px;\n  padding: 0 10px 0 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelName__2M57m, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelNameTotal__3VUst {\n  font-size: 12px;\n  padding: 0 10px 0 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValue__3m_Aj, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValueTotal__1ihZO {\n  font-weight: bold;\n  font-size: 12px;\n  flex: 1;\n  text-align: right;\n}\n");var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},T=function(){var e={grid:{color:"#182D3B",alpha:.1,markerFillColor:"#fff"},legend:{background:"#fff",color:"#000"},preview:{maskColor:"#E2EEF9",maskAlpha:.6,brushColor:"#C0D1E1",brushBorderColor:"#fff",brushBorderAlpha:1,handleColor:"#fff"},xAxis:{textColor:"#8E8E93",textAlpha:1},yAxis:{textColor:"#8E8E93",textAlpha:1},title:{color:"#000"},localRange:{color:"#000"},zoomedRange:{color:"#000"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"}},t=Math.PI/180,o='BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=window.devicePixelRatio,l=220,s=150,d=void 0!==window.orientation,c=[],h=.99,f=["globalStart","globalEnd","localStart","localEnd","vLineX","vLineY","legendIsVisible","isZoomed","isZooming"],p={inQuad:function(e,t,o,a){return o*(e/=a)*e+t},outQuad:function(e,t,o,a){return-o*(e/=a)*(e-2)+t},inCubic:function(e,t,o,a){return o*(e/=a)*e*e+t},outCubic:function(e,t,o,a){return o*((e=e/a-1)*e*e+1)+t},outSine:function(e,t,o,a){return o*Math.sin(e/a*(Math.PI/2))+t},outBack:function(e,t,o,a,n){return n||(n=1.5),o*((e=e/a-1)*e*((n+1)*e+n)+1)+t}},m={time:function(e){return function(e){var t=new Date(e),o=""+t.getHours(),a=""+t.getMinutes();return o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),o+":"+a}(e)},date:function(e){return v(e)},shortDate:function(e){return v(e)},longDate:function(e){return g(e)},longDateWeekDay:function(e){return v(e,!0,!0)},float1:function(e){return parseFloat(e).toFixed(1)},float2:function(e){return parseFloat(e).toFixed(2)},number:function(e){return u(e)},undefined:function(e){return Math.round(e)}};function u(e){return void 0===e?"":Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function g(e,t){var o=t||new Date(e);return o.getDate()+" "+i[o.getMonth()]+" "+o.getFullYear()}function v(e,t,o){var r=new Date(e);return t?(o?n[r.getDay()]:a[r.getDay()])+", "+g(0,r):i[r.getMonth()]+" "+r.getDate()}function y(e){return document.getElementById(e)}function w(e){var t,o=e.length;if(0==(o&o-1))t=2*o-1;else{var a=Math.floor(Math.log(o)/Math.log(2));t=2*Math.pow(2,a+1)-1}return new Array(t)}function _(e){return 2*e+2}function S(e){return 2*e+1}function T(e,t,o,a,n,i){if(o!==a){var r=Math.floor((o+a)/2);T(e,t,o,r,S(n),i),T(e,t,r+1,a,_(n),i),e[n]=i(e[S(n)],e[_(n)])}else{var l=t[o];e[n]=isNaN(l)?0:l}}function M(e,t,o){T(e,t,0,t.length-1,0,o)}function C(e,t,o,a,n,i,r,l){if(t<=a&&o>=n)return e[i];if(t>n||o<a)return l;var s=Math.floor((a+n)/2);return r(C(e,t,o,a,s,S(i),r,l),C(e,t,o,s+1,n,_(i),r,l))}function A(e,t,o,a,n,i){return C(e,o,a,0,t-1,0,n,i)}return function a(n,i,g,v,_){var S="object"===(void 0===n?"undefined":b(n))?n.id:n;S||(S=n.id="charty-"+c.length);var T,C,X,E,k,P,z={progress:0,needMeasure:!0,yPos:[]},L=_,Y=[],B=[],N={},j={},G=[],O=[],R=[],D={},W={},F={},I=c.length,Z=v||{chart:{topPadding:50,hPadding:15,height:400},pie:{segmentShift:5},preview:{height:46,vPadding:1,radius:8,lineWidth:1,handleW:9,handleTick:10,minBrushSize:10,hitSlop:10},grid:{lineWidth:1,legendShift:-10,markerRadius:3,markerLineWidth:4},xAxis:{textWidth:80,height:32,fadeTime:250},yAxis:{textCount:5,fadeTime:500},main:{lineWidth:2,vPadding:15}},V=this;function U(e){var t=P||e;for(var o in t)if(Z[o])if(Z[o].stylo)Z[o].stylo(t[o]);else for(var a in t[o])Z[o][a]=t[o][a];function n(e){e.color=t.colors&&t.colors[e.name]?t.colors[e.name]:e._color,e.fillColor=t.fillColors&&t.fillColors[e.name]?t.fillColors[e.name]:e._fillColor,e.hideFromLegend=t.hideFromLegend&&t.hideFromLegend[e.name]?t.hideFromLegend[e.name]:e._hideFromLegend,e.buttonTextColor=t.buttonTextColor&&t.buttonTextColor[e.name]?t.buttonTextColor[e.name]:e._buttonTextColor}B.map((function(e,t,o){n(e),we(t,e.off,o)})),z.zoomedChart&&z.zoomedChart.getSeries().map((function(e){n(e)})),z.stepGridX=void 0,z.stepGridY=void 0,ue()}function H(e,t){return t&&(Y=t),e.replace(/\[([^\]]+)\]/g,(function(e,t){return B.map((function(e,o){return t.replace(/\{(\w+)\}/g,(function(t,a){return"i"===a?o:e[a]}))})).join("")})).replace(/\|([^\s>]+)/g,(function(e,t){return Y.indexOf(t)<0&&Y.push(t),S+"-"+t}))}function Q(t){if(t)return P=t,z.zoomedChart&&(z.zoomedChart.setTheme(t),z.zoomedChart.updateTheme()),U();g?P=g.getTheme():P||(P=i.theme||e)}function J(){Z.legend.innerHTML=H('<div id=|date><span id=|xval></span></div>      [<div id=|label{i}>        <div id=|labelPercent{i}></div>        <div id=|labelName{i}></div>        <div id=|labelValue{i} style="color:{color}"></div>      </div>]      <div id=|labelTotal>        <div id=|labelNameTotal>All</div>        <div id=|labelValueTotal></div>      </div>',[]),Y.map(ke)}function q(){z.showButtons?(Z.ctrls.innerHTML=H('[<label id=|checkbox{i} style="background: {color}; border-color: {color}">        <span id=|name{i} style="color:#fff">{name}</span>        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">          <path id=|chk{i} d="m9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"/>        </svg>      </label>]',[]),Y.map(ke),B.map((function(e,t){Z["checkbox"+t].on("mousedown touchstart",(function(e){Ee(e),z.tapStarted=Date.now(),z.tapTimer&&clearTimeout(z.tapTimer),z.tapTimer=setTimeout((function(){z.tapTimer=0;for(var e=0;e<T;e++){var o=B[e];(!o.off&&e!==t||o.off&&e===t)&&_e(e,e!==t)}z.seriesCount=1,z.prevSeriesCount=0}),700)})).on("mouseup touchend",(function(e,o,a,n,i){if(Ee(e),z.tapTimer){clearTimeout(z.tapTimer),z.tapTimer=0;for(var r=0;r<T;r++)if(r!==t&&!B[r].off)return _e(t);i.shake()}})),we(t,e.off)}))):Z.ctrls.innerHTML=""}function K(e){var t=void 0!==e?!e:!z.showPreview;be("previewA",t?1:0,t?0:1,300);var o=e?0:Z.preview.height+10;Z.ctrls.stylo({transform:"translate3d(0, -"+o+"px, 0)"}),z.showPreview=!t}function $(e){throw e}function ee(){z.showLegend=!1!==i.showLegend,z.showButtons=!1!==i.showButtons&&T>1,z.showPreview=!1!==i.showPreview,z.showMainArea=!1!==i.showMainArea,z.showBrush=!1!==i.showBrush,z.showRangeText=!1!==i.showRangeText,z.showLegendTitle=!1!==i.showLegendTitle,z.stepX=i.stepX||1,z.zoomStepX=i.zoomStepX||1,z.autoScale=!1!==i.autoScale}function te(e){var t=i.data;if(B=[],N={},j={},Y=[S],W={previewA:z.showPreview?1:0},!t)return $("The data parameter is missing.");if(!(t.x&&t.x instanceof Array))return $("The x-axis data is missing.");var o=i.type||"line";["line","stacked","area","percentage","multi_yaxis","bar","pie"].forEach((function(e){j[e]=o.indexOf(e)>=0})),Object.keys(t).forEach((function(e){var o=t[e];"x"===e?C=o:B.push({data:o,color:(i.colors||{})[e],buttonTextColor:(i.buttonTextColor||{})[e],hideFromLegend:(i.hideFromLegend||{})[e],disabled:(i.off||{})[e],fillColor:(i.fillColors||{})[e],name:(i.names||{})[e],type:i.type})})),T=B.length,X=C.length,N.min=C[0],N.max=C[X-1],N.d=N.max-N.min,z.globalStart===N.min&&z.globalEnd===N.max||(z.localStart=i.startX||2/3*N.d+N.min,z.localEnd=i.endX||N.max,z.globalStart=N.min,z.globalEnd=N.max,z.prevStepGridX=void 0),z.localMM=void 0,z.globalMM=void 0,j.linear=j.line||j.multi_yaxis,ee(),W={previewA:z.showPreview?1:0};for(var a=0;a<T;a++){var n,r=!1;(n=B[a])._color=n.color,n._fillColor=n.fillColor,n._buttonTextColor=n.buttonTextColor,n._hideFromLegend=n.hideFromLegend,j.percentage||(R[a]=w(n.data),M(R[a],n.data,Math.max),O[a]=w(n.data),M(O[a],n.data,Math.min)),k&&k[a]&&k[a].name===n.name&&(r=k[a].off),n.off=void 0!==n.disabled?n.disabled:r,W["alphaY"+a]=n.off?0:1,W["on"+a]=n.off?0:1}z.minBrushSize=N.d*Z.preview.minBrushSize/100,z.seriesCount=T,Q(),e||(g?g.togglePreview(z.showPreview):(y(S).innerHTML=H('<div id=|header>      <h3 id=|title></h3>      <h3 id=|zoom>        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">          <path id=|zoomIcon d="M13 10h-8v-2h8v2zm8.172 14l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"/>        </svg>        <span id=|zoomText>Zoom Out</span>      </h3>      <h4 id=|localRange></h4>      <h4 id=|zoomedRange></h4>    </div>    <canvas id=|canvas></canvas>    <div id=|ctrls></div>    <div id=|legend></div>'),Y.map(ke),K(z.showPreview),Z.title.innerText=i.title,L=Z.canvas.getContext("2d"),V.isHooked&&je(),V.isHooked=!0,document.addEventListener("mousemove",Me),window.addEventListener("resize",Le),window.addEventListener("scroll",Ye),Z.legend.on("touchmove mousemove",Ee),Z.legend.on("touchstart mousedown",(function(e,t){isNaN(z.vLineX)||z.zoomedChart||Pe(z.vLineX)})),Z.canvas.on("touchmove mousemove",(function(e,t,o,a){for(var n=0,r=c.length;n<r;n++)n!==I&&c[n].dismiss();if(z.vLineX=void 0,z.vLineY=void 0,z.pieX=void 0,z.pieY=void 0,z.isZoomed&&j.area||(2===a&&(z.vLineX=t,z.vLineY=o),isNaN(z.vLineX)||(z.legendIsVisible=!1),Ae()),(j.pie||z.isZoomed&&j.area)&&2===a&&(z.pieX=t-Z.main.width/2,z.pieY=o-Z.main.height/2-Z.chart.topPadding),a>=3&&Xe(),ue(),(!d||F.draggingArea>=4)&&Ee(e),z.showBrush){Ne(a);var l,s,h,f,p=z.localEnd-z.localStart,m=(z.zoomedChart?z.zoomedChart.getProps().stepX:z.stepX)||1,u=z.isZoomed||j.pie?m:Math.max(m,z.minBrushSize);z.isZoomed&&i.zoomStepX&&(m=i.zoomStepX),6===F.draggingArea?(l=Ce(re(t),z.globalStart,z.localEnd-u),h=z.localStart-l,!j.pie&&1===m&&Math.abs(h)/m>=1?z.localStart=l:Math.abs(h)>.5*m&&(f=m*Math.ceil(h/m),Be(z.localStart-f,Math.min(z.localEnd,z.globalEnd)))):7===F.draggingArea?(s=Ce((t+Z.preview.handleW/2-Z.chart.hPadding)/Z.preview.width*(z.globalEnd-z.globalStart)+z.globalStart,z.localStart+u,z.globalEnd),h=z.localEnd-s,!j.pie&&1===m&&Math.abs(h)/m>=1?z.localEnd=s:Math.abs(h)>.5*m&&(f=m*Math.floor(h/m),Be(Math.max(z.globalStart,z.localStart),z.localEnd-f))):5===F.draggingArea&&(l=Ce((t-z.deltaDragX-Z.preview.handleW/2-Z.chart.hPadding)/Z.preview.width*(z.globalEnd-z.globalStart)+z.globalStart,z.globalStart,z.globalEnd-p),s=Ce(l+p,z.globalStart,z.globalEnd),h=z.localEnd-s,!j.pie&&1===m&&Math.abs(h)/m>=1?(z.localStart=l,z.localEnd=s):Math.abs(h)>.5*m&&(f=m*Math.round(h/m),Be(z.localStart-f,z.localEnd-f)))}})),Z.zoom.on("touchstart mousedown",(function(){var e;z.isZoomed&&(e=!1!==i.showPreview,V.togglePreview(e),function(e){if(!z.isZoomed)return Pe();var t=z.globalStart,o=z.globalEnd,a=z.localStart,n=z.localEnd;z.isZooming=!0,be("zoomOut",1,0,300,(function(e){var i=1-e;z.globalStart=t-i*(t-z._globalStart),z.globalEnd=o-i*(o-z._globalEnd),z.localStart=a-i*(a-z._localStart),z.localEnd=n-i*(n-z._localEnd),z.progress=e,Z.title.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),Z.zoom.stylo({opacity:e,transform:"scale("+e+", "+e+")"},!0),Z.localRange.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),Z.zoomedRange.stylo({opacity:e,transform:"scale("+e+", "+e+")"},!0),ge(Z.localRange),Ae()}),p.inCubic,(function(){z.isZooming=!1,z.isZoomed=!1,z.forceUpdate=!0,Le(),z.zoomedChart&&(z.zoomedChart.destroy(),z.zoomedChart=void 0),Me(),ze()})),z.zoomedChart&&(z.zoomedChart.getSeries().map((function(e,t){var o=e.off;B[t]&&B[t].name===e.name&&(B[t].off=o,W["alphaY"+t]=o?0:1,W["on"+t]=o?0:1)})),q(),U(),K(z.showPreview)),Xe()}())})),Z.canvas.on("touchstart mousedown",(function(e,t,o,a){if(z.showBrush)if(F.draggingArea=a,a>4)z.deltaDragX=t-ie(z.localStart)-Z.preview.handleW/2;else if(4===a){var n=z.localEnd-z.localStart,i=re(t),r=i-n/2,l=i+n/2,s=z.globalStart-r,d=l-z.globalEnd;s>0?(r=z.globalStart,l=z.globalStart+n):d>0&&(r=z.globalEnd-n,l=z.globalEnd),Be(r,l)}})),Z.canvas.on("touchend touchcancel mouseup",(function(e,t,o,a){z.showBrush&&(d||isNaN(z.vLineX)||z.zoomedChart||Pe(z.vLineX),F.draggingArea=0,Ne(a))})))),J(),q(),U(),z.forceUpdate=!0,ue(),me(),e||xe()}function oe(e){return Ce(Math.round((X-1)*(e-N.min)/N.d),0,X-1)}function ae(e){return Ce(Math.ceil((X-1)*(e-N.min)/N.d),0,X-1)}function ne(e){return Ce(Math.floor((X-1)*(e-N.min)/N.d),0,X-1)}function ie(e){return(e-z.globalStart)/(z.globalEnd-z.globalStart)*Z.preview.width+Z.chart.hPadding}function re(e){return(e-Z.preview.handleW/2-Z.chart.hPadding)/Z.preview.width*(z.globalEnd-z.globalStart)+z.globalStart}function le(e){Z.canvas.rect(e,Z.chart.height-(Z.preview.height+Z.preview.handleTick)/2,2,Z.preview.handleTick,2,!0,!0)}function se(e,t,o,a,n,r,l){var s=W["stepGridXA"+t];if(void 0===s&&(s=1),0!==(s=s*Z.xAxis.textAlpha*l)){o-=o%t,L.fillStyle=Z.xAxis.textColor,L.globalAlpha=s;for(var d,c,h=o;h<=a;h+=t)!e&&t<z.prevStepGridX&&h%z.prevStepGridX==0||e&&t>z.prevStepGridX&&h%z.prevStepGridX==0||e&&z.stepGridX>z.prevStepGridX&&h%z.stepGridX==0||(d=Z.chart.hPadding+(C[h]-z.localStart)*n,c=i.xAxisType instanceof Function?i.xAxisType(C[h]):m[i.xAxisType](C[h]),L.fillText(c,d,r))}}function de(e,t,o,a,n,r,l,s,d){for(var c,h,f,p,u=a,g=0,v=j.multi_yaxis?W.alphaY0:1,y=j.multi_yaxis?W.alphaY1:1,x=W["stepGridYA"+t];u<n;)h=0===g&&t>10?10*Math.ceil(u/10):u,f=Z.xAxis.y-(u-a)*o,e&&g>0&&z.yPos[g]&&(f+=(f-z.yPos[g])*x),p=""+Math.floor(0===g?a:h),L.globalAlpha=x*d*v*Z.yAxis.textAlpha,L.fillStyle=j.multi_yaxis?B[0].color:Z.yAxis.textColor,c=i.yAxisType instanceof Function?i.yAxisType(p):m[i.yAxisType](p),L.fillText(c,Z.chart.hPadding,f-5),j.multi_yaxis&&(L.fillStyle=B[1].color||Z.yAxis.textColor,p=Math.max(0,Math.floor(s+(u-a)/r*l)),g>0&&p>50&&(p=10*Math.ceil(p/10)),L.globalAlpha=x*d*y,c=i.yAxisType instanceof Function?i.yAxisType(p):m[i.yAxisType](p),L.fillText(c,Z.main.width-Z.chart.hPadding-L.measureText(c).width-5,f-5)),Z.canvas.line(Z.chart.hPadding,f,Z.main.width-Z.chart.hPadding,f,Z.grid.lineWidth,Z.grid.color,x*Z.grid.alpha*d),e||(z.yPos[g]=f),0===g&&t>10?u=(h+=t-h%t)-u<.6*t?h+t:h:u+=t,g++}function ce(e){var t;return e instanceof Object?("linear_gradient_h"===e.type&&(t=L.createLinearGradient(0,0,Z.main.width,0)),"linear_gradient_v"===e.type&&(t=L.createLinearGradient(0,0,0,Z.main.height)),e.colors.forEach((function(e,o,a){t.addColorStop(o/(a.length-1),e)})),t):e}function he(e,t,a){for(var n=T-1;n>=0;n--){var i=B[n],r=Math.round(100*i.percent);if(!i.off){var l=13+30*i.percent,s=r<4?t+l+2:t/1.25,d=r<1?"<1%":r+"%";L.font=l+"px "+o;var c=L.measureText(d),h=Z.main.width/2+(1-i.percent)*s*Math.cos(i.angle)-c.width/2+2*i.dx,f=Z.main.height/2+(1-i.percent)*s*Math.sin(i.angle)+l/4+2*i.dy;L.globalAlpha=e*i.alpha*a,L.fillStyle=r<4?i.color:Z.pie.textColor,L.fillText(d,h,f)}}}function fe(e,o,a,n){for(var i,r=n||Math.min(Z.main.height,Z.main.width)/2-25,l=new Array(T),d=0,c=90*t,h=j.pie?1:z.progress,f=0;f<T;f++)for(var p=B[f],m=W["on"+f],u=e;u<=o;u++)A=p.data[u],l[f]=u===e?A:l[f]+A,0===f&&(d+=E[u]);if(j.area||(L.save(),L.translate(Z.main.width/2,Z.main.height/2)),!isNaN(z.pieX)){var g=Math.sqrt(z.pieX*z.pieX+z.pieY*z.pieY),v=Math.atan2(z.pieY,z.pieX);(v-=90*t)<0&&(v+=2*Math.PI)}for(f=T-1;f>=0;f--){p=B[f];var y=W["on"+f],x=l[f]/d,b=W["pieZoom"+f]||0,w=m=360*h*x*y*t,_=c-90*t,S=b*Z.pie.segmentShift*Math.cos(90*t+_+m/2),M=b*Z.pie.segmentShift*Math.sin(90*t+_+m/2),C=b*Z.pie.segmentShift,A=Math.round(100*x);if(G[f]=x,A>=1&&g<=r&&v>=_&&v<_+m&&(i=f),p.angle=c+m/2,p.percent=y*x,p.alpha=y,p.val=l[f],p.dx=S,p.dy=M,p.z=b,L.globalAlpha=a,L.fillStyle=p.color,L.beginPath(),L.moveTo(S,M),1===z.seriesCount&&!p.off){L.arc(0,0,r+C,c,c+360*t),L.fill();break}w=C/(360-180*x),L.arc(S,M,r+C,c+w,c+m+t*y-w),L.fill(),c+=m}isNaN(i)?isNaN(z.segment)||(be("pieZoom"+z.segment,1,0,s,0),z.segment=void 0):z.segment!==i&&(be("pieZoom"+i,0,1,s),isNaN(z.segment)||be("pieZoom"+z.segment,1,0,s,0),z.segment=i),j.area||(L.restore(),he(h,r,a))}function pe(e,o,a,n,i,r,l,s,d,c){var f=a/(r-i),p=oe(i-l/f),m=oe(r+l/f);L.globalAlpha=o,j.bar?function(e,t,o,a,n,i,r,l,s,d,c,h){for(var f,p,m,u,g,v,y,x=1-z.progress,b=ne(n-i/h),w=Z.main.width/(c-d-.5),_=0,S=new Array(X),M=0;M<T;M++)A=W[e+"DY"+M]*W["on"+M],_=j.stacked?_+A:Math.max(_,A);for(z.showLegend&&z.vLineX>=0&&(f=ne(p=z.localStart+(z.highlightedX-Z.chart.hPadding)/Z.preview.width*(z.localEnd-z.localStart))),M=0;M<T;M++){m=W["alphaY"+M]*x,L.globalAlpha=t*(s?m:f>=0?.5:m),L.fillStyle=B[M].color,L.beginPath(),u=(a+Z.main.vPadding/2)/_;for(var A,E,k=b;k<=c;k++)A=B[M].data[k]*W["on"+M],E=S[k]||0,p=l+i+(C[k]-n)*h,L.rect(p,r-E*u,w,-A*u),f===k&&(g=p,v=r-E*u,y=-A*u),j.stacked&&(S[k]=E+A);L.fill(),!s&&f>=0&&(L.globalAlpha=m*t,L.fillRect(g,v,w,y))}}(e,o,0,n,i,l,s,d,c,p,m,f):j.area||j.pie&&c?function(e,o,a,n,i,r,l,s,d,c){var f=a/(r-i),p=ne(i-l/f),m=ae(r+l/f),u=new Array(X),g=c?0:z.progress,v=Math.min(Z.main.height,Z.main.width)/2-25,y=Math.min(1,g),x=1-g;y>0&&!c&&(p=ne((i=z._localStart)-l/(f=a/((r=z._localEnd)-i))),m=ae(r+l/f)),c||(n+=Z.main.vPadding);var b=n/(1+g),w=b/100,_=0,S=!1;if(c||(d-=Z.main.width/2,s-=v+15,L.save(),y<1&&Z.canvas.rect(y*(Z.main.width/2-v),25*y,2*v*y+(1-y)*(Z.main.width-l),2*v+50*x,y*v,!0,!0,!0),L.translate(Z.main.width/2,Z.main.height/2),!c&&y<=h&&L.transform(1+y,0,0,1+y,0,0),y>h&&fe(oe(z.localStart),oe(z.localEnd-z.zoomStepX),o,v)),y<=h||c){_=0;for(var M=T-1;M>=0;M--){var A=B[M],k=(A.data[z.selectedIndex]||0)/(E[z.selectedIndex]||1),P=180*k,Y=!1,N=0,j=W["on"+M];c||(N=180*g*k*j*t,L.rotate(_+N)),Z.canvas.startLine(j,0,A.color,L.lineWidth);for(var G,O,R,D,F,I,V=p;V<=m;V++){if(F=u[V]||0,G=100*A.data[V]/E[V]*j,O=d+l+(C[V]-i)*f,R=s-b+x*F*w,I=c?0:Math.abs(O)/Math.tan((90*x+g*P)*t),V===p?(D=O,L.moveTo(O,x*R+I)):!Y&&O>=0&&g>.5?(Y=!0,L.lineTo(O*x,x*(x*R+I))):L.lineTo(O,x*R+I),V===m)if(A.off||S)L.lineTo(O,2*s),L.lineTo(D,2*s);else if(S=!0,L.globalAlpha=o,L.fillStyle=A.color,L.fillRect(D,26-s,O-D,2*s),1===z.seriesCount)break;u[V]=F+G}if(L.fill(),c||(L.rotate(-_-N),_+=2*N),1===z.seriesCount&&!A.off)break}}c||(L.restore(),he(y,v,o))}(0,o,a,n,i,r,l,s,d,c):j.pie?fe(p,m,o):j.linear&&function(e,t,o,a,n,i,r,l,s,d){t-=Z.grid.markerRadius+Z.grid.markerLineWidth;for(var c,h,f,p,m,u,g=0;g<T;g++){f=B[g].data,p=ce(B[g].color),m=ce(B[g].fillColor),Z.canvas.startLine((1-z.progress)*W["alphaY"+g],p,m,L.lineWidth),c=j.multi_yaxis?g:"",d=t/W[e+"DY"+c];for(var v=r;v<=l;v++)h=i+a+(C[v]-o)*s,v===r&&(u=h,L.moveTo(h,n-(f[v]-W[e+"MinY"+c])*d)),L.lineTo(h,n-(f[v]-W[e+"MinY"+c])*d);m?(L.stroke(),L.lineTo(h,n),L.lineTo(u,n),L.fill()):L.stroke()}}(e,n+7,i,l,s,d,p,m,f,void 0)}function me(){var e=window.innerWidth,t=window.innerHeight,o=window.pageYOffset;o!==z.pageYOffset&&(Z.box.measure(),z.pageYOffset=o),Z.chart.height=z.showMainArea?400:46,(z.needMeasure||z.prevW!==e||z.prevH!==t)&&(z.prevW=e,z.prevH=t,Z.box.measure(),Z.box.h<Z.chart.height&&(z.prevH=0),Z.main.height=Z.chart.height-Z.preview.height-Z.xAxis.height,Z.main.y=0,Z.main.width=Z.box.w,Z.xAxis.y=Z.main.y+Z.main.height,Z.preview.y=Z.chart.height-Z.preview.height,Z.preview.width=Z.box.w-2*Z.chart.hPadding,Z.preview.minHeight=Z.preview.height-2*Z.preview.vPadding,Z.canvas.attr("width",Z.main.width*r).attr("height",Z.chart.height*r).stylo({width:Z.main.width,height:Z.chart.height}),L.scale(r,r),ue()),z.needMeasure=!1}function ue(){F.repaint=!0,z.zoomedChart&&z.zoomedChart.repaint()}function ge(e,t,o){if(!z.isZooming)if(z.showRangeText){var a,n=void 0===t?z.localStart:t,r=void 0===o?z.localEnd:o,l=z.zoomedChart?z.zoomedChart.getProps():void 0,s=l?l.rangeTextType:i.rangeTextType;if("date"===i.xAxisType&&(r-=l?l.zoomStepX||l.stepX||1:i.zoomStepX||z.stepX),s instanceof Function)a=s(n,r);else if(void 0===a){var d=m[s](n),c=m[s](r);a=d===c?d:d+" - "+c}e.innerText=a}else e.innerText=""}function ve(e,t){var o=1/0,a=-1/0,n=Math.max(0,e),r=Math.min(X,t);function l(e){e>a&&(a=e),e<o&&(o=e)}for(var s,d=0;d<T;d++)!(s=B[d]).off||j.multi_yaxis?j.stacked||j.bar||j.percentage?(z.autoScale?(s.max=A(R[d],X,n,r,Math.max,-1/0),s.min=0):(s.max=void 0===i.maxY?A(R[d],X,0,X,Math.max,-1/0):i.maxY,s.min=i.minY||0),s.d=s.max):j.multi_yaxis?(z.autoScale?(s.min=A(O[d],X,n,r,Math.min,1/0),s.max=A(R[d],X,n,r,Math.max,-1/0)):(s.min=void 0===i.minY?A(O[d],X,0,X,Math.min,1/0):i.minY,s.max=void 0===i.maxY?A(R[d],X,0,X,Math.max,-1/0):i.maxY),s.d=s.max-s.min):(l(A(O[d],X,n,r,Math.min,1/0)),l(A(R[d],X,n,r,Math.max,-1/0))):(s.max=0,s.min=0,s.d=0);return o=z.autoScale||void 0===i.minY?o:i.minY,a=z.autoScale||void 0===i.maxY?a:i.maxY,o===1/0&&z.localMM?z.localMM:{min:o,max:a,d:a-o}}function ye(e,t,o){var a,n;if(z.autoScale?n=ve(t,o):(n=z[e+"MM"])||(n=ve(0,X)),j.multi_yaxis||j.stacked||j.bar||j.area){if(W[e+"DY0"])for(i=0;i<T;i++)!(a=(r=B[i])[e+"MM"])||r.min===a.min&&r.d===a.d||(be(e+"DY"+i,a.d,r.d,l),be(e+"MinY"+i,a.min,r.min,l));else for(var i=0;i<T;i++){var r=B[i];W[e+"MinY"+i]=r.min,W[e+"DY"+i]=r.d}for(i=0;i<T;i++)(r=B[i])[e+"MM"]={min:r.min,max:r.max,d:r.d}}else!(a=z[e+"MM"])||z.movingBrush?(W[e+"MinY"]=n.min,W[e+"DY"]=n.d):n.min===a.min&&n.d===a.d||(be(e+"DY",a.d,n.d,l),be(e+"MinY",a.min,n.min,l)),z[e+"MM"]=n}function xe(e){if(!(X<2||z.isDestroyed)){!function(e){var t,o=!0;for(var a in D)if(!(t=D[a]).off){if(t.started||(t.started=e),!1===i.animated)t.update?t.update(t.to):W[a]=t.to,t.cb&&t.cb(),t.off=!0;else{var n=e-t.started,r=t.ease(n,t.from,t.to-t.from,t.duration);t.update?t.update(r):W[a]=r,n>t.duration?(t.update?t.update(t.to):W[a]=t.to,t.cb&&t.cb(),t.off=!0):o=!1}ue(),g&&g.repaint()}o&&(D={})}(e),requestAnimationFrame(xe),z.needMeasure&&me();var t=z.prevLocalStart!==z.localStart||z.prevLocalEnd!==z.localEnd,a=z.prevGlobalStart!==z.globalStart||z.prevGlobalEnd!==z.globalEnd,n=z.seriesCount!==z.prevSeriesCount;F.repaint&&(j.percentage||j.pie?(!E||z.forceUpdate||z.isOnOffAnimating||n)&&function(){E=new Array(X);for(var e=0;e<T;e++)for(var t,o=0;o<X;o++)t=B[e].data[o]*W["on"+e],E[o]=0===e?t:E[o]+t}():((n||a||z.forceUpdate)&&ye("global",ae(z.globalStart),ae(z.globalEnd)),(t||n||a||z.forceUpdate)&&ye("local",ae(z.localStart),ae(z.localEnd))),(t||a||z.forceUpdate)&&ge(Z.localRange),z.prevSeriesCount=z.seriesCount,z.prevLocalStart=z.localStart,z.prevLocalEnd=z.localEnd,z.prevGlobalStart=z.globalStart,z.prevGlobalEnd=z.globalEnd,z.hidden||(g||L.clearRect(0,Z.main.y-5,Z.main.width,Z.chart.height),function(){var e;z.showMainArea&&(L.lineWidth=Z.main.lineWidth,pe("local",j.percentage?1:1-z.progress,Z.preview.width,Z.main.height-1.5*Z.main.vPadding,z.localStart,z.localEnd,Z.chart.hPadding,Z.main.height,!1),(e=z.showLegend&&!isNaN(z.vLineX))&&(!(j.bar||j.pie)||j.area)&&Z.canvas.line(z.vLineX,j.area?16:4,z.vLineX,Z.main.height,Z.grid.lineWidth,Z.grid.color,Z.grid.alpha),z.zoomedChart||Se(e||j.area&&z.isZoomed))}(),function(){var e=Z.preview.height,t=Z.preview.minHeight,o=Z.preview.width,a=W.previewA;g||L.clearRect(0,Z.xAxis.y+5,Z.main.width,Z.xAxis.height+e),z.showPreview&&(L.save(),Z.canvas.rect(Z.chart.hPadding,Z.preview.y+Z.preview.vPadding,o,t,Z.preview.radius,!z.showBrush||ie(z.localStart)>Z.chart.hPadding+Z.preview.handleW/2,!z.showBrush||ie(z.localEnd)<Z.main.width-Z.chart.hPadding-Z.preview.handleW/2,!0),L.lineWidth=Z.preview.lineWidth,L.globalAlpha=a,pe("global",a,o,e-2*Z.preview.vPadding,z.globalStart,z.globalEnd,0,Z.chart.height-Z.preview.vPadding,Z.chart.hPadding,!0),z.showBrush&&(L.fillStyle=Z.preview.maskColor,L.globalAlpha=a*Z.preview.maskAlpha,L.fillRect(Z.chart.hPadding,Z.preview.y+Z.preview.vPadding,ie(z.localStart)-Z.chart.hPadding,t),L.fillRect(ie(z.localEnd),Z.preview.y+Z.preview.vPadding,Z.main.width+Z.preview.handleW-Z.chart.hPadding-ie(z.localEnd),t)),L.restore(),z.showBrush&&function(e){var t=Z.preview.handleW,o=ie(z.localStart),a=ie(z.localEnd);L.strokeStyle=Z.preview.brushColor,L.globalAlpha=e,L.lineWidth=1,(j.bar||j.area||j.pie)&&(L.fillStyle=Z.preview.brushBorderColor,L.globalAlpha=Z.preview.brushBorderAlpha,Z.canvas.rect(o-t-1,Z.preview.y-1,t+3,Z.preview.height+3,Z.preview.radius+1,!0),Z.canvas.rect(a-1,Z.preview.y-1,t+3,Z.preview.height+3,Z.preview.radius+1,!1,!0)),L.globalAlpha=e,L.fillStyle=Z.preview.brushColor,Z.canvas.rect(o-t,Z.preview.y,t,Z.preview.height,Z.preview.radius,!0),Z.canvas.rect(a,Z.preview.y,t,Z.preview.height,Z.preview.radius,!1,!0),L.strokeRect(o,Z.preview.y+Z.preview.vPadding/2,a-o,Z.preview.height-Z.preview.vPadding),L.fillStyle=Z.preview.handleColor||"#fff",le(o-6),le(a+4)}(a))}(),function(){if(!j.pie&&z.showMainArea){var e,t,a,n,r=0,l=Math.min(1,z.progress);if(L.font="11px "+o,j.percentage)t=0,r=100;else if(j.stacked||j.bar||j.percentage){for(var s,d=0;d<T;d++)s=B[d].max*W["on"+d],r=j.stacked?r+s:Math.max(r,s);t=0}else j.multi_yaxis?(r=(t=Math.max(W.localMinY0,W.localMinY1))+Math.max(W.localDY0,W.localDY1),a=Math.min(W.localDY0,W.localDY1),n=Math.min(W.localMinY0,W.localMinY1)):(r=z.localMM.max,t=z.localMM.min);e=r-t;var c=Z.main.width-2*Z.chart.hPadding,h=c/(z.localEnd-z.localStart),f=(Z.main.height-22)/e,p=ne(z.localStart-Z.chart.hPadding/h),m=ae(z.localEnd+Z.chart.hPadding/h),u=Z.xAxis.y+Z.xAxis.height/2,g=i.xAxisStep?i.xAxisStep:Math.pow(2,Math.ceil(Math.log(3*Z.xAxis.textWidth*(m-p)/c)))||1,v=Math.round(e/Z.yAxis.textCount)||1,y=5*Math.pow(10,v.toString().length-2)||1;v=Math.max(1,Math.round(v/y)*y),z.stepGridX!==g&&(z.stepGridX&&(z.stepGridX<g&&be("stepGridXA"+z.stepGridX,1,0,Z.xAxis.fadeTime),z.prevStepGridX=z.stepGridX),(!z.prevStepGridX||g<z.prevStepGridX)&&be("stepGridXA"+g,0,1,Z.xAxis.fadeTime),g>z.prevStepGridX&&(W["stepGridXA"+g]=1),z.stepGridX=g),z.prevStepGridX&&se(1,z.prevStepGridX,p,m,h,u,1-l),se(0,g,p,m,h,u,1-l),z.stepGridY!==v&&(z.stepGridY&&(be("stepGridYA"+z.stepGridY,1,0,Z.yAxis.fadeTime/2,0,0,(function(){z.prevStepGridY=0,z.yPos=[]})),z.prevStepGridY=z.stepGridY),be("stepGridYA"+v,0,1,Z.yAxis.fadeTime),z.stepGridY=v),z.prevStepGridY&&de(1,z.prevStepGridY,f,t,r,e,a,n,1-l),de(0,v,f,t,r,e,a,n,1-l),j.percentage&&(L.globalAlpha=Z.xAxis.textAlpha*(1-l),L.fillStyle=Z.yAxis.textColor,L.fillText("100",Z.chart.hPadding,12))}}()),F.repaint=!1,z.forceUpdate=!1,z.zoomedChart&&z.zoomedChart.repaint())}}function be(e,t,o,a,n,i,r){n?n(t):W[e]=t,D[e]={ease:i||p.outQuad,from:t,to:o,duration:a,update:n,cb:r}}function we(e,t,o){if(z.showButtons){var a=t?0:1,n=o||B,i=t?n[e].buttonTextColor||n[e].color:n[e].buttonTextColor||(P.buttons||{}).color||"#fff";Z["checkbox"+e].attr("class",void 0!==x?x.checkbox:"checkbox "+(t?"off":"on")).stylo({backgroundColor:t?"transparent":n[e].color,borderColor:n[e].color}),Z["chk"+e].stylo({transform:"scale("+a+")",opacity:a,fill:i},!0),Z["name"+e].stylo({transform:"translate3d("+8*(a-1)+"px, 0, 0)",color:i})}}function _e(e,t){var o=B[e];o.off=void 0!==t?t:!o.off,o.off?--z.seriesCount:++z.seriesCount;var a=o.off?1:0,n=o.off?0:1;we(e,o.off),j.stacked||j.bar||j.percentage||j.pie?(z.isOnOffAnimating=!0,be("on"+e,a,n,s,0,o.off?p.outQuad:p.inQuad,(function(){z.isOnOffAnimating=!1,z.forceUpdate=!0})),W["alphaY"+e]=1):be("alphaY"+e,a,n,s),z.zoomedChart&&z.zoomedChart.toggleCheckbox(e,t),Se(!1)}function Se(e){var t=j.pie||j.percentage&&z.isZoomed;if(t||e^z.legendIsVisible){if(t&&isNaN(z.segment))return Xe();if(e){var o,a,n=z.localStart+(z.vLineX-Z.chart.hPadding)/Z.preview.width*(z.localEnd-z.localStart),r=j.bar?ne(n):oe(n),l=Z.preview.width/(z.localEnd-z.localStart),s=j.linear?Z.grid.markerRadius+Z.grid.markerLineWidth:0,c=(Z.main.height-Z.main.vPadding-s)/W.localDY,h=1,f=0;z.showLegendTitle?(Z.xval.innerText=m[i.xAxisType](C[r]),Z.xval.stylo({display:"block"})):Z.xval.stylo({display:"none"}),z.highlightedX=z.vLineX,L.fillStyle=Z.grid.markerFillColor,L.lineWidth=Z.grid.markerLineWidth,L.globalAlpha=1,Z.date.stylo({display:t?"none":"flex"});for(var p=0,g=0;p<T;p++){var v=B[p],y=t?v.val:v.data[r];Z["label"+p].stylo({display:v.hideFromLegend||v.off||t&&p!==z.segment?"none":"flex",paddingTop:t?0:5}),v.off||(f+=y,j.multi_yaxis&&(c=(Z.main.height-Z.main.vPadding-s)/W["localDY"+p]),Z["labelName"+p].innerText=v.name,Z["labelValue"+p].stylo({color:v.color}).innerText=u(y),(j.percentage||j.pie)&&(a=y/E[r],p===T-1&&(a=1-g),g+=a,Z["labelPercent"+p].stylo({display:t?"none":"flex"}).innerText=Math.round(100*a)+"%"),j.pie||j.bar||j.percentage||(L.strokeStyle=v.color,L.beginPath(),L.arc(Z.chart.hPadding+(C[r]-z.localStart)*l,Z.xAxis.y-(v.data[r]-W["localMinY"+(j.multi_yaxis?p:"")])*c,Z.grid.markerRadius,0,2*Math.PI),L.stroke(),L.fill()))}j.stacked&&(Z.labelTotal.stylo({display:z.seriesCount>1?"flex":"none"}),Z.labelValueTotal.innerHTML=u(f)),Z.legend.measure(),t?(n=z.pieX+Z.main.width/2,o=z.pieY+Z.main.height/2):(h=z.vLineX<Z.main.width/2?0:1,n=Ce(z.vLineX-Z.grid.legendShift-h*(Z.legend.w-2*Z.grid.legendShift),2,Z.main.width-Z.legend.w-2),o="top"===i.legendPosition?Z.chart.topPadding:"bottom"===i.legendPosition?Z.xAxis.y-Z.legend.h+40:Ce(z.vLineY-Z.legend.h-(d?50:10),Z.chart.topPadding,Z.xAxis.y-Z.legend.h)),Z.legend.stylo({opacity:1,transform:"translate3d("+n+"px, "+o+"px, 0)"},!0),z.legendTimer&&clearTimeout(z.legendTimer),z.legendTimer=setTimeout(Xe,1e4)}else Xe();z.legendIsVisible=e}}function Te(){Z.canvas.stylo({cursor:"auto"})}function Me(){g||(Xe()&&ue(),F.draggingArea=0,Te())}function Ce(e,t,o){return Math.max(t,Math.min(e,o))}function Ae(){z.zoomedChart&&z.zoomedChart.setProgress(z)}function Xe(){var e=void 0!==z.vLineX;if(Z.legend)return z.vLineX=void 0,z.highlightedX=-1,Z.legend.stylo({transform:"translate3d(0, -1000px, 0)"}),z.legendTimer&&(clearTimeout(z.legendTimer),z.legendTimer=void 0),e}function Ee(e){e.stopPropagation(),e.preventDefault()}function ke(e,t){var o;return"object"===(void 0===e?"undefined":b(e))?o=e:(o=y(e===S?S:S+"-"+e),t=e===S?"chart":e.replace(/[\d]+/g,""),void 0!==x&&(t=x[t])),o.on=function(e,t){return e.split(" ").map((function(e){o.addEventListener(e,(function(e){var o=e.touches&&e.touches.length?e.touches[0]:e,a=(o.clientX||o.pageX)-Z.box.x,n=(o.clientY||o.pageY)-Z.box.y;t(e,a,n,function(e,t){var o=t-Z.chart.topPadding,a=1;if(o>=Z.main.y&&o<Z.xAxis.y)a=2;else if(o>=Z.xAxis.y&&o<Z.preview.y)a=3;else if(o>=Z.preview.y){var n=ie(z.localStart),i=ie(z.localEnd);a=e>=n-Z.preview.hitSlop&&e<=n+Z.preview.handleW+Z.preview.hitSlop/2?6:e>n+Z.preview.handleW&&e<i-Z.preview.handleW-Z.preview.hitSlop/2?5:e>=i-Z.preview.handleW-Z.preview.hitSlop/2&&e<i+Z.preview.hitSlop?7:4}return a}(a,n),this)}))})),o},o.attr=function(e,t){return o.setAttribute(e,t),o},o.append=function(e){var t=document.createElement(e);return ke(o.appendChild(t),e)},o.measure=function(){var e=o.getBoundingClientRect();return o.x=e.left,o.y=e.top,o.w=e.width,o.h=e.height,o},o.stylo=function(e,t){var a;for(var n in e)a=t?e[n]:e[n]+(isNaN(e[n])?"":"px"),o.style[n]=a,"transform"===n&&(o.style.webkitTransform=a,o.style.mozTransform=a,o.style.oTransform=a,o.style.msTransform=a);return o},o.shake=function(){o.classList.add("shake"),setTimeout((function(){o.classList.remove("shake")}),200)},o.line=function(e,t,o,a,n,i,r){isNaN(r)||(L.globalAlpha=r),L.strokeStyle=i,L.lineWidth=n,L.beginPath(),L.moveTo(e,t),L.lineTo(o,a),L.stroke()},o.rect=function(e,t,o,a,n,i,r,l){var s=n||0,d=r?s:0,c=i?s:0;if(L.beginPath(),L.moveTo(e+c,t),L.arcTo(e+o,t,e+o,t+a,d),L.arcTo(e+o,t+a,e,t+a,d),L.arcTo(e,t+a,e,t,c),L.arcTo(e,t,e+o,t,c),l)return L.clip();L.closePath(),L.fill()},o.startLine=function(e,t,o,a){L.globalAlpha=e,L.strokeStyle&&(L.strokeStyle=t),L.fillStyle&&(L.fillStyle=o),L.lineWidth=a,L.beginPath(),L.lineCap="butt",L.lineJoin="bevel"},Z[e===S?"box":e]=o,o.attr("class",t).measure()}function Pe(e){if(!z.inProgress){z.inProgress=!0;var t,o=z.localStart+(e-Z.chart.hPadding)/Z.preview.width*(z.localEnd-z.localStart),n=oe(o),r=z.globalStart,l=z.globalEnd,s=z.localStart,d=z.localEnd,c=C[n];if("date"===i.xAxisType&&((t=new Date(c)).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()),z._globalStart=z.globalStart,z._globalEnd=z.globalEnd,z._localStart=z.localStart,z._localEnd=z.localEnd,!i.onZoomIn||j.pie)return j.area?h():void(z.inProgress=!1);i.onZoomIn(C[n]).then((function(e){z.zoomedChart=new a(S,e,V,Z,L),h(),ue()}),(function(e){z.inProgress=!1,$("Error loading data: "+JSON.stringify(e)+"\n\nx: "+C[n])}))}function h(){var e,t,a,h,f,m;if(z.zoomedChart){var u=z.zoomedChart.getAxesData(),g=z.zoomedChart.getProps();m=g.stepX||z.zoomStepX||z.stepX,(f=i.zoomInterval||g.zoomInterval)?(t=(e=o-f/2)+f,h=(a=o)+m):(e=u.X.min,t=u.X.max,a=g.startX||e+Math.floor(u.X.d/2/m)*m,h=a+m)}else m=z.zoomStepX||z.stepX,f=i.zoomInterval||7*m,(a=i.startX||c)+m>=N.max&&(a-=m),h=a+m,e=Ce(c-(f-m)/2,N.min,N.max),(t=Ce(e+f,N.min,N.max))-e&&(e=Ce(t-f,N.min,N.max));ge(Z.zoomedRange,a,h),z.isZooming=!0,be("zoomIn",0,1,j.area?600:300,(function(o){var n=Math.min(1,o),i=1-n;z.progress=o,z.globalStart=r-n*(r-e),z.globalEnd=l-n*(l-t),z.localStart=s-n*(s-a),z.localEnd=d-n*(d-h),Z.title.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),Z.zoom.stylo({opacity:n,transform:"scale("+n+", "+n+")"},!0),Z.localRange.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),Z.zoomedRange.stylo({opacity:n,transform:"scale("+n+", "+n+")"},!0),Ae()}),j.area?p.outBack:p.outCubic,(function(){z.isZooming=!1,z.isZoomed=!0,z.inProgress=!1,z.forceUpdate=!0,Le(),z.zoomedChart&&z.zoomedChart.wakeUp()})),z.selectedIndex=n,Xe()}}function ze(){z.hidden=!1,z.forceUpdate=!0,ue()}function Le(){z.needMeasure=!0}function Ye(){z.needMeasure=!0}function Be(e,t){if(!(z.movingBrush||e===z.localStart&&t===z.localEnd||e>=t||t<=e)){z.movingBrush=!0;var o=z.localStart,a=z.localEnd;be("snapX",0,1,200,(function(n){z.localStart=Ce(o-n*(o-e),N.min,N.max),z.localEnd=Ce(a-n*(a-t),N.min,N.max),Ae()}),0,(function(){z.movingBrush=!1,z.forceUpdate=!0,ge(Z.zoomedRange)})),Ae()}}function Ne(e){d||F.draggingArea||(6===e||7===e?Z.canvas.stylo({cursor:"ew-resize"}):5===e?Z.canvas.stylo({cursor:"move"}):Te())}function je(){V.isHooked&&(window.removeEventListener("resize",Le),window.removeEventListener("scroll",Ye),document.removeEventListener("mousemove",Me),V.isHooked=!1)}c.push(V),g&&(k=g.getSeries()),this.updateTheme=U,this.setTheme=Q,this.getDefaultTheme=function(){return e},te(),this.togglePreview=K,this.repaint=ue,this.getSeries=function(){return B},this.getProps=function(){return i},this.getVars=function(){return z},this.getAxesData=function(){return{AX:C,AY:B,X:N}},this.toggleCheckbox=_e,this.dismiss=Me,this.hide=function(){z.hidden=!0},this.setProgress=function(e){f.forEach((function(t){z[t]=e[t]})),z.progress=1-e.progress,ue()},this.getTheme=function(){return P},this.setProps=function(e){i=Object.assign({},i,e),ee(),Me(),z.forceUpdate=!0,z.needMeasure=!0,Z.title.innerText=i.title||"",ue()},this.setShowButtons=function(e){z.showButtons=e,q(),U()},this.setShowMainArea=function(e){z.showMainArea=e,Le(),me(),ue()},this.setShowBrush=function(e){z.showBrush=e,ue(),!e&&Te()},this.setStartX=function(e){z.localStart=Ce(e,z.globalStart,z.globalEnd)},this.setEndX=function(e){z.localEnd=Ce(e,z.globalStart,z.globalEnd)},this.setAutoScale=function(e){z.localMM=void 0,z.globalMM=void 0,z.autoScale=e},this.setShowPreview=function(e){z.showPreview=e,z.zoomedChart&&z.zoomedChart.togglePreview(e),K(e)},this.restart=function(){te(!0),z.zoomedChart||(J(),q(),U())},this.wakeUp=ze,this.destroy=function(){z.isDestroyed=!0,je()}}}(),M=["data","type","colors","names"],C=function(e){function t(){var e,o,a;w(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.setRef=function(e){a.el=e},S(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),_(t,[{key:"componentDidMount",value:function(){this.charty=new T(this.el,this.props)}},{key:"shouldComponentUpdate",value:function(e,t){var o=this;return!this.charty||(this.charty.setProps(e),e.theme!==this.props.theme&&this.charty.setTheme(e.theme),e.showPreview!==this.props.showPreview&&this.charty.setShowPreview(e.showPreview),e.showButtons!==this.props.showButtons&&this.charty.setShowButtons(e.showButtons),e.showMainArea!==this.props.showMainArea&&this.charty.setShowMainArea(e.showMainArea),e.startX!==this.props.startX&&this.charty.setStartX(e.startX),e.endX!==this.props.endX&&this.charty.setEndX(e.endX),e.autoScale!==this.props.autoScale&&this.charty.setAutoScale(e.autoScale),M.findIndex((function(t){return o.props[t]!==e[t]}))>=0&&this.charty.restart(),!1)}},{key:"componentWillUnmount",value:function(){this.charty&&(this.charty.destroy(),this.charty=void 0)}},{key:"render",value:function(){return g.a.createElement("div",{ref:this.setRef,style:this.props.style})}}]),t}();C.propTypes={type:y.a.string,title:y.a.string,theme:y.a.object,animated:y.a.bool,showLegend:y.a.bool,showLegendTitle:y.a.bool,showButtons:y.a.bool,showMainArea:y.a.bool,showBrush:y.a.bool,showPreview:y.a.bool,showRangeText:y.a.bool,rangeTextType:y.a.string,xAxisType:y.a.string,yAxisType:y.a.string,xAxisStep:y.a.number,legendPosition:y.a.string,data:y.a.object,names:y.a.object,colors:y.a.object,stepX:y.a.number,startX:y.a.number,endX:y.a.number,onZoomIn:y.a.func,zoomInterval:y.a.number,zoomStepX:y.a.number,autoScale:y.a.bool,minY:y.a.number,maxY:y.a.number};var A=o(18),X=[{name:"dark",grid:{color:"#fff",alpha:.1,markerFillColor:"#242f3e"},legend:{background:"#1c2533",color:"#fff"},preview:{maskColor:"#304259",maskAlpha:.6,brushColor:"#56626D",brushBorderAlpha:0,handleColor:"#fff"},xAxis:{textColor:"#A3B1C2",textAlpha:.6},yAxis:{textColor:"#A3B1C2",textAlpha:.6},title:{color:"#fff"},localRange:{color:"#fff"},zoomedRange:{color:"#fff"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"},body:{backgroundColor:"#262f3d",color:"#fff"},noteColor:"#108BE3",octoColor:"#fff"},{name:"matrix",grid:{color:"#00ff41",alpha:.2,markerFillColor:"#0d0208"},legend:{background:"#003b00",color:"#00ff41"},preview:{maskColor:"#003b00",maskAlpha:.6,brushColor:"#009f11",brushBorderAlpha:0,handleColor:"#00ff41"},xAxis:{textColor:"#00ff41",textAlpha:.6},yAxis:{textColor:"#00ff41",textAlpha:.6},title:{color:"#008f11"},localRange:{color:"#008f11"},zoomedRange:{color:"#008f11"},zoomText:{color:"#008f11"},zoomIcon:{fill:"#008f11"},buttons:{color:"#0d0208"},pie:{textColor:"#0d0208"},colors:{Joined:"#00ff41",Left:"#008f11",Views:"#00ff41",Shares:"#008f11",Clicks:"#008f11",Kiwi:"#00ff41",Apricots:"#008f11",Lemons:"#005b00",Mango:"#7ec251",Oranges:"#145105",Pears:"#66e82f",Apples:"#0acb3b",Adventure:"#03c835",Western:"#008f11",Action:"#00ff41","Multiple Genres":"#66e82f",Drama:"#0acb3b",Comedy:"#008f11","Thriller/Suspense":"#005b00","Concert/Performance":"#7ec251",Horror:"#145105","Romantic Comedy":"#12842f",Musical:"#079d2e"},fillColors:{Joined:"#00ff4177",Left:"#00000000"},body:{backgroundColor:"#0d0208",color:"#00ff41"},noteColor:"#008f11",octoColor:"#00ff41"},{name:"light",grid:{color:"#182D3B",alpha:.1,markerFillColor:"#fff"},legend:{background:"#fff",color:"#000"},preview:{maskColor:"#E2EEF9",maskAlpha:.6,brushColor:"#C0D1E1",brushBorderColor:"#fff",brushBorderAlpha:1,handleColor:"#fff"},xAxis:{textColor:"#8E8E93",textAlpha:1},yAxis:{textColor:"#8E8E93",textAlpha:1},title:{color:"#000"},localRange:{color:"#000"},zoomedRange:{color:"#000"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"},body:{backgroundColor:"#fff",color:"#000"},noteColor:"#108BE3",octoColor:"#fff"}],E=void 0!==window.orientation,k={type:"pie",data:{x:[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],y0:[418894996,375827476,405950482,350025489,412599414,356749803,334756601,363440937,480825172,299653307,323532944],y10:[2829762,22654,11748762,10677132,13353944,17940856,284339,3501919,17013981,6864560,3667257],y1:[228907497,272137386,228669559,267026649,278874194,297981308,318724501,349637236,285649087,368643283,447980568],y12:[70848,85951,148783,190518,238718,263510,628663,286179,330890,514394,525514],y2:[151729266,244595555,213973344,187934565,209883469,164612977,201036506,245573737,157334842,147887868,176581251],y3:[292402573,191387857,174406757,188043157,131991738,199227435,155477200,153408009,162978825,87443925,94998758],y4:[106796214,128751724,116501895,117123096,186711044,138499493,118634566,129240950,82084039,77766071,67312441],y11:[10533274,2660484,396482,12035978,3561192,7980550,385326,136417,3145782,332699,298642],y5:[42770147,77957339,67327194,50987e3,44842994,57311383,31198061,44403863,56039563,115877974,98962594],y6:[46079258,85649416,65577463,72861475,42739101,24261722,32398230,8790834,15862326,9586948,26458555],y7:[36236267,5244119,22114278,10679542,27725964,43935184,30866923,8178513,28773877,99237710,45842523],y8:[12177214,24992506,11895704,10392818,16624104,6064807,10774221,7720431,5870460,5006181,11765171]},names:{y0:"Adventure",y1:"Action",y2:"Drama",y3:"Comedy",y4:"Thriller/Suspense",y5:"Horror",y6:"Romantic Comedy",y7:"Musical",y8:"Documentary",y10:"Western",y11:"Concert/Performance",y12:"Multiple Genres"},colors:{y0:"#2373DB",y1:"#EC2049",y2:"#F26B38",y3:"#F7DB4F",y4:"#A7226E",y5:"#474747",y6:"#FC9D9A",y7:"#FF4E50",y8:"#5FB641",y10:"#FC913A",y11:"#C8C8A9",y12:"#2F9599"}},P=function(e){Object(p.a)(o,e);var t=Object(m.a)(o);function o(e){var a;return Object(h.a)(this,o),(a=t.call(this,e)).setTheme=function(e){var t=X[e];document.body.style.backgroundColor=t.body.backgroundColor,document.body.style.color=t.body.color,document.querySelectorAll(".note").forEach((function(e){e.style.color=t.noteColor})),document.getElementById("octo").style.fill=t.octoColor},a.switchTheme=function(){var e=a.state.themeIdx;++e===X.length&&(e=0),a.setState({themeIdx:e}),a.setTheme(e)},a.onZoomIn=function(){var e=Object(c.a)(d.a.mark((function e(t,o){var a,n,i,r,l,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date(o),n=""+(a.getMonth()+1),i=""+a.getDate(),r=a.getFullYear(),n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),l="data/"+t+"/"+r+"-"+n+"/"+i+".json",e.next=6,fetch(l);case 6:return s=e.sent,e.abrupt("return",s.json());case 8:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),a.state={isLoaded:!1,themeIdx:0,data:[]},a}return Object(f.a)(o,[{key:"componentDidMount",value:function(){var e=Object(c.a)(d.a.mark((function e(){var t,o,a,n,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[1,2,3,4,5].map((function(e){return fetch("data/".concat(e,"/overview.json"))})),e.next=3,Promise.all(t);case 3:return o=e.sent,e.next=6,Promise.all(o.map((function(e){return e.json()})));case 6:a=e.sent,this.setState({isLoaded:!0,data:a}),n=window.location.hash.substr(1),i=X.findIndex((function(e){return e.name===n})),r=Math.max(0,i),this.setState({themeIdx:r}),this.setTheme(r);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return null;var t=E?"100%":"50%",o=X[this.state.themeIdx],a=this.state.data,i={width:t,marginTop:20};return Object(A.jsxs)(n.a.Fragment,{children:[Object(A.jsx)("h3",{className:"note",onClick:this.switchTheme,children:"Switch theme"}),Object(A.jsxs)("h4",{className:"note",children:["(click on the ",E?"legend":"chart"," to zoom in)"]}),Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)(C,Object(l.a)(Object(l.a)({title:"Followers",theme:o,style:i},a[0]),{},{onZoomIn:function(t){return e.onZoomIn(1,t)}})),Object(A.jsx)(C,Object(l.a)({title:"Fruits",theme:o,style:i},a[4])),Object(A.jsx)(C,Object(l.a)(Object(l.a)({title:"Interactions",theme:o,style:i},a[1]),{},{onZoomIn:function(t){return e.onZoomIn(2,t)}})),Object(A.jsx)(C,Object(l.a)(Object(l.a)({title:"Messages",theme:o,style:i},a[2]),{},{onZoomIn:function(t){return e.onZoomIn(3,t)}})),Object(A.jsx)(C,Object(l.a)(Object(l.a)({title:"Views",theme:o,style:i},a[3]),{},{onZoomIn:function(t){return e.onZoomIn(4,t)}})),Object(A.jsx)(C,Object(l.a)(Object(l.a)({title:"Box Office Ticket Sales",theme:o,style:i},k),{},{stepX:1,startX:2017,endX:2018}))]}),Object(A.jsx)("h3",{className:"bottom note",onClick:this.switchTheme,children:"Switch theme"})]})}}]),o}(a.Component);r.a.render(Object(A.jsx)(P,{}),document.getElementById("root"))}},[[398,1,2]]]);
//# sourceMappingURL=main.bd01b395.chunk.js.map