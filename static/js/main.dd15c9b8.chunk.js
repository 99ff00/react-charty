(window["webpackJsonpreact-charty-example"]=window["webpackJsonpreact-charty-example"]||[]).push([[0],{173:function(e,t,o){e.exports=o(383)},378:function(e,t,o){},383:function(e,t,o){"use strict";o.r(t);o(174),o(183);var a=o(14),n=o.n(a),i=o(167),r=o.n(i),l=(o(378),o(62)),s=o.n(l),d=o(105),c=o(168),h=o(169),f=o(171),p=o(170),m=o(172),u=o(106),g=o.n(u),v=o(9),y=o.n(v);var x={chart:"styles_chart__3TN3X",header:"styles_header__3PFGX",title:"styles_title__1cca0",zoom:"styles_zoom__1MrWD",date:"styles_date__3jLQg",zoomText:"styles_zoomText__OFj8g",localRange:"styles_localRange__3BkLX",zoomedRange:"styles_zoomedRange__2Eoyo",ctrls:"styles_ctrls__1QGXt",checkbox:"styles_checkbox__n3Wwb",shake:"styles_shake__cxUqQ",name:"styles_name__13yyl",legend:"styles_legend__1RMVG",xval:"styles_xval__2fECb",label:"styles_label__1nh3o",labelTotal:"styles_labelTotal__17ztL",labelPercent:"styles_labelPercent__3drGS",labelName:"styles_labelName__2M57m",labelNameTotal:"styles_labelNameTotal__3VUst",labelValue:"styles_labelValue__3m_Aj",labelValueTotal:"styles_labelValueTotal__1ihZO"};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}("/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n.styles_chart__3TN3X {\n  position: relative;\n  overflow: hidden;\n}\n.styles_chart__3TN3X .styles_header__3PFGX{\n  height: 50px;\n  position: relative;\n}\n.styles_chart__3TN3X .styles_title__1cca0 {\n  font-size: 16px;\n  margin: 15px 0 0 20px;\n  position: absolute;\n  transform-origin: top left;\n  -webkit-transform-origin: bottom left;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD {\n  opacity: 0;\n  position: absolute;\n  transform-origin: bottom left;\n  -webkit-transform-origin: bottom left;\n  margin: 15px 0 0 20px;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD svg {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  position: relative;\n  margin: 0 4px 0 0;\n  top: 5px;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD svg path {\n  fill: #108BE3;\n}\n.styles_chart__3TN3X .styles_date__3jLQg {\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_date__3jLQg a {\n  position: absolute;\n  right: 0;\n}\n.styles_chart__3TN3X .styles_zoomText__OFj8g {\n  font-weight: normal;\n  font-size: 16px;\n  color: #108BE3;\n  padding: 0 0 20px;\n}\n.styles_chart__3TN3X .styles_localRange__3BkLX {\n  font-size: 12px;\n  top: 0;\n  padding: 17px 20px 0 0;\n  margin: 0;\n  right: 0;\n  transform-origin: top right;\n  -webkit-transform-origin: bottom left;\n  position: absolute;\n}\n.styles_chart__3TN3X .styles_zoomedRange__2Eoyo {\n  font-size: 12px;\n  top: 0;\n  padding: 17px 20px 0 0;\n  margin: 0;\n  right: 0;\n  position: absolute;\n  opacity: 0;\n  transform-origin: bottom right;\n  -webkit-transform-origin: bottom left;\n}\n.styles_chart__3TN3X .styles_ctrls__1QGXt {\n  padding: 0 6px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  transition: transform .3s ease;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb {\n  margin: 10px 0 0 10px;\n  padding: 9px 12px 9px 30px;\n  cursor: pointer;\n  position: relative;\n  border-radius: 7px;\n  border-width: 1px;\n  border-style: solid;\n  font-size: 14px;\n  min-width: auto;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb.styles_shake__cxUqQ {\n  -webkit-animation: styles_shake__cxUqQ .3s ease alternate;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb svg {\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_name__13yyl {\n  font-weight: normal;\n  display: inline-block;\n  transition: transform .15s ease, opacity .15s ease;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG {\n  position: absolute;\n  padding: 8px 10px;\n  border-radius: 10px;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.4);\n  white-space: nowrap;\n  max-width: 300px;\n  z-index: 9999;\n  transform: translate3d(0, -200px, 0);\n  -webkit-transform-origin: bottom left;\n  top: 0;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  min-width: 155px;\n  opacity: 0;\n  transition: opacity .3s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 200px;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_xval__2fECb {\n  font-weight: bold;\n  margin: 0 22px 5px 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_label__1nh3o, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  padding: 5px 0 0 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\n  display: none;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelPercent__3drGS {\n  display: none;\n  font-weight: bold;\n  font-size: 12px;\n  text-align: right;\n  min-width: 30px;\n  padding: 0 10px 0 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelName__2M57m, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelNameTotal__3VUst {\n  font-size: 12px;\n  padding: 0 10px 0 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValue__3m_Aj, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValueTotal__1ihZO {\n  font-weight: bold;\n  font-size: 12px;\n  flex: 1;\n  text-align: right;\n}\n");var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},T=function(){var e='<div id=|header>      <h3 id=|title></h3>      <h3 id=|zoom>        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">          <path id=|zoomIcon d="M13 10h-8v-2h8v2zm8.172 14l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"/>        </svg>        <span id=|zoomText>Zoom Out</span>      </h3>      <h4 id=|localRange></h4>      <h4 id=|zoomedRange></h4>    </div>    <canvas id=|canvas></canvas>    <div id=|ctrls></div>    <div id=|legend></div>',t='[<label id=|checkbox{i} style="background: {color}; border-color: {color}">        <span id=|name{i} style="color:#fff">{name}</span>        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">          <path id=|chk{i} d="m9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"/>        </svg>      </label>]',o='<div id=|date><span id=|xval></span></div>      [<div id=|label{i}>        <div id=|labelPercent{i}></div>        <div id=|labelName{i}></div>        <div id=|labelValue{i} style="color:{color}"></div>      </div>]      <div id=|labelTotal>        <div id=|labelNameTotal>All</div>        <div id=|labelValueTotal></div>      </div>',a={grid:{color:"#182D3B",alpha:.1,markerFillColor:"#fff"},legend:{background:"#fff",color:"#000"},preview:{maskColor:"#E2EEF9",maskAlpha:.6,brushColor:"#C0D1E1",brushBorderColor:"#fff",brushBorderAlpha:1,handleColor:"#fff"},xAxis:{textColor:"#8E8E93",textAlpha:1},yAxis:{textColor:"#8E8E93",textAlpha:1},title:{color:"#000"},localRange:{color:"#000"},zoomedRange:{color:"#000"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"}},n=Math.PI/180,i='BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=window.devicePixelRatio,c=700,h=220,f=150,p=300,m=300,u=200,g=1e4,v={HEADER:1,MAIN:2,XAXIS:3,PREVIEW:4,BRUSH_CENTER:5,BRUSH_LEFT:6,BRUSH_RIGHT:7},y=void 0!==window.orientation,w=[],_=.99,S=["globalStart","globalEnd","localStart","localEnd","vLineX","vLineY","legendIsVisible","isZoomed","isZooming"],T={inQuad:function(e,t,o,a){return o*(e/=a)*e+t},outQuad:function(e,t,o,a){return-o*(e/=a)*(e-2)+t},inCubic:function(e,t,o,a){return o*(e/=a)*e*e+t},outCubic:function(e,t,o,a){return o*((e=e/a-1)*e*e+1)+t},outSine:function(e,t,o,a){return o*Math.sin(e/a*(Math.PI/2))+t},outBack:function(e,t,o,a,n){return n||(n=1.5),o*((e=e/a-1)*e*((n+1)*e+n)+1)+t}},M={time:function(e){return function(e){var t=new Date(e),o=""+t.getHours(),a=""+t.getMinutes();o.length<2&&(o="0"+o);a.length<2&&(a="0"+a);return o+":"+a}(e)},date:function(e){return C(e)},shortDate:function(e){return C(e)},longDate:function(e){return A(e)},longDateWeekDay:function(e){return C(e,!0,!0)},float1:function(e){return parseFloat(e).toFixed(1)},float2:function(e){return parseFloat(e).toFixed(2)},number:function(e){return E(e)},undefined:function(e){return Math.round(e)}};function E(e){return void 0===e?"":Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function A(e,t){var o=t||new Date(e);return o.getDate()+" "+s[o.getMonth()]+" "+o.getFullYear()}function C(e,t,o){var a=new Date(e);return t?(o?l[a.getDay()]:r[a.getDay()])+", "+A(0,a):s[a.getMonth()]+" "+a.getDate()}function X(e){return document.getElementById(e)}function k(e){var t,o=e.length;if(0===(o&o-1))t=2*o-1;else{var a=Math.floor(Math.log(o)/Math.log(2));t=2*Math.pow(2,a+1)-1}return new Array(t)}function P(e){return 2*e+2}function z(e){return 2*e+1}function R(e,t,o){!function e(t,o,a,n,i,r){if(a!==n){var l=Math.floor((a+n)/2);e(t,o,a,l,z(i),r),e(t,o,l+1,n,P(i),r),t[i]=r(t[z(i)],t[P(i)])}else{var s=o[a];t[i]=isNaN(s)?0:s}}(e,t,0,t.length-1,0,o)}function N(e,t,o,a,n,i){return function e(t,o,a,n,i,r,l,s){if(o<=n&&a>=i)return t[r];if(o>i||a<n)return s;var d=Math.floor((n+i)/2);return l(e(t,o,a,n,d,z(r),l,s),e(t,o,a,d+1,i,P(r),l,s))}(e,o,a,0,t-1,0,n,i)}return function r(l,s,A,C,P){var z="object"===("undefined"===typeof l?"undefined":b(l))?l.id:l;z||(z=l.id="charty-"+w.length);var Y,L,B,G,I,W,D={progress:0,needMeasure:!0,yPos:[]},O=P,F=[],j=[],H={},Z={},U=[],V=[],Q=[],J={},q={},K={},$=w.length,ee=C||{chart:{topPadding:50,hPadding:15,height:400},pie:{segmentShift:5},preview:{height:46,vPadding:1,radius:8,lineWidth:1,handleW:9,handleTick:10,minBrushSize:10,hitSlop:10},grid:{lineWidth:1,legendShift:-10,markerRadius:3,markerLineWidth:4},xAxis:{textWidth:80,height:32,fadeTime:250},yAxis:{textCount:5,fadeTime:500},main:{lineWidth:2,vPadding:15}},te=this;function oe(e){var t=W||e;for(var o in t)if(ee[o])if(ee[o].stylo)ee[o].stylo(t[o]);else for(var a in t[o])ee[o][a]=t[o][a];j.map(function(e,o,a){e.color=t.series&&t.series[e.name]?t.series[e.name]:e._color,Pe(o,e.off,a)}),D.zoomedChart&&D.zoomedChart.getSeries().map(function(e,o,a){e.color=t.series&&t.series[e.name]?t.series[e.name]:e._color}),D.stepGridX=void 0,D.stepGridY=void 0,Me()}function ae(e,t){return t&&(F=t),e.replace(/\[([^\]]+)\]/g,function(e,t){return j.map(function(e,o){return t.replace(/\{(\w+)\}/g,function(t,a){return"i"===a?o:e[a]})}).join("")}).replace(/\|([^\s>]+)/g,function(e,t){return F.indexOf(t)<0&&F.push(t),z+"-"+t})}function ne(e){if(e)return W=e,D.zoomedChart&&(D.zoomedChart.setTheme(e),D.zoomedChart.updateTheme()),oe();A?W=A.getTheme():W||(W=s.theme||a)}function ie(){ee.legend.innerHTML=ae(o,[]),F.map(We)}function re(){D.showButtons?(ee.ctrls.innerHTML=ae(t,[]),F.map(We),j.map(function(e,t){ee["checkbox"+t].on("mousedown touchstart",function(e){Ie(e),D.tapStarted=Date.now(),D.tapTimer&&clearTimeout(D.tapTimer),D.tapTimer=setTimeout(function(){D.tapTimer=0;for(var e=0;e<Y;e++){var o=j[e];(!o.off&&e!==t||o.off&&e===t)&&ze(e,e!==t)}D.seriesCount=1,D.prevSeriesCount=0},c)}).on("mouseup touchend",function(e,o,a,n,i){if(Ie(e),D.tapTimer){clearTimeout(D.tapTimer),D.tapTimer=0;for(var r=0;r<Y;r++)if(r!==t&&!j[r].off)return ze(t);i.shake()}}),Pe(t,e.off)})):ee.ctrls.innerHTML=""}function le(e){var t=void 0!==e?!e:!D.showPreview;ke("previewA",t?1:0,t?0:1,2*f);var o=e?0:ee.preview.height+10;ee.ctrls.stylo({transform:"translate3d(0, -"+o+"px, 0)"}),D.showPreview=!t}function se(e){throw e}function de(){D.showLegend=!1!==s.showLegend,D.showButtons=!1!==s.showButtons&&Y>1,D.showPreview=!1!==s.showPreview,D.showRangeText=!1!==s.showRangeText,D.showLegendTitle=!1!==s.showLegendTitle,D.stepX=s.stepX||1,D.zoomStepX=s.zoomStepX||1,D.autoScale=!1!==s.autoScale}function ce(t){var o=s.data;if(j=[],H={},Z={},F=[z],q={previewA:D.showPreview?1:0},!o)return se("The data parameter is missing.");if(!o.x||!(o.x instanceof Array))return se("The x-axis data is missing.");var a=s.type||"line";["line","stacked","area","percentage","multi_yaxis","bar","pie"].forEach(function(e){Z[e]=a.indexOf(e)>=0}),Object.keys(o).forEach(function(e){var t=o[e];"x"===e?L=t:j.push({data:t,color:(s.colors||{})[e],name:(s.names||{})[e],type:s.type})}),Y=j.length,B=L.length,H.min=L[0],H.max=L[B-1],H.d=H.max-H.min,D.localMM=void 0,D.globalMM=void 0,Z.linear=Z.line||Z.multi_yaxis,de(),q={previewA:D.showPreview?1:0};for(var n=0;n<Y;n++){var i,r=!1;(i=j[n])._color=i.color,Z.percentage||(Q[n]=k(i.data),R(Q[n],i.data,Math.max),V[n]=k(i.data),R(V[n],i.data,Math.min)),I&&I[n]&&I[n].name===i.name&&(r=I[n].off),i.off=r,q["alphaY"+n]=r?0:1,q["on"+n]=r?0:1}t||(D.localStart=s.startX||2/3*H.d+H.min,D.localEnd=s.endX||H.max,D.globalStart=H.min,D.globalEnd=H.max),D.minBrushSize=H.d*ee.preview.minBrushSize/100,D.seriesCount=Y,ne(),t||(A?A.togglePreview(D.showPreview):(X(z).innerHTML=ae(e),F.map(We),le(D.showPreview),ee.title.innerText=s.title,O=ee.canvas.getContext("2d"),te.isHooked&&Ue(),te.isHooked=!0,document.addEventListener("mousemove",Ye),window.addEventListener("resize",Fe),window.addEventListener("scroll",je),ee.legend.on("touchmove mousemove",Ie),ee.legend.on("touchstart mousedown",function(e,t){isNaN(D.vLineX)||D.zoomedChart||De(D.vLineX)}),ee.canvas.on("touchmove mousemove",function(e,t,o,a){for(var n=0,i=w.length;n<i;n++)n!==$&&w[n].dismiss();D.vLineX=void 0,D.vLineY=void 0,D.pieX=void 0,D.pieY=void 0,D.isZoomed&&Z.area||(a===v.MAIN&&(D.vLineX=t,D.vLineY=o),isNaN(D.vLineX)||(D.legendIsVisible=!1),Be()),(Z.pie||D.isZoomed&&Z.area)&&a===v.MAIN&&(D.pieX=t-ee.main.width/2,D.pieY=o-ee.main.height/2-ee.chart.topPadding),a>=v.XAXIS&&Ge(),Me(),(!y||K.draggingArea>=v.PREVIEW)&&Ie(e),Ze(a);var r,l,d,c,h=D.localEnd-D.localStart,f=(D.zoomedChart?D.zoomedChart.getProps().stepX:D.stepX)||1,p=D.isZoomed||Z.pie?f:Math.max(f,D.minBrushSize);D.isZoomed&&s.zoomStepX&&(f=s.zoomStepX),K.draggingArea===v.BRUSH_LEFT?(r=Le(ue(t),D.globalStart,D.localEnd-p),d=D.localStart-r,!Z.pie&&1===f&&Math.abs(d)/f>=1?D.localStart=r:Math.abs(d)>.5*f&&(c=f*Math.ceil(d/f),He(D.localStart-c,Math.min(D.localEnd,D.globalEnd)))):K.draggingArea===v.BRUSH_RIGHT?(l=Le((t+ee.preview.handleW/2-ee.chart.hPadding)/ee.preview.width*(D.globalEnd-D.globalStart)+D.globalStart,D.localStart+p,D.globalEnd),d=D.localEnd-l,!Z.pie&&1===f&&Math.abs(d)/f>=1?D.localEnd=l:Math.abs(d)>.5*f&&(c=f*Math.floor(d/f),He(Math.max(D.globalStart,D.localStart),D.localEnd-c))):K.draggingArea===v.BRUSH_CENTER&&(r=Le((t-D.deltaDragX-ee.preview.handleW/2-ee.chart.hPadding)/ee.preview.width*(D.globalEnd-D.globalStart)+D.globalStart,D.globalStart,D.globalEnd-h),l=Le(r+h,D.globalStart,D.globalEnd),d=D.localEnd-l,!Z.pie&&1===f&&Math.abs(d)/f>=1?(D.localStart=r,D.localEnd=l):Math.abs(d)>.5*f&&(c=f*Math.round(d/f),He(D.localStart-c,D.localEnd-c)))}),ee.zoom.on("touchstart mousedown",function(){var e;D.isZoomed&&(e=!1!==s.showPreview,te.togglePreview(e),function(e){if(!D.isZoomed)return De();var t=D.globalStart,o=D.globalEnd,a=D.localStart,n=D.localEnd;D.isZooming=!0,ke("zoomOut",1,0,m,function(e){var i=1-e;D.globalStart=t-i*(t-D._globalStart),D.globalEnd=o-i*(o-D._globalEnd),D.localStart=a-i*(a-D._localStart),D.localEnd=n-i*(n-D._localEnd),D.progress=e,ee.title.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),ee.zoom.stylo({opacity:e,transform:"scale("+e+", "+e+")"},!0),ee.localRange.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),ee.zoomedRange.stylo({opacity:e,transform:"scale("+e+", "+e+")"},!0),Ee(ee.localRange),Be()},T.inCubic,function(){D.isZooming=!1,D.isZoomed=!1,D.forceUpdate=!0,Fe(),D.zoomedChart&&(D.zoomedChart.destroy(),D.zoomedChart=void 0),Ye(),Oe()}),D.zoomedChart&&(D.zoomedChart.getSeries().map(function(e,t){var o=e.off;j[t]&&j[t].name===e.name&&(j[t].off=o,q["alphaY"+t]=o?0:1,q["on"+t]=o?0:1)}),re(),oe(),le(D.showPreview)),Ge()}())}),ee.canvas.on("touchstart mousedown",function(e,t,o,a){if(K.draggingArea=a,a>v.PREVIEW)D.deltaDragX=t-me(D.localStart)-ee.preview.handleW/2;else if(a===v.PREVIEW){var n=D.localEnd-D.localStart,i=ue(t),r=i-n/2,l=i+n/2,s=D.globalStart-r,d=l-D.globalEnd;s>0?(r=D.globalStart,l=D.globalStart+n):d>0&&(r=D.globalEnd-n,l=D.globalEnd),He(r,l)}}),ee.canvas.on("touchend touchcancel mouseup",function(e,t,o,a){y||isNaN(D.vLineX)||D.zoomedChart||De(D.vLineX),K.draggingArea=0,Ze(a)}))),ie(),re(),oe(),D.forceUpdate=!0,Me(),Te(),t||Xe()}function he(e){return Le(Math.round((B-1)*(e-H.min)/H.d),0,B-1)}function fe(e){return Le(Math.ceil((B-1)*(e-H.min)/H.d),0,B-1)}function pe(e){return Le(Math.floor((B-1)*(e-H.min)/H.d),0,B-1)}function me(e){return(e-D.globalStart)/(D.globalEnd-D.globalStart)*ee.preview.width+ee.chart.hPadding}function ue(e){return(e-ee.preview.handleW/2-ee.chart.hPadding)/ee.preview.width*(D.globalEnd-D.globalStart)+D.globalStart}function ge(e){ee.canvas.rect(e,ee.chart.height-(ee.preview.height+ee.preview.handleTick)/2,2,ee.preview.handleTick,2,!0,!0)}function ve(){var e=ee.preview.height,t=ee.preview.minHeight,o=ee.preview.width,a=q.previewA;A||O.clearRect(0,ee.xAxis.y+5,ee.main.width,ee.xAxis.height+e),D.showPreview&&(O.save(),ee.canvas.rect(ee.chart.hPadding,ee.preview.y+ee.preview.vPadding,o,t,ee.preview.radius,me(D.localStart)>ee.chart.hPadding+ee.preview.handleW/2,me(D.localEnd)<ee.main.width-ee.chart.hPadding-ee.preview.handleW/2,!0),O.lineWidth=ee.preview.lineWidth,O.globalAlpha=a,_e("global",a,o,e-2*ee.preview.vPadding,D.globalStart,D.globalEnd,0,ee.chart.height-ee.preview.vPadding,ee.chart.hPadding,!0),O.fillStyle=ee.preview.maskColor,O.globalAlpha=a*ee.preview.maskAlpha,O.fillRect(ee.chart.hPadding,ee.preview.y+ee.preview.vPadding,me(D.localStart)-ee.chart.hPadding,t),O.fillRect(me(D.localEnd),ee.preview.y+ee.preview.vPadding,ee.main.width+ee.preview.handleW-ee.chart.hPadding-me(D.localEnd),t),O.restore(),function(e){var t=ee.preview.handleW,o=me(D.localStart),a=me(D.localEnd);O.strokeStyle=ee.preview.brushColor,O.globalAlpha=e,O.lineWidth=1,(Z.bar||Z.area||Z.pie)&&(O.fillStyle=ee.preview.brushBorderColor,O.globalAlpha=ee.preview.brushBorderAlpha,ee.canvas.rect(o-t-1,ee.preview.y-1,t+3,ee.preview.height+3,ee.preview.radius+1,!0),ee.canvas.rect(a-1,ee.preview.y-1,t+3,ee.preview.height+3,ee.preview.radius+1,!1,!0)),O.globalAlpha=e,O.fillStyle=ee.preview.brushColor,ee.canvas.rect(o-t,ee.preview.y,t,ee.preview.height,ee.preview.radius,!0),ee.canvas.rect(a,ee.preview.y,t,ee.preview.height,ee.preview.radius,!1,!0),O.strokeRect(o,ee.preview.y+ee.preview.vPadding/2,a-o,ee.preview.height-ee.preview.vPadding),O.fillStyle=ee.preview.handleColor||"#fff",ge(o-6),ge(a+4)}(a))}function ye(e,t,o,a,n,i,r){var l=q["stepGridXA"+t]*ee.xAxis.textAlpha*r;if(0!==l){o-=o%t,O.fillStyle=ee.xAxis.textColor,O.globalAlpha=l;for(var d,c,h=o;h<=a;h+=t)!e&&t<D.prevStepGridX&&h%D.prevStepGridX===0||e&&t>D.prevStepGridX&&h%D.prevStepGridX===0||e&&D.stepGridX>D.prevStepGridX&&h%D.stepGridX===0||(d=ee.chart.hPadding+(L[h]-D.localStart)*n,c=s.xAxisType instanceof Function?s.xAxisType(L[h]):M[s.xAxisType](L[h]),O.fillText(c,d,i))}}function xe(e,t,o,a,n,i,r,l,d){for(var c,h,f,p,m=a,u=0,g=Z.multi_yaxis?q.alphaY0:1,v=Z.multi_yaxis?q.alphaY1:1,y=q["stepGridYA"+t];m<n;)h=0===u&&t>10?10*Math.ceil(m/10):m,f=ee.xAxis.y-(m-a)*o,e&&u>0&&D.yPos[u]&&(f+=(f-D.yPos[u])*y),p=""+Math.floor(0===u?a:h),O.globalAlpha=y*d*g*ee.yAxis.textAlpha,O.fillStyle=Z.multi_yaxis?j[0].color:ee.yAxis.textColor,c=s.yAxisType instanceof Function?s.yAxisType(p):M[s.yAxisType](p),O.fillText(c,ee.chart.hPadding,f-5),Z.multi_yaxis&&(O.fillStyle=j[1].color||ee.yAxis.textColor,p=Math.max(0,Math.floor(l+(m-a)/i*r)),u>0&&p>50&&(p=10*Math.ceil(p/10)),O.globalAlpha=y*d*v,c=s.yAxisType instanceof Function?s.yAxisType(p):M[s.yAxisType](p),O.fillText(c,ee.main.width-ee.chart.hPadding-O.measureText(c).width-5,f-5)),ee.canvas.line(ee.chart.hPadding,f,ee.main.width-ee.chart.hPadding,f,ee.grid.lineWidth,ee.grid.color,y*ee.grid.alpha*d),e||(D.yPos[u]=f),0===u&&t>10?m=(h+=t-h%t)-m<.6*t?h+t:h:m+=t,u++}function be(e,t,o){for(var a=Y-1;a>=0;a--){var n=j[a],r=Math.round(100*n.percent);if(!n.off){var l=13+30*n.percent,s=r<4?t+l+2:t/1.25,d=r<1?"<1%":r+"%";O.font=l+"px "+i;var c=O.measureText(d),h=ee.main.width/2+(1-n.percent)*s*Math.cos(n.angle)-c.width/2+2*n.dx,f=ee.main.height/2+(1-n.percent)*s*Math.sin(n.angle)+l/4+2*n.dy;O.globalAlpha=e*n.alpha*o,O.fillStyle=r<4?n.color:ee.pie.textColor,O.fillText(d,h,f)}}}function we(e,t,o,a){for(var i,r=a||Math.min(ee.main.height,ee.main.width)/2-25,l=new Array(Y),s=0,d=90*n,c=Z.pie?1:D.progress,h=0;h<Y;h++)for(var p=j[h],m=q["on"+h],u=e;u<=t;u++)E=p.data[u],l[h]=u===e?E:l[h]+E,0===h&&(s+=G[u]);if(Z.area||(O.save(),O.translate(ee.main.width/2,ee.main.height/2)),!isNaN(D.pieX)){var g=Math.sqrt(D.pieX*D.pieX+D.pieY*D.pieY),v=Math.atan2(D.pieY,D.pieX);(v-=90*n)<0&&(v+=2*Math.PI)}for(h=Y-1;h>=0;h--){p=j[h];var y=q["on"+h],x=l[h]/s,b=q["pieZoom"+h]||0,w=(m=360*c*x*y*n,0),_=d-90*n,S=b*ee.pie.segmentShift*Math.cos(90*n+_+m/2),T=b*ee.pie.segmentShift*Math.sin(90*n+_+m/2),M=b*ee.pie.segmentShift,E=Math.round(100*x);if(U[h]=x,E>=1&&g<=r&&v>=_&&v<_+m&&(i=h),p.angle=d+m/2,p.percent=y*x,p.alpha=y,p.val=l[h],p.dx=S,p.dy=T,p.z=b,O.globalAlpha=o,O.fillStyle=p.color,O.beginPath(),O.moveTo(S,T),1===D.seriesCount&&!p.off){O.arc(0,0,r+M,d,d+360*n),O.fill();break}w=M/(360-180*x),O.arc(S,T,r+M,d+w,d+m+n*y-w),O.fill(),d+=m}isNaN(i)?isNaN(D.segment)||(ke("pieZoom"+D.segment,1,0,f,0),D.segment=void 0):D.segment!==i&&(ke("pieZoom"+i,0,1,f),isNaN(D.segment)||ke("pieZoom"+D.segment,1,0,f,0),D.segment=i),Z.area||(O.restore(),be(c,r,o))}function _e(e,t,o,a,i,r,l,s,d,c){var h=o/(r-i),f=he(i-l/h),p=he(r+l/h);O.globalAlpha=t,Z.bar?function(e,t,o,a,n,i,r,l,s,d,c,h){for(var f,p,m,u,g,v,y,x=1-D.progress,b=pe(n-i/h),w=ee.main.width/(c-d-.5),_=0,S=new Array(B),T=0;T<Y;T++)M=q[e+"DY"+T]*q["on"+T],_=Z.stacked?_+M:Math.max(_,M);for(D.showLegend&&D.vLineX>=0&&(f=pe(p=D.localStart+(D.highlightedX-ee.chart.hPadding)/ee.preview.width*(D.localEnd-D.localStart))),T=0;T<Y;T++){m=q["alphaY"+T]*x,O.globalAlpha=t*(s?m:f>=0?.5:m),O.fillStyle=j[T].color,O.beginPath(),u=(a+ee.main.vPadding/2)/_;for(var M,E,A=b;A<=c;A++)M=j[T].data[A]*q["on"+T],E=S[A]||0,p=l+i+(L[A]-n)*h,O.rect(p,r-E*u,w,-M*u),f===A&&(g=p,v=r-E*u,y=-M*u),Z.stacked&&(S[A]=E+M);O.fill(),!s&&f>=0&&(O.globalAlpha=m*t,O.fillRect(g,v,w,y))}}(e,t,0,a,i,l,s,d,c,f,p,h):Z.area||Z.pie&&c?function(e,t,o,a,i,r,l,s,d,c){var h=o/(r-i),f=pe(i-l/h),p=fe(r+l/h),m=new Array(B),u=c?0:D.progress,g=Math.min(ee.main.height,ee.main.width)/2-25,v=Math.min(1,u),y=1-u;v>0&&!c&&(f=pe((i=D._localStart)-l/(h=o/((r=D._localEnd)-i))),p=fe(r+l/h)),c||(a+=ee.main.vPadding);var x=a/(1+u),b=x/100,w=0,S=!1;if(c||(d-=ee.main.width/2,s-=g+15,O.save(),v<1&&ee.canvas.rect(v*(ee.main.width/2-g),25*v,2*g*v+(1-v)*(ee.main.width-l),2*g+50*y,v*g,!0,!0,!0),O.translate(ee.main.width/2,ee.main.height/2),!c&&v<=_&&O.transform(1+v,0,0,1+v,0,0),v>_&&we(he(D.localStart),he(D.localEnd-D.zoomStepX),t,g)),v<=_||c){w=0;for(var T=Y-1;T>=0;T--){var M=j[T],E=(M.data[D.selectedIndex]||0)/(G[D.selectedIndex]||1),A=180*E,C=!1,X=0,k=q["on"+T];c||(X=180*u*E*k*n,O.rotate(w+X)),ee.canvas.startLine(k,0,M.color,O.lineWidth);for(var P,z,R,N,I,W,F=f;F<=p;F++){if(I=m[F]||0,P=100*M.data[F]/G[F]*k,z=d+l+(L[F]-i)*h,R=s-x+y*I*b,W=c?0:Math.abs(z)/Math.tan((90*y+u*A)*n),F===f?(N=z,O.moveTo(z,y*R+W)):!C&&z>=0&&u>.5?(C=!0,O.lineTo(z*y,y*(y*R+W))):O.lineTo(z,y*R+W),F===p)if(M.off||S)O.lineTo(z,2*s),O.lineTo(N,2*s);else if(S=!0,O.globalAlpha=t,O.fillStyle=M.color,O.fillRect(N,26-s,z-N,2*s),1===D.seriesCount)break;m[F]=I+P}if(O.fill(),c||(O.rotate(-w-X),w+=2*X),1===D.seriesCount&&!M.off)break}}c||(O.restore(),be(v,g,t))}(0,t,o,a,i,r,l,s,d,c):Z.pie?we(f,p,t):Z.linear&&function(e,t,o,a,n,i,r,l,s,d){t-=ee.grid.markerRadius+ee.grid.markerLineWidth;for(var c,h,f,p,m=0;m<Y;m++){f=j[m].data,p=j[m].color,ee.canvas.startLine((1-D.progress)*q["alphaY"+m],p,0,O.lineWidth),c=Z.multi_yaxis?m:"",d=t/q[e+"DY"+c];for(var u=r;u<=l;u++)h=i+a+(L[u]-o)*s,u===r&&O.moveTo(h,n-(f[u]-q[e+"MinY"+c])*d),O.lineTo(h,n-(f[u]-q[e+"MinY"+c])*d);O.stroke()}}(e,a+7,i,l,s,d,f,p,h,void 0)}function Se(){O.lineWidth=ee.main.lineWidth,_e("local",Z.percentage?1:1-D.progress,ee.preview.width,ee.main.height-1.5*ee.main.vPadding,D.localStart,D.localEnd,ee.chart.hPadding,ee.main.height,!1),function(){var e=D.showLegend&&!isNaN(D.vLineX);e&&(!(Z.bar||Z.pie)||Z.area)&&ee.canvas.line(D.vLineX,Z.area?16:4,D.vLineX,ee.main.height,ee.grid.lineWidth,ee.grid.color,ee.grid.alpha),D.zoomedChart||Re(e||Z.area&&D.isZoomed)}()}function Te(){D.needMeasure=!1;var e=window.innerWidth,t=window.innerHeight,o=window.pageYOffset;o!==D.pageYOffset&&(ee.box.measure(),D.pageYOffset=o),D.prevW===e&&D.prevH===t||(D.prevW=e,D.prevH=t,ee.box.measure(),ee.box.h<ee.chart.height&&(D.prevH=0),ee.main.height=ee.chart.height-ee.preview.height-ee.xAxis.height,ee.main.y=0,ee.main.width=ee.box.w,ee.xAxis.y=ee.main.y+ee.main.height,ee.preview.y=ee.chart.height-ee.preview.height,ee.preview.width=ee.box.w-2*ee.chart.hPadding,ee.preview.minHeight=ee.preview.height-2*ee.preview.vPadding,ee.canvas.attr("width",ee.main.width*d).attr("height",ee.chart.height*d).stylo({width:ee.main.width,height:ee.chart.height}),O.scale(d,d),Me())}function Me(){K.repaint=!0,D.zoomedChart&&D.zoomedChart.repaint()}function Ee(e,t,o){if(!D.isZooming)if(D.showRangeText){var a,n=void 0===t?D.localStart:t,i=void 0===o?D.localEnd:o,r=D.zoomedChart?D.zoomedChart.getProps():void 0,l=r?r.rangeTextType:s.rangeTextType;if("date"===s.xAxisType&&(i-=r?r.zoomStepX||r.stepX||1:s.zoomStepX||D.stepX),l instanceof Function)a=l(n,i);else if(void 0===a){var d=M[l](n),c=M[l](i);a=d===c?d:d+" - "+c}e.innerText=a}else e.innerText=""}function Ae(e,t){var o=1/0,a=-1/0,n=Math.max(0,e),i=Math.min(B,t);function r(e){e>a&&(a=e),e<o&&(o=e)}for(var l,d=0;d<Y;d++)!(l=j[d]).off||Z.multi_yaxis?Z.stacked||Z.bar||Z.percentage?(D.autoScale?(l.max=N(Q[d],B,n,i,Math.max,-1/0),l.min=0):(l.max=void 0===s.maxY?N(Q[d],B,0,B,Math.max,-1/0):s.maxY,l.min=s.minY||0),l.d=l.max):Z.multi_yaxis?(D.autoScale?(l.min=N(V[d],B,n,i,Math.min,1/0),l.max=N(Q[d],B,n,i,Math.max,-1/0)):(l.min=void 0===s.minY?N(V[d],B,0,B,Math.min,1/0):s.minY,l.max=void 0===s.maxY?N(Q[d],B,0,B,Math.max,-1/0):s.maxY),l.d=l.max-l.min):(r(N(V[d],B,n,i,Math.min,1/0)),r(N(Q[d],B,n,i,Math.max,-1/0))):(l.max=0,l.min=0,l.d=0);return o=D.autoScale||void 0===s.minY?o:s.minY,a=D.autoScale||void 0===s.maxY?a:s.maxY,o===1/0&&D.localMM?D.localMM:{min:o,max:a,d:a-o}}function Ce(e,t,o){var a,n;if(D.autoScale?n=Ae(t,o):(n=D[e+"MM"])||(n=Ae(0,B)),Z.multi_yaxis||Z.stacked||Z.bar||Z.area){if(q[e+"DY0"])for(i=0;i<Y;i++)a=(r=j[i])[e+"MM"],r.min===a.min&&r.d===a.d||(ke(e+"DY"+i,a.d,r.d,h),ke(e+"MinY"+i,a.min,r.min,h));else for(var i=0;i<Y;i++){var r=j[i];q[e+"MinY"+i]=r.min,q[e+"DY"+i]=r.d}for(i=0;i<Y;i++)(r=j[i])[e+"MM"]={min:r.min,max:r.max,d:r.d}}else!(a=D[e+"MM"])||D.movingBrush?(q[e+"MinY"]=n.min,q[e+"DY"]=n.d):n.min===a.min&&n.d===a.d||(ke(e+"DY",a.d,n.d,h),ke(e+"MinY",a.min,n.min,h)),D[e+"MM"]=n}function Xe(e){if(!(B<2||D.isDestroyed)){!function(e){var t,o=!0;for(var a in J)if(!(t=J[a]).off){if(t.started||(t.started=e),!1===s.animated)t.update?t.update(t.to):q[a]=t.to,t.cb&&t.cb(),t.off=!0;else{var n=e-t.started,i=t.ease(n,t.from,t.to-t.from,t.duration);t.update?t.update(i):q[a]=i,n>t.duration?(t.update?t.update(t.to):q[a]=t.to,t.cb&&t.cb(),t.off=!0):o=!1}Me(),A&&A.repaint()}o&&(J={})}(e),requestAnimationFrame(Xe),D.needMeasure&&Te();var t=D.prevLocalStart!==D.localStart||D.prevLocalEnd!==D.localEnd,o=D.prevGlobalStart!==D.globalStart||D.prevGlobalEnd!==D.globalEnd,a=D.seriesCount!==D.prevSeriesCount;K.repaint&&(Z.percentage||Z.pie?(!G||D.forceUpdate||D.isOnOffAnimating||a)&&function(){G=new Array(B);for(var e=0;e<Y;e++)for(var t,o=0;o<B;o++)t=j[e].data[o]*q["on"+e],G[o]=0===e?t:G[o]+t}():((a||o||D.forceUpdate)&&Ce("global",fe(D.globalStart),fe(D.globalEnd)),(t||a||o||D.forceUpdate)&&Ce("local",fe(D.localStart),fe(D.localEnd))),(t||o||D.forceUpdate)&&Ee(ee.localRange),D.prevSeriesCount=D.seriesCount,D.prevLocalStart=D.localStart,D.prevLocalEnd=D.localEnd,D.prevGlobalStart=D.globalStart,D.prevGlobalEnd=D.globalEnd,D.hidden||(A||O.clearRect(0,ee.main.y-5,ee.main.width,ee.chart.height),Se(),ve(),function(){if(!Z.pie){var e,t,o,a,n=0,r=Math.min(1,D.progress);if(O.font="11px "+i,Z.percentage)t=0,n=100;else if(Z.stacked||Z.bar||Z.percentage){for(var l,d=0;d<Y;d++)l=j[d].max*q["on"+d],n=Z.stacked?n+l:Math.max(n,l);t=0}else Z.multi_yaxis?(n=(t=Math.max(q.localMinY0,q.localMinY1))+Math.max(q.localDY0,q.localDY1),o=Math.min(q.localDY0,q.localDY1),a=Math.min(q.localMinY0,q.localMinY1)):(n=D.localMM.max,t=D.localMM.min);e=n-t;var c=ee.main.width-2*ee.chart.hPadding,h=c/(D.localEnd-D.localStart),f=(ee.main.height-22)/e,p=pe(D.localStart-ee.chart.hPadding/h),m=fe(D.localEnd+ee.chart.hPadding/h),u=ee.xAxis.y+ee.xAxis.height/2,g=s.xAxisStep?s.xAxisStep:Math.pow(2,Math.ceil(Math.log(3*ee.xAxis.textWidth*(m-p)/c)))||1,v=Math.round(e/ee.yAxis.textCount)||1,y=5*Math.pow(10,v.toString().length-2)||1;v=Math.max(1,Math.round(v/y)*y),D.stepGridX!==g&&(D.stepGridX&&(D.stepGridX<g&&ke("stepGridXA"+D.stepGridX,1,0,ee.xAxis.fadeTime),D.prevStepGridX=D.stepGridX),(!D.prevStepGridX||g<D.prevStepGridX)&&ke("stepGridXA"+g,0,1,ee.xAxis.fadeTime),g>D.prevStepGridX&&(q["stepGridXA"+g]=1),D.stepGridX=g),D.prevStepGridX&&ye(1,D.prevStepGridX,p,m,h,u,1-r),ye(0,g,p,m,h,u,1-r),D.stepGridY!==v&&(D.stepGridY&&(ke("stepGridYA"+D.stepGridY,1,0,ee.yAxis.fadeTime/2,0,0,function(){D.prevStepGridY=0,D.yPos=[]}),D.prevStepGridY=D.stepGridY),ke("stepGridYA"+v,0,1,ee.yAxis.fadeTime),D.stepGridY=v),D.prevStepGridY&&xe(1,D.prevStepGridY,f,t,n,e,o,a,1-r),xe(0,v,f,t,n,e,o,a,1-r),Z.percentage&&(O.globalAlpha=ee.xAxis.textAlpha*(1-r),O.fillStyle=ee.yAxis.textColor,O.fillText("100",ee.chart.hPadding,12))}}()),K.repaint=!1,D.forceUpdate=!1,D.zoomedChart&&D.zoomedChart.repaint())}}function ke(e,t,o,a,n,i,r){n?n(t):q[e]=t,J[e]={ease:i||T.outQuad,from:t,to:o,duration:a,update:n,cb:r}}function Pe(e,t,o){var a=t?0:1,n=(W.buttons||{}).color||"#fff",i=o||j;ee["checkbox"+e].attr("class","undefined"!==typeof x?x.checkbox:"checkbox "+(t?"off":"on")).stylo({backgroundColor:t?"transparent":i[e].color,borderColor:i[e].color}),ee["chk"+e].stylo({transform:"scale("+a+")",opacity:a,fill:n},!0),ee["name"+e].stylo({transform:"translate3d("+8*(a-1)+"px, 0, 0)",color:t?i[e].color:n})}function ze(e,t){var o=j[e];o.off=void 0!==t?t:!o.off,o.off?--D.seriesCount:++D.seriesCount;var a=o.off?1:0,n=o.off?0:1;Pe(e,o.off),Z.stacked||Z.bar||Z.percentage||Z.pie?(D.isOnOffAnimating=!0,ke("on"+e,a,n,f,0,o.off?T.outQuad:T.inQuad,function(){D.isOnOffAnimating=!1,D.forceUpdate=!0}),q["alphaY"+e]=1):ke("alphaY"+e,a,n,f),D.zoomedChart&&D.zoomedChart.toggleCheckbox(e,t),Re(!1)}function Re(e){var t=Z.pie||Z.percentage&&D.isZoomed;if(t||e^D.legendIsVisible){if(t&&isNaN(D.segment))return Ge();if(e){var o,a,n=D.localStart+(D.vLineX-ee.chart.hPadding)/ee.preview.width*(D.localEnd-D.localStart),i=Z.bar?pe(n):he(n),r=ee.preview.width/(D.localEnd-D.localStart),l=Z.linear?ee.grid.markerRadius+ee.grid.markerLineWidth:0,d=(ee.main.height-ee.main.vPadding-l)/q.localDY,c=1,h=0;D.showLegendTitle?(ee.xval.innerText=M[s.xAxisType](L[i]),ee.xval.stylo({display:"block"})):ee.xval.stylo({display:"none"}),D.highlightedX=D.vLineX,O.fillStyle=ee.grid.markerFillColor,O.lineWidth=ee.grid.markerLineWidth,O.globalAlpha=1,ee.date.stylo({display:t?"none":"flex"});for(var f=0,p=0;f<Y;f++){var m=j[f],u=t?m.val:m.data[i];ee["label"+f].stylo({display:m.off||t&&f!==D.segment?"none":"flex",paddingTop:t?0:5}),m.off||(h+=u,Z.multi_yaxis&&(d=(ee.main.height-ee.main.vPadding-l)/q["localDY"+f]),ee["labelName"+f].innerText=m.name,ee["labelValue"+f].stylo({color:m.color}).innerText=E(u),(Z.percentage||Z.pie)&&(a=u/G[i],f===Y-1&&(a=1-p),p+=a,ee["labelPercent"+f].stylo({display:t?"none":"flex"}).innerText=Math.round(100*a)+"%"),Z.pie||Z.bar||Z.percentage||(O.strokeStyle=m.color,O.beginPath(),O.arc(ee.chart.hPadding+(L[i]-D.localStart)*r,ee.xAxis.y-(m.data[i]-q["localMinY"+(Z.multi_yaxis?f:"")])*d,ee.grid.markerRadius,0,2*Math.PI),O.stroke(),O.fill()))}Z.stacked&&(ee.labelTotal.stylo({display:D.seriesCount>1?"flex":"none"}),ee.labelValueTotal.innerHTML=E(h)),ee.legend.measure(),t?(n=D.pieX+ee.main.width/2,o=D.pieY+ee.main.height/2):(c=D.vLineX<ee.main.width/2?0:1,n=Le(D.vLineX-ee.grid.legendShift-c*(ee.legend.w-2*ee.grid.legendShift),2,ee.main.width-ee.legend.w-2),o="top"===s.legendPosition?ee.chart.topPadding:"bottom"===s.legendPosition?ee.xAxis.y-ee.legend.h+40:Le(D.vLineY-ee.legend.h-(y?50:10),ee.chart.topPadding,ee.xAxis.y-ee.legend.h)),ee.legend.stylo({opacity:1,transform:"translate3d("+n+"px, "+o+"px, 0)"},!0),D.legendTimer&&clearTimeout(D.legendTimer),D.legendTimer=setTimeout(Ge,g)}else Ge();D.legendIsVisible=e}}function Ne(){ee.canvas.stylo({cursor:"auto"})}function Ye(){A||(Ge()&&Me(),K.draggingArea=0,Ne())}function Le(e,t,o){return Math.max(t,Math.min(e,o))}function Be(){D.zoomedChart&&D.zoomedChart.setProgress(D)}function Ge(){var e=void 0!==D.vLineX;if(ee.legend)return D.vLineX=void 0,D.highlightedX=-1,ee.legend.stylo({transform:"translate3d(0, -1000px, 0)"}),D.legendTimer&&(clearTimeout(D.legendTimer),D.legendTimer=void 0),e}function Ie(e){e.stopPropagation(),e.preventDefault()}function We(e,t){var o;return"object"===("undefined"===typeof e?"undefined":b(e))?o=e:(o=X(e===z?z:z+"-"+e),t=e===z?"chart":e.replace(/[\d]+/g,""),"undefined"!==typeof x&&(t=x[t])),o.on=function(e,t){return e.split(" ").map(function(e){o.addEventListener(e,function(e){var o=e.touches&&e.touches.length?e.touches[0]:e,a=(o.clientX||o.pageX)-ee.box.x,n=(o.clientY||o.pageY)-ee.box.y;t(e,a,n,function(e,t){var o=t-ee.chart.topPadding,a=v.HEADER;if(o>=ee.main.y&&o<ee.xAxis.y)a=v.MAIN;else if(o>=ee.xAxis.y&&o<ee.preview.y)a=v.XAXIS;else if(o>=ee.preview.y){var n=me(D.localStart),i=me(D.localEnd);a=e>=n-ee.preview.hitSlop&&e<=n+ee.preview.handleW+ee.preview.hitSlop/2?v.BRUSH_LEFT:e>n+ee.preview.handleW&&e<i-ee.preview.handleW-ee.preview.hitSlop/2?v.BRUSH_CENTER:e>=i-ee.preview.handleW-ee.preview.hitSlop/2&&e<i+ee.preview.hitSlop?v.BRUSH_RIGHT:v.PREVIEW}return a}(a,n),this)})}),o},o.attr=function(e,t){return o.setAttribute(e,t),o},o.append=function(e){var t=document.createElement(e);return We(o.appendChild(t),e)},o.measure=function(){var e=o.getBoundingClientRect();return o.x=e.left,o.y=e.top,o.w=e.width,o.h=e.height,o},o.stylo=function(e,t){var a;for(var n in e)a=t?e[n]:e[n]+(isNaN(e[n])?"":"px"),o.style[n]=a,"transform"===n&&(o.style.webkitTransform=a,o.style.mozTransform=a,o.style.oTransform=a,o.style.msTransform=a);return o},o.shake=function(){o.classList.add("shake"),setTimeout(function(){o.classList.remove("shake")},200)},o.line=function(e,t,o,a,n,i,r){isNaN(r)||(O.globalAlpha=r),O.strokeStyle=i,O.lineWidth=n,O.beginPath(),O.moveTo(e,t),O.lineTo(o,a),O.stroke()},o.rect=function(e,t,o,a,n,i,r,l){var s=n||0,d=r?s:0,c=i?s:0;if(O.beginPath(),O.moveTo(e+c,t),O.arcTo(e+o,t,e+o,t+a,d),O.arcTo(e+o,t+a,e,t+a,d),O.arcTo(e,t+a,e,t,c),O.arcTo(e,t,e+o,t,c),l)return O.clip();O.closePath(),O.fill()},o.startLine=function(e,t,o,a){O.globalAlpha=e,O.strokeStyle&&(O.strokeStyle=t),O.fillStyle&&(O.fillStyle=o),O.lineWidth=a,O.beginPath(),O.lineCap="butt",O.lineJoin="bevel"},ee[e===z?"box":e]=o,o.attr("class",t).measure()}function De(e){if(!D.inProgress){D.inProgress=!0;var t=D.localStart+(e-ee.chart.hPadding)/ee.preview.width*(D.localEnd-D.localStart),o=he(t),a=D.globalStart,n=D.globalEnd,i=D.localStart,l=D.localEnd,d=L[o];if("date"===s.xAxisType&&function(e){var t=new Date(e);t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}(d),D._globalStart=D.globalStart,D._globalEnd=D.globalEnd,D._localStart=D.localStart,D._localEnd=D.localEnd,!s.onZoomIn||Z.pie)return Z.area?c():void(D.inProgress=!1);s.onZoomIn(L[o]).then(function(e){D.zoomedChart=new r(z,e,te,ee,O),c(),Me()},function(e){D.inProgress=!1,se("Error loading data: "+JSON.stringify(e)+"\n\nx: "+L[o])})}function c(){var e,r,c,h,f,m;if(D.zoomedChart){var u=D.zoomedChart.getAxesData(),g=D.zoomedChart.getProps();m=g.stepX||D.zoomStepX||D.stepX,(f=s.zoomInterval||g.zoomInterval)?(r=(e=t-f/2)+f,h=(c=t)+m):(e=u.X.min,r=u.X.max,c=g.startX||e+Math.floor(u.X.d/2/m)*m,h=c+m)}else m=D.zoomStepX||D.stepX,f=s.zoomInterval||7*m,(c=s.startX||d)+m>=H.max&&(c-=m),h=c+m,e=Le(d-(f-m)/2,H.min,H.max),(r=Le(e+f,H.min,H.max))-e&&(e=Le(r-f,H.min,H.max));Ee(ee.zoomedRange,c,h),D.isZooming=!0,ke("zoomIn",0,1,Z.area?2*p:p,function(t){var o=Math.min(1,t),s=1-o;D.progress=t,D.globalStart=a-o*(a-e),D.globalEnd=n-o*(n-r),D.localStart=i-o*(i-c),D.localEnd=l-o*(l-h),ee.title.stylo({opacity:s,transform:"scale("+s+", "+s+")"},!0),ee.zoom.stylo({opacity:o,transform:"scale("+o+", "+o+")"},!0),ee.localRange.stylo({opacity:s,transform:"scale("+s+", "+s+")"},!0),ee.zoomedRange.stylo({opacity:o,transform:"scale("+o+", "+o+")"},!0),Be()},Z.area?T.outBack:T.outCubic,function(){D.isZooming=!1,D.isZoomed=!0,D.inProgress=!1,D.forceUpdate=!0,Fe(),D.zoomedChart&&D.zoomedChart.wakeUp()}),D.selectedIndex=o,Ge()}}function Oe(){D.hidden=!1,D.forceUpdate=!0,Me()}function Fe(){D.needMeasure=!0}function je(){D.needMeasure=!0}function He(e,t){if(!D.movingBrush&&(e!==D.localStart||t!==D.localEnd)&&!(e>=t||t<=e)){D.movingBrush=!0;var o=D.localStart,a=D.localEnd;ke("snapX",0,1,u,function(n){D.localStart=Le(o-n*(o-e),H.min,H.max),D.localEnd=Le(a-n*(a-t),H.min,H.max),Be()},0,function(){D.movingBrush=!1,D.forceUpdate=!0,Ee(ee.zoomedRange)}),Be()}}function Ze(e){y||K.draggingArea||(e===v.BRUSH_LEFT||e===v.BRUSH_RIGHT?ee.canvas.stylo({cursor:"ew-resize"}):e===v.BRUSH_CENTER?ee.canvas.stylo({cursor:"move"}):Ne())}function Ue(){te.isHooked&&(window.removeEventListener("resize",Fe),window.removeEventListener("scroll",je),document.removeEventListener("mousemove",Ye),te.isHooked=!1)}w.push(te),A&&(I=A.getSeries()),this.updateTheme=oe,this.setTheme=ne,this.getDefaultTheme=function(){return a},ce(),this.togglePreview=le,this.repaint=Me,this.getSeries=function(){return j},this.getProps=function(){return s},this.getVars=function(){return D},this.getAxesData=function(){return{AX:L,AY:j,X:H}},this.toggleCheckbox=ze,this.dismiss=Ye,this.hide=function(){D.hidden=!0},this.setProgress=function(e){S.forEach(function(t){D[t]=e[t]}),D.progress=1-e.progress,Me()},this.getTheme=function(){return W},this.setProps=function(e){s=Object.assign({},s,e),de(),Ye(),D.forceUpdate=!0,D.needMeasure=!0,ee.title.innerText=s.title||"",Me()},this.setShowButtons=function(e){D.showButtons=e,re(),oe()},this.setStartX=function(e){D.localStart=Le(e,D.globalStart,D.globalEnd)},this.setEndX=function(e){D.localEnd=Le(e,D.globalStart,D.globalEnd)},this.setAutoScale=function(e){D.localMM=void 0,D.globalMM=void 0,D.autoScale=e},this.setShowPreview=function(e){D.showPreview=e,D.zoomedChart&&D.zoomedChart.togglePreview(e),le(e)},this.restart=function(){ce(!0),D.zoomedChart||(ie(),re(),oe())},this.wakeUp=Oe,this.destroy=function(){D.isDestroyed=!0,Ue()}}}(),M=["data","type","colors","names"],E=function(e){function t(){var e,o,a;w(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.setRef=function(e){a.el=e},S(a,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["Component"]),_(t,[{key:"componentDidMount",value:function(){this.charty=new T(this.el,this.props)}},{key:"shouldComponentUpdate",value:function(e,t){var o=this;return!this.charty||(this.charty.setProps(e),e.theme!==this.props.theme&&this.charty.setTheme(e.theme),e.showPreview!==this.props.showPreview&&this.charty.setShowPreview(e.showPreview),e.showButtons!==this.props.showButtons&&this.charty.setShowButtons(e.showButtons),e.startX!==this.props.startX&&this.charty.setStartX(e.startX),e.endX!==this.props.endX&&this.charty.setEndX(e.endX),e.autoScale!==this.props.autoScale&&this.charty.setAutoScale(e.autoScale),M.findIndex(function(t){return o.props[t]!==e[t]})>=0&&this.charty.restart(),!1)}},{key:"componentWillUnmount",value:function(){this.charty&&(this.charty.destroy(),this.charty=void 0)}},{key:"render",value:function(){return g.a.createElement("div",{ref:this.setRef,style:this.props.style})}}]),t}();E.propTypes={type:y.a.string,title:y.a.string,theme:y.a.object,animated:y.a.bool,showLegend:y.a.bool,showLegendTitle:y.a.bool,showButtons:y.a.bool,showPreview:y.a.bool,showRangeText:y.a.bool,rangeTextType:y.a.string,xAxisType:y.a.string,yAxisType:y.a.string,xAxisStep:y.a.number,legendPosition:y.a.string,data:y.a.object,names:y.a.object,colors:y.a.object,stepX:y.a.number,startX:y.a.number,endX:y.a.number,onZoomIn:y.a.func,zoomInterval:y.a.number,zoomStepX:y.a.number,autoScale:y.a.bool,minY:y.a.number,maxY:y.a.number};var A=E,C=[{name:"dark",grid:{color:"#fff",alpha:.1,markerFillColor:"#242f3e"},legend:{background:"#1c2533",color:"#fff"},preview:{maskColor:"#304259",maskAlpha:.6,brushColor:"#56626D",brushBorderAlpha:0,handleColor:"#fff"},xAxis:{textColor:"#A3B1C2",textAlpha:.6},yAxis:{textColor:"#A3B1C2",textAlpha:.6},title:{color:"#fff"},localRange:{color:"#fff"},zoomedRange:{color:"#fff"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"},body:{backgroundColor:"#262f3d",color:"#fff"},noteColor:"#108BE3",octoColor:"#fff"},{name:"matrix",grid:{color:"#00ff41",alpha:.2,markerFillColor:"#0d0208"},legend:{background:"#003b00",color:"#00ff41"},preview:{maskColor:"#003b00",maskAlpha:.6,brushColor:"#009f11",brushBorderAlpha:0,handleColor:"#00ff41"},xAxis:{textColor:"#00ff41",textAlpha:.6},yAxis:{textColor:"#00ff41",textAlpha:.6},title:{color:"#008f11"},localRange:{color:"#008f11"},zoomedRange:{color:"#008f11"},zoomText:{color:"#008f11"},zoomIcon:{fill:"#008f11"},buttons:{color:"#0d0208"},pie:{textColor:"#0d0208"},series:{Joined:"#00ff41",Left:"#008f11",Views:"#00ff41",Shares:"#008f11",Clicks:"#008f11",Kiwi:"#00ff41",Apricots:"#008f11",Lemons:"#005b00",Mango:"#7ec251",Oranges:"#145105",Pears:"#66e82f",Apples:"#0acb3b",Adventure:"#03c835",Western:"#008f11",Action:"#00ff41","Multiple Genres":"#66e82f",Drama:"#0acb3b",Comedy:"#008f11","Thriller/Suspense":"#005b00","Concert/Performance":"#7ec251",Horror:"#145105","Romantic Comedy":"#12842f",Musical:"#079d2e"},body:{backgroundColor:"#0d0208",color:"#00ff41"},noteColor:"#008f11",octoColor:"#00ff41"},{name:"light",grid:{color:"#182D3B",alpha:.1,markerFillColor:"#fff"},legend:{background:"#fff",color:"#000"},preview:{maskColor:"#E2EEF9",maskAlpha:.6,brushColor:"#C0D1E1",brushBorderColor:"#fff",brushBorderAlpha:1,handleColor:"#fff"},xAxis:{textColor:"#8E8E93",textAlpha:1},yAxis:{textColor:"#8E8E93",textAlpha:1},title:{color:"#000"},localRange:{color:"#000"},zoomedRange:{color:"#000"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"},body:{backgroundColor:"#fff",color:"#000"},noteColor:"#108BE3",octoColor:"#fff"}],X=void 0!==window.orientation,k={type:"pie",data:{x:[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],y0:[418894996,375827476,405950482,350025489,412599414,356749803,334756601,363440937,480825172,299653307,323532944],y10:[2829762,22654,11748762,10677132,13353944,17940856,284339,3501919,17013981,6864560,3667257],y1:[228907497,272137386,228669559,267026649,278874194,297981308,318724501,349637236,285649087,368643283,447980568],y12:[70848,85951,148783,190518,238718,263510,628663,286179,330890,514394,525514],y2:[151729266,244595555,213973344,187934565,209883469,164612977,201036506,245573737,157334842,147887868,176581251],y3:[292402573,191387857,174406757,188043157,131991738,199227435,155477200,153408009,162978825,87443925,94998758],y4:[106796214,128751724,116501895,117123096,186711044,138499493,118634566,129240950,82084039,77766071,67312441],y11:[10533274,2660484,396482,12035978,3561192,7980550,385326,136417,3145782,332699,298642],y5:[42770147,77957339,67327194,50987e3,44842994,57311383,31198061,44403863,56039563,115877974,98962594],y6:[46079258,85649416,65577463,72861475,42739101,24261722,32398230,8790834,15862326,9586948,26458555],y7:[36236267,5244119,22114278,10679542,27725964,43935184,30866923,8178513,28773877,99237710,45842523],y8:[12177214,24992506,11895704,10392818,16624104,6064807,10774221,7720431,5870460,5006181,11765171]},names:{y0:"Adventure",y1:"Action",y2:"Drama",y3:"Comedy",y4:"Thriller/Suspense",y5:"Horror",y6:"Romantic Comedy",y7:"Musical",y8:"Documentary",y10:"Western",y11:"Concert/Performance",y12:"Multiple Genres"},colors:{y0:"#2373DB",y1:"#EC2049",y2:"#F26B38",y3:"#F7DB4F",y4:"#A7226E",y5:"#474747",y6:"#FC9D9A",y7:"#FF4E50",y8:"#5FB641",y10:"#FC913A",y11:"#C8C8A9",y12:"#2F9599"}},P=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(f.a)(this,Object(p.a)(t).call(this,e))).setTheme=function(e){var t=C[e];document.body.style.backgroundColor=t.body.backgroundColor,document.body.style.color=t.body.color,document.querySelectorAll(".note").forEach(function(e){e.style.color=t.noteColor}),document.getElementById("octo").style.fill=t.octoColor},o.switchTheme=function(){var e=o.state.themeIdx;++e===C.length&&(e=0),o.setState({themeIdx:e}),o.setTheme(e)},o.onZoomIn=function(){var e=Object(d.a)(s.a.mark(function e(t,o){var a,n,i,r,l,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date(o),n=""+(a.getMonth()+1),i=""+a.getDate(),r=a.getFullYear(),n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),l="data/"+t+"/"+r+"-"+n+"/"+i+".json",e.next=6,fetch(l);case 6:return d=e.sent,e.abrupt("return",d.json());case 8:case"end":return e.stop()}},e)}));return function(t,o){return e.apply(this,arguments)}}(),o.state={isLoaded:!1,themeIdx:0,data:[]},o}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(s.a.mark(function e(){var t,o,a,n,i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[1,2,3,4,5].map(function(e){return fetch("data/".concat(e,"/overview.json"))}),e.next=3,Promise.all(t);case 3:return o=e.sent,e.next=6,Promise.all(o.map(function(e){return e.json()}));case 6:a=e.sent,this.setState({isLoaded:!0,data:a}),n=window.location.hash.substr(1),i=C.findIndex(function(e){return e.name===n}),r=Math.max(0,i),this.setState({themeIdx:r}),this.setTheme(r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return null;var t=X?"100%":"50%",o=C[this.state.themeIdx],a=this.state.data,i={width:t,marginTop:20};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"note",onClick:this.switchTheme},"Switch theme"),n.a.createElement("h4",{className:"note"},"(click on the ",X?"legend":"chart"," to zoom in)"),n.a.createElement("div",{className:"container"},n.a.createElement(A,Object.assign({title:"Followers",theme:o,style:i},a[0],{onZoomIn:function(t){return e.onZoomIn(1,t)}})),n.a.createElement(A,Object.assign({title:"Fruits",theme:o,style:i},a[4])),n.a.createElement(A,Object.assign({title:"Interactions",theme:o,style:i},a[1],{onZoomIn:function(t){return e.onZoomIn(2,t)}})),n.a.createElement(A,Object.assign({title:"Messages",theme:o,style:i},a[2],{onZoomIn:function(t){return e.onZoomIn(3,t)}})),n.a.createElement(A,Object.assign({title:"Views",theme:o,style:i},a[3],{onZoomIn:function(t){return e.onZoomIn(4,t)}})),n.a.createElement(A,Object.assign({title:"Box Office Ticket Sales",theme:o,style:i},k,{stepX:1,startX:2017,endX:2018}))),n.a.createElement("h3",{className:"bottom note",onClick:this.switchTheme},"Switch theme"))}}]),t}(a.Component);r.a.render(n.a.createElement(P,null),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.dd15c9b8.chunk.js.map