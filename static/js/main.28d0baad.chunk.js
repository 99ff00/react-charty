(window["webpackJsonpreact-charty-example"]=window["webpackJsonpreact-charty-example"]||[]).push([[0],{173:function(e,t,o){e.exports=o(383)},378:function(e,t,o){},383:function(e,t,o){"use strict";o.r(t);o(174),o(183);var a=o(14),n=o.n(a),i=o(167),r=o.n(i),l=(o(378),o(62)),s=o.n(l),d=o(105),c=o(168),h=o(169),f=o(171),p=o(170),m=o(172),u=o(106),g=o.n(u),v=o(8),y=o.n(v);var x={chart:"styles_chart__3TN3X",header:"styles_header__3PFGX",title:"styles_title__1cca0",zoom:"styles_zoom__1MrWD",date:"styles_date__3jLQg",zoomText:"styles_zoomText__OFj8g",localRange:"styles_localRange__3BkLX",zoomedRange:"styles_zoomedRange__2Eoyo",ctrls:"styles_ctrls__1QGXt",checkbox:"styles_checkbox__n3Wwb",shake:"styles_shake__cxUqQ",name:"styles_name__13yyl",legend:"styles_legend__1RMVG",xval:"styles_xval__2fECb",label:"styles_label__1nh3o",labelTotal:"styles_labelTotal__17ztL",labelPercent:"styles_labelPercent__3drGS",labelName:"styles_labelName__2M57m",labelNameTotal:"styles_labelNameTotal__3VUst",labelValue:"styles_labelValue__3m_Aj",labelValueTotal:"styles_labelValueTotal__1ihZO"};!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}("/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n.styles_chart__3TN3X {\n  position: relative;\n  overflow: hidden;\n}\n.styles_chart__3TN3X .styles_header__3PFGX{\n  height: 50px;\n  position: relative;\n}\n.styles_chart__3TN3X .styles_title__1cca0 {\n  font-size: 16px;\n  margin: 15px 0 0 20px;\n  position: absolute;\n  transform-origin: top left;\n  -webkit-transform-origin: bottom left;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD {\n  opacity: 0;\n  position: absolute;\n  transform-origin: bottom left;\n  -webkit-transform-origin: bottom left;\n  margin: 15px 0 0 20px;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD svg {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  position: relative;\n  margin: 0 4px 0 0;\n  top: 5px;\n}\n.styles_chart__3TN3X .styles_zoom__1MrWD svg path {\n  fill: #108BE3;\n}\n.styles_chart__3TN3X .styles_date__3jLQg {\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_date__3jLQg a {\n  position: absolute;\n  right: 0;\n}\n.styles_chart__3TN3X .styles_zoomText__OFj8g {\n  font-weight: normal;\n  font-size: 16px;\n  color: #108BE3;\n  padding: 0 0 20px;\n}\n.styles_chart__3TN3X .styles_localRange__3BkLX {\n  font-size: 12px;\n  top: 0;\n  padding: 17px 20px 0 0;\n  margin: 0;\n  right: 0;\n  transform-origin: top right;\n  -webkit-transform-origin: bottom left;\n  position: absolute;\n}\n.styles_chart__3TN3X .styles_zoomedRange__2Eoyo {\n  font-size: 12px;\n  top: 0;\n  padding: 17px 20px 0 0;\n  margin: 0;\n  right: 0;\n  position: absolute;\n  opacity: 0;\n  transform-origin: bottom right;\n  -webkit-transform-origin: bottom left;\n}\n.styles_chart__3TN3X .styles_ctrls__1QGXt {\n  padding: 0 6px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  transition: transform .3s ease;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb {\n  margin: 10px 0 0 10px;\n  padding: 9px 12px 9px 30px;\n  cursor: pointer;\n  position: relative;\n  border-radius: 7px;\n  border-width: 1px;\n  border-style: solid;\n  font-size: 14px;\n  min-width: auto;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb.styles_shake__cxUqQ {\n  -webkit-animation: styles_shake__cxUqQ .3s ease alternate;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb svg {\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n}\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_name__13yyl {\n  font-weight: normal;\n  display: inline-block;\n  transition: transform .15s ease, opacity .15s ease;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG {\n  position: absolute;\n  padding: 8px 10px;\n  border-radius: 10px;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.4);\n  white-space: nowrap;\n  max-width: 300px;\n  z-index: 9999;\n  transform: translate3d(0, -200px, 0);\n  -webkit-transform-origin: bottom left;\n  top: 0;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  min-width: 155px;\n  opacity: 0;\n  transition: opacity .3s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 200px;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_xval__2fECb {\n  font-weight: bold;\n  margin: 0 22px 5px 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_label__1nh3o, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  padding: 5px 0 0 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\n  display: none;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelPercent__3drGS {\n  display: none;\n  font-weight: bold;\n  font-size: 12px;\n  text-align: right;\n  min-width: 30px;\n  padding: 0 10px 0 0;\n  flex-shrink: 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelName__2M57m, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelNameTotal__3VUst {\n  font-size: 12px;\n  padding: 0 10px 0 0;\n}\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValue__3m_Aj, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValueTotal__1ihZO {\n  font-weight: bold;\n  font-size: 12px;\n  flex: 1;\n  text-align: right;\n}\n");var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},T=function(){var e='<div id=|header>      <h3 id=|title></h3>      <h3 id=|zoom>        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">          <path id=|zoomIcon d="M13 10h-8v-2h8v2zm8.172 14l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"/>        </svg>        <span id=|zoomText>Zoom Out</span>      </h3>      <h4 id=|localRange></h4>      <h4 id=|zoomedRange></h4>    </div>    <canvas id=|canvas></canvas>    <div id=|ctrls></div>    <div id=|legend></div>',t='[<label id=|checkbox{i} style="background: {color}; border-color: {color}">        <span id=|name{i} style="color:#fff">{name}</span>        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">          <path id=|chk{i} d="m9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"/>        </svg>      </label>]',o='<div id=|date><span id=|xval></span></div>      [<div id=|label{i}>        <div id=|labelPercent{i}></div>        <div id=|labelName{i}></div>        <div id=|labelValue{i} style="color:{color}"></div>      </div>]      <div id=|labelTotal>        <div id=|labelNameTotal>All</div>        <div id=|labelValueTotal></div>      </div>',a={grid:{color:"#182D3B",alpha:.1,markerFillColor:"#fff"},legend:{background:"#fff",color:"#000"},preview:{maskColor:"#E2EEF9",maskAlpha:.6,brushColor:"#C0D1E1",brushBorderColor:"#fff",brushBorderAlpha:1,handleColor:"#fff"},xAxis:{textColor:"#8E8E93",textAlpha:1},yAxis:{textColor:"#8E8E93",textAlpha:1},title:{color:"#000"},localRange:{color:"#000"},zoomedRange:{color:"#000"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"}},n=400,i=354,r=Math.PI/180,l='BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=window.devicePixelRatio,f=700,p=220,m=150,u=300,g=300,v=200,y=1e4,w={HEADER:1,MAIN:2,XAXIS:3,PREVIEW:4,BRUSH_CENTER:5,BRUSH_LEFT:6,BRUSH_RIGHT:7},_=void 0!==window.orientation,S=[],T=.99,M=["globalStart","globalEnd","localStart","localEnd","vLineX","vLineY","legendIsVisible","isZoomed","isZooming"],A={inQuad:function(e,t,o,a){return o*(e/=a)*e+t},outQuad:function(e,t,o,a){return-o*(e/=a)*(e-2)+t},inCubic:function(e,t,o,a){return o*(e/=a)*e*e+t},outCubic:function(e,t,o,a){return o*((e=e/a-1)*e*e+1)+t},outSine:function(e,t,o,a){return o*Math.sin(e/a*(Math.PI/2))+t},outBack:function(e,t,o,a,n){return n||(n=1.5),o*((e=e/a-1)*e*((n+1)*e+n)+1)+t}},E={time:function(e){return function(e){var t=new Date(e),o=""+t.getHours(),a=""+t.getMinutes();o.length<2&&(o="0"+o);a.length<2&&(a="0"+a);return o+":"+a}(e)},date:function(e){return k(e)},shortDate:function(e){return k(e)},longDate:function(e){return X(e)},longDateWeekDay:function(e){return k(e,!0,!0)},float1:function(e){return parseFloat(e).toFixed(1)},float2:function(e){return parseFloat(e).toFixed(2)},number:function(e){return C(e)},undefined:function(e){return Math.round(e)}};function C(e){return void 0===e?"":Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function X(e,t){var o=t||new Date(e);return o.getDate()+" "+c[o.getMonth()]+" "+o.getFullYear()}function k(e,t,o){var a=new Date(e);return t?(o?d[a.getDay()]:s[a.getDay()])+", "+X(0,a):c[a.getMonth()]+" "+a.getDate()}function P(e){return document.getElementById(e)}function z(e){var t,o=e.length;if(0===(o&o-1))t=2*o-1;else{var a=Math.floor(Math.log(o)/Math.log(2));t=2*Math.pow(2,a+1)-1}return new Array(t)}function R(e){return 2*e+2}function B(e){return 2*e+1}function N(e,t,o){!function e(t,o,a,n,i,r){if(a!==n){var l=Math.floor((a+n)/2);e(t,o,a,l,B(i),r),e(t,o,l+1,n,R(i),r),t[i]=r(t[B(i)],t[R(i)])}else{var s=o[a];t[i]=isNaN(s)?0:s}}(e,t,0,t.length-1,0,o)}function L(e,t,o,a,n,i){return function e(t,o,a,n,i,r,l,s){if(o<=n&&a>=i)return t[r];if(o>i||a<n)return s;var d=Math.floor((n+i)/2);return l(e(t,o,a,n,d,B(r),l,s),e(t,o,a,d+1,i,R(r),l,s))}(e,o,a,0,t-1,0,n,i)}return function s(d,c,X,k,R){var B="object"===("undefined"===typeof d?"undefined":b(d))?d.id:d;B||(B=d.id="charty-"+S.length);var Y,G,I,W,D,O,F={progress:0,needMeasure:!0,yPos:[]},j=R,H=[],Z=[],U={},V={},Q=[],J=[],q=[],K={},$={},ee={},te=S.length,oe=k||{chart:{topPadding:50,hPadding:15,height:n},pie:{segmentShift:5},preview:{height:46,vPadding:1,radius:8,lineWidth:1,handleW:9,handleTick:10,minBrushSize:10,hitSlop:10},grid:{lineWidth:1,legendShift:-10,markerRadius:3,markerLineWidth:4},xAxis:{textWidth:80,height:32,fadeTime:250},yAxis:{textCount:5,fadeTime:500},main:{lineWidth:2,vPadding:15}},ae=this;function ne(e){var t=O||e;for(var o in t)if(oe[o])if(oe[o].stylo)oe[o].stylo(t[o]);else for(var a in t[o])oe[o][a]=t[o][a];function n(e){e.color=t.colors&&t.colors[e.name]?t.colors[e.name]:e._color,e.fillColor=t.fillColors&&t.fillColors[e.name]?t.fillColors[e.name]:e._fillColor}Z.map(function(e,t,o){n(e),Be(t,e.off,o)}),F.zoomedChart&&F.zoomedChart.getSeries().map(function(e){n(e)}),F.stepGridX=void 0,F.stepGridY=void 0,Ce()}function ie(e,t){return t&&(H=t),e.replace(/\[([^\]]+)\]/g,function(e,t){return Z.map(function(e,o){return t.replace(/\{(\w+)\}/g,function(t,a){return"i"===a?o:e[a]})}).join("")}).replace(/\|([^\s>]+)/g,function(e,t){return H.indexOf(t)<0&&H.push(t),B+"-"+t})}function re(e){if(e)return O=e,F.zoomedChart&&(F.zoomedChart.setTheme(e),F.zoomedChart.updateTheme()),ne();X?O=X.getTheme():O||(O=c.theme||a)}function le(){oe.legend.innerHTML=ie(o,[]),H.map(Fe)}function se(){F.showButtons?(oe.ctrls.innerHTML=ie(t,[]),H.map(Fe),Z.map(function(e,t){oe["checkbox"+t].on("mousedown touchstart",function(e){Oe(e),F.tapStarted=Date.now(),F.tapTimer&&clearTimeout(F.tapTimer),F.tapTimer=setTimeout(function(){F.tapTimer=0;for(var e=0;e<Y;e++){var o=Z[e];(!o.off&&e!==t||o.off&&e===t)&&Ne(e,e!==t)}F.seriesCount=1,F.prevSeriesCount=0},f)}).on("mouseup touchend",function(e,o,a,n,i){if(Oe(e),F.tapTimer){clearTimeout(F.tapTimer),F.tapTimer=0;for(var r=0;r<Y;r++)if(r!==t&&!Z[r].off)return Ne(t);i.shake()}}),Be(t,e.off)})):oe.ctrls.innerHTML=""}function de(e){var t=void 0!==e?!e:!F.showPreview;Re("previewA",t?1:0,t?0:1,2*m);var o=e?0:oe.preview.height+10;oe.ctrls.stylo({transform:"translate3d(0, -"+o+"px, 0)"}),F.showPreview=!t}function ce(e){throw e}function he(){F.showLegend=!1!==c.showLegend,F.showButtons=!1!==c.showButtons&&Y>1,F.showPreview=!1!==c.showPreview,F.showMainArea=!1!==c.showMainArea,F.showBrush=!1!==c.showBrush,F.showRangeText=!1!==c.showRangeText,F.showLegendTitle=!1!==c.showLegendTitle,F.stepX=c.stepX||1,F.zoomStepX=c.zoomStepX||1,F.autoScale=!1!==c.autoScale}function fe(t){var o=c.data;if(Z=[],U={},V={},H=[B],$={previewA:F.showPreview?1:0},!o)return ce("The data parameter is missing.");if(!o.x||!(o.x instanceof Array))return ce("The x-axis data is missing.");var a=c.type||"line";["line","stacked","area","percentage","multi_yaxis","bar","pie"].forEach(function(e){V[e]=a.indexOf(e)>=0}),Object.keys(o).forEach(function(e){var t=o[e];"x"===e?G=t:Z.push({data:t,color:(c.colors||{})[e],fillColor:(c.fillColors||{})[e],name:(c.names||{})[e],type:c.type})}),Y=Z.length,I=G.length,U.min=G[0],U.max=G[I-1],U.d=U.max-U.min,F.globalStart===U.min&&F.globalEnd===U.max||(F.localStart=c.startX||2/3*U.d+U.min,F.localEnd=c.endX||U.max,F.globalStart=U.min,F.globalEnd=U.max,F.prevStepGridX=void 0),F.localMM=void 0,F.globalMM=void 0,V.linear=V.line||V.multi_yaxis,he(),$={previewA:F.showPreview?1:0};for(var n=0;n<Y;n++){var i,r=!1;(i=Z[n])._color=i.color,i._fillColor=i.fillColor,V.percentage||(q[n]=z(i.data),N(q[n],i.data,Math.max),J[n]=z(i.data),N(J[n],i.data,Math.min)),D&&D[n]&&D[n].name===i.name&&(r=D[n].off),i.off=r,$["alphaY"+n]=r?0:1,$["on"+n]=r?0:1}F.minBrushSize=U.d*oe.preview.minBrushSize/100,F.seriesCount=Y,re(),t||(X?X.togglePreview(F.showPreview):(P(B).innerHTML=ie(e),H.map(Fe),de(F.showPreview),oe.title.innerText=c.title,j=oe.canvas.getContext("2d"),ae.isHooked&&Je(),ae.isHooked=!0,document.addEventListener("mousemove",Ge),window.addEventListener("resize",Ze),window.addEventListener("scroll",Ue),oe.legend.on("touchmove mousemove",Oe),oe.legend.on("touchstart mousedown",function(e,t){isNaN(F.vLineX)||F.zoomedChart||je(F.vLineX)}),oe.canvas.on("touchmove mousemove",function(e,t,o,a){for(var n=0,i=S.length;n<i;n++)n!==te&&S[n].dismiss();if(F.vLineX=void 0,F.vLineY=void 0,F.pieX=void 0,F.pieY=void 0,F.isZoomed&&V.area||(a===w.MAIN&&(F.vLineX=t,F.vLineY=o),isNaN(F.vLineX)||(F.legendIsVisible=!1),We()),(V.pie||F.isZoomed&&V.area)&&a===w.MAIN&&(F.pieX=t-oe.main.width/2,F.pieY=o-oe.main.height/2-oe.chart.topPadding),a>=w.XAXIS&&De(),Ce(),(!_||ee.draggingArea>=w.PREVIEW)&&Oe(e),F.showBrush){Qe(a);var r,l,s,d,h=F.localEnd-F.localStart,f=(F.zoomedChart?F.zoomedChart.getProps().stepX:F.stepX)||1,p=F.isZoomed||V.pie?f:Math.max(f,F.minBrushSize);F.isZoomed&&c.zoomStepX&&(f=c.zoomStepX),ee.draggingArea===w.BRUSH_LEFT?(r=Ie(ve(t),F.globalStart,F.localEnd-p),s=F.localStart-r,!V.pie&&1===f&&Math.abs(s)/f>=1?F.localStart=r:Math.abs(s)>.5*f&&(d=f*Math.ceil(s/f),Ve(F.localStart-d,Math.min(F.localEnd,F.globalEnd)))):ee.draggingArea===w.BRUSH_RIGHT?(l=Ie((t+oe.preview.handleW/2-oe.chart.hPadding)/oe.preview.width*(F.globalEnd-F.globalStart)+F.globalStart,F.localStart+p,F.globalEnd),s=F.localEnd-l,!V.pie&&1===f&&Math.abs(s)/f>=1?F.localEnd=l:Math.abs(s)>.5*f&&(d=f*Math.floor(s/f),Ve(Math.max(F.globalStart,F.localStart),F.localEnd-d))):ee.draggingArea===w.BRUSH_CENTER&&(r=Ie((t-F.deltaDragX-oe.preview.handleW/2-oe.chart.hPadding)/oe.preview.width*(F.globalEnd-F.globalStart)+F.globalStart,F.globalStart,F.globalEnd-h),l=Ie(r+h,F.globalStart,F.globalEnd),s=F.localEnd-l,!V.pie&&1===f&&Math.abs(s)/f>=1?(F.localStart=r,F.localEnd=l):Math.abs(s)>.5*f&&(d=f*Math.round(s/f),Ve(F.localStart-d,F.localEnd-d)))}}),oe.zoom.on("touchstart mousedown",function(){var e;F.isZoomed&&(e=!1!==c.showPreview,ae.togglePreview(e),function(e){if(!F.isZoomed)return je();var t=F.globalStart,o=F.globalEnd,a=F.localStart,n=F.localEnd;F.isZooming=!0,Re("zoomOut",1,0,g,function(e){var i=1-e;F.globalStart=t-i*(t-F._globalStart),F.globalEnd=o-i*(o-F._globalEnd),F.localStart=a-i*(a-F._localStart),F.localEnd=n-i*(n-F._localEnd),F.progress=e,oe.title.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),oe.zoom.stylo({opacity:e,transform:"scale("+e+", "+e+")"},!0),oe.localRange.stylo({opacity:i,transform:"scale("+i+", "+i+")"},!0),oe.zoomedRange.stylo({opacity:e,transform:"scale("+e+", "+e+")"},!0),Xe(oe.localRange),We()},A.inCubic,function(){F.isZooming=!1,F.isZoomed=!1,F.forceUpdate=!0,Ze(),F.zoomedChart&&(F.zoomedChart.destroy(),F.zoomedChart=void 0),Ge(),He()}),F.zoomedChart&&(F.zoomedChart.getSeries().map(function(e,t){var o=e.off;Z[t]&&Z[t].name===e.name&&(Z[t].off=o,$["alphaY"+t]=o?0:1,$["on"+t]=o?0:1)}),se(),ne(),de(F.showPreview)),De()}())}),oe.canvas.on("touchstart mousedown",function(e,t,o,a){if(F.showBrush)if(ee.draggingArea=a,a>w.PREVIEW)F.deltaDragX=t-ge(F.localStart)-oe.preview.handleW/2;else if(a===w.PREVIEW){var n=F.localEnd-F.localStart,i=ve(t),r=i-n/2,l=i+n/2,s=F.globalStart-r,d=l-F.globalEnd;s>0?(r=F.globalStart,l=F.globalStart+n):d>0&&(r=F.globalEnd-n,l=F.globalEnd),Ve(r,l)}}),oe.canvas.on("touchend touchcancel mouseup",function(e,t,o,a){F.showBrush&&(_||isNaN(F.vLineX)||F.zoomedChart||je(F.vLineX),ee.draggingArea=0,Qe(a))}))),le(),se(),ne(),F.forceUpdate=!0,Ce(),Ee(),t||ze()}function pe(e){return Ie(Math.round((I-1)*(e-U.min)/U.d),0,I-1)}function me(e){return Ie(Math.ceil((I-1)*(e-U.min)/U.d),0,I-1)}function ue(e){return Ie(Math.floor((I-1)*(e-U.min)/U.d),0,I-1)}function ge(e){return(e-F.globalStart)/(F.globalEnd-F.globalStart)*oe.preview.width+oe.chart.hPadding}function ve(e){return(e-oe.preview.handleW/2-oe.chart.hPadding)/oe.preview.width*(F.globalEnd-F.globalStart)+F.globalStart}function ye(e){oe.canvas.rect(e,oe.chart.height-(oe.preview.height+oe.preview.handleTick)/2,2,oe.preview.handleTick,2,!0,!0)}function xe(){var e=oe.preview.height,t=oe.preview.minHeight,o=oe.preview.width,a=$.previewA;X||j.clearRect(0,oe.xAxis.y+5,oe.main.width,oe.xAxis.height+e),F.showPreview&&(j.save(),oe.canvas.rect(oe.chart.hPadding,oe.preview.y+oe.preview.vPadding,o,t,oe.preview.radius,!F.showBrush||ge(F.localStart)>oe.chart.hPadding+oe.preview.handleW/2,!F.showBrush||ge(F.localEnd)<oe.main.width-oe.chart.hPadding-oe.preview.handleW/2,!0),j.lineWidth=oe.preview.lineWidth,j.globalAlpha=a,Me("global",a,o,e-2*oe.preview.vPadding,F.globalStart,F.globalEnd,0,oe.chart.height-oe.preview.vPadding,oe.chart.hPadding,!0),F.showBrush&&(j.fillStyle=oe.preview.maskColor,j.globalAlpha=a*oe.preview.maskAlpha,j.fillRect(oe.chart.hPadding,oe.preview.y+oe.preview.vPadding,ge(F.localStart)-oe.chart.hPadding,t),j.fillRect(ge(F.localEnd),oe.preview.y+oe.preview.vPadding,oe.main.width+oe.preview.handleW-oe.chart.hPadding-ge(F.localEnd),t)),j.restore(),F.showBrush&&function(e){var t=oe.preview.handleW,o=ge(F.localStart),a=ge(F.localEnd);j.strokeStyle=oe.preview.brushColor,j.globalAlpha=e,j.lineWidth=1,(V.bar||V.area||V.pie)&&(j.fillStyle=oe.preview.brushBorderColor,j.globalAlpha=oe.preview.brushBorderAlpha,oe.canvas.rect(o-t-1,oe.preview.y-1,t+3,oe.preview.height+3,oe.preview.radius+1,!0),oe.canvas.rect(a-1,oe.preview.y-1,t+3,oe.preview.height+3,oe.preview.radius+1,!1,!0)),j.globalAlpha=e,j.fillStyle=oe.preview.brushColor,oe.canvas.rect(o-t,oe.preview.y,t,oe.preview.height,oe.preview.radius,!0),oe.canvas.rect(a,oe.preview.y,t,oe.preview.height,oe.preview.radius,!1,!0),j.strokeRect(o,oe.preview.y+oe.preview.vPadding/2,a-o,oe.preview.height-oe.preview.vPadding),j.fillStyle=oe.preview.handleColor||"#fff",ye(o-6),ye(a+4)}(a))}function be(e,t,o,a,n,i,r){var l=$["stepGridXA"+t];if(void 0===l&&(l=1),0!==(l=l*oe.xAxis.textAlpha*r)){o-=o%t,j.fillStyle=oe.xAxis.textColor,j.globalAlpha=l;for(var s,d,h=o;h<=a;h+=t)!e&&t<F.prevStepGridX&&h%F.prevStepGridX===0||e&&t>F.prevStepGridX&&h%F.prevStepGridX===0||e&&F.stepGridX>F.prevStepGridX&&h%F.stepGridX===0||(s=oe.chart.hPadding+(G[h]-F.localStart)*n,d=c.xAxisType instanceof Function?c.xAxisType(G[h]):E[c.xAxisType](G[h]),j.fillText(d,s,i))}}function we(e,t,o,a,n,i,r,l,s){for(var d,h,f,p,m=a,u=0,g=V.multi_yaxis?$.alphaY0:1,v=V.multi_yaxis?$.alphaY1:1,y=$["stepGridYA"+t];m<n;)h=0===u&&t>10?10*Math.ceil(m/10):m,f=oe.xAxis.y-(m-a)*o,e&&u>0&&F.yPos[u]&&(f+=(f-F.yPos[u])*y),p=""+Math.floor(0===u?a:h),j.globalAlpha=y*s*g*oe.yAxis.textAlpha,j.fillStyle=V.multi_yaxis?Z[0].color:oe.yAxis.textColor,d=c.yAxisType instanceof Function?c.yAxisType(p):E[c.yAxisType](p),j.fillText(d,oe.chart.hPadding,f-5),V.multi_yaxis&&(j.fillStyle=Z[1].color||oe.yAxis.textColor,p=Math.max(0,Math.floor(l+(m-a)/i*r)),u>0&&p>50&&(p=10*Math.ceil(p/10)),j.globalAlpha=y*s*v,d=c.yAxisType instanceof Function?c.yAxisType(p):E[c.yAxisType](p),j.fillText(d,oe.main.width-oe.chart.hPadding-j.measureText(d).width-5,f-5)),oe.canvas.line(oe.chart.hPadding,f,oe.main.width-oe.chart.hPadding,f,oe.grid.lineWidth,oe.grid.color,y*oe.grid.alpha*s),e||(F.yPos[u]=f),0===u&&t>10?m=(h+=t-h%t)-m<.6*t?h+t:h:m+=t,u++}function _e(e){var t;return e instanceof Object?("linear_gradient_h"===e.type&&(t=j.createLinearGradient(0,0,oe.main.width,0)),"linear_gradient_v"===e.type&&(t=j.createLinearGradient(0,0,0,oe.main.height)),e.colors.forEach(function(e,o,a){t.addColorStop(o/(a.length-1),e)}),t):e}function Se(e,t,o){for(var a=Y-1;a>=0;a--){var n=Z[a],i=Math.round(100*n.percent);if(!n.off){var r=13+30*n.percent,s=i<4?t+r+2:t/1.25,d=i<1?"<1%":i+"%";j.font=r+"px "+l;var c=j.measureText(d),h=oe.main.width/2+(1-n.percent)*s*Math.cos(n.angle)-c.width/2+2*n.dx,f=oe.main.height/2+(1-n.percent)*s*Math.sin(n.angle)+r/4+2*n.dy;j.globalAlpha=e*n.alpha*o,j.fillStyle=i<4?n.color:oe.pie.textColor,j.fillText(d,h,f)}}}function Te(e,t,o,a){for(var n,i=a||Math.min(oe.main.height,oe.main.width)/2-25,l=new Array(Y),s=0,d=90*r,c=V.pie?1:F.progress,h=0;h<Y;h++)for(var f=Z[h],p=$["on"+h],u=e;u<=t;u++)A=f.data[u],l[h]=u===e?A:l[h]+A,0===h&&(s+=W[u]);if(V.area||(j.save(),j.translate(oe.main.width/2,oe.main.height/2)),!isNaN(F.pieX)){var g=Math.sqrt(F.pieX*F.pieX+F.pieY*F.pieY),v=Math.atan2(F.pieY,F.pieX);(v-=90*r)<0&&(v+=2*Math.PI)}for(h=Y-1;h>=0;h--){f=Z[h];var y=$["on"+h],x=l[h]/s,b=$["pieZoom"+h]||0,w=(p=360*c*x*y*r,0),_=d-90*r,S=b*oe.pie.segmentShift*Math.cos(90*r+_+p/2),T=b*oe.pie.segmentShift*Math.sin(90*r+_+p/2),M=b*oe.pie.segmentShift,A=Math.round(100*x);if(Q[h]=x,A>=1&&g<=i&&v>=_&&v<_+p&&(n=h),f.angle=d+p/2,f.percent=y*x,f.alpha=y,f.val=l[h],f.dx=S,f.dy=T,f.z=b,j.globalAlpha=o,j.fillStyle=f.color,j.beginPath(),j.moveTo(S,T),1===F.seriesCount&&!f.off){j.arc(0,0,i+M,d,d+360*r),j.fill();break}w=M/(360-180*x),j.arc(S,T,i+M,d+w,d+p+r*y-w),j.fill(),d+=p}isNaN(n)?isNaN(F.segment)||(Re("pieZoom"+F.segment,1,0,m,0),F.segment=void 0):F.segment!==n&&(Re("pieZoom"+n,0,1,m),isNaN(F.segment)||Re("pieZoom"+F.segment,1,0,m,0),F.segment=n),V.area||(j.restore(),Se(c,i,o))}function Me(e,t,o,a,n,i,l,s,d,c){var h=o/(i-n),f=pe(n-l/h),p=pe(i+l/h);j.globalAlpha=t,V.bar?function(e,t,o,a,n,i,r,l,s,d,c,h){for(var f,p,m,u,g,v,y,x=1-F.progress,b=ue(n-i/h),w=oe.main.width/(c-d-.5),_=0,S=new Array(I),T=0;T<Y;T++)M=$[e+"DY"+T]*$["on"+T],_=V.stacked?_+M:Math.max(_,M);for(F.showLegend&&F.vLineX>=0&&(f=ue(p=F.localStart+(F.highlightedX-oe.chart.hPadding)/oe.preview.width*(F.localEnd-F.localStart))),T=0;T<Y;T++){m=$["alphaY"+T]*x,j.globalAlpha=t*(s?m:f>=0?.5:m),j.fillStyle=Z[T].color,j.beginPath(),u=(a+oe.main.vPadding/2)/_;for(var M,A,E=b;E<=c;E++)M=Z[T].data[E]*$["on"+T],A=S[E]||0,p=l+i+(G[E]-n)*h,j.rect(p,r-A*u,w,-M*u),f===E&&(g=p,v=r-A*u,y=-M*u),V.stacked&&(S[E]=A+M);j.fill(),!s&&f>=0&&(j.globalAlpha=m*t,j.fillRect(g,v,w,y))}}(e,t,0,a,n,l,s,d,c,f,p,h):V.area||V.pie&&c?function(e,t,o,a,n,i,l,s,d,c){var h=o/(i-n),f=ue(n-l/h),p=me(i+l/h),m=new Array(I),u=c?0:F.progress,g=Math.min(oe.main.height,oe.main.width)/2-25,v=Math.min(1,u),y=1-u;v>0&&!c&&(f=ue((n=F._localStart)-l/(h=o/((i=F._localEnd)-n))),p=me(i+l/h)),c||(a+=oe.main.vPadding);var x=a/(1+u),b=x/100,w=0,_=!1;if(c||(d-=oe.main.width/2,s-=g+15,j.save(),v<1&&oe.canvas.rect(v*(oe.main.width/2-g),25*v,2*g*v+(1-v)*(oe.main.width-l),2*g+50*y,v*g,!0,!0,!0),j.translate(oe.main.width/2,oe.main.height/2),!c&&v<=T&&j.transform(1+v,0,0,1+v,0,0),v>T&&Te(pe(F.localStart),pe(F.localEnd-F.zoomStepX),t,g)),v<=T||c){w=0;for(var S=Y-1;S>=0;S--){var M=Z[S],A=(M.data[F.selectedIndex]||0)/(W[F.selectedIndex]||1),E=180*A,C=!1,X=0,k=$["on"+S];c||(X=180*u*A*k*r,j.rotate(w+X)),oe.canvas.startLine(k,0,M.color,j.lineWidth);for(var P,z,R,B,N,L,D=f;D<=p;D++){if(N=m[D]||0,P=100*M.data[D]/W[D]*k,z=d+l+(G[D]-n)*h,R=s-x+y*N*b,L=c?0:Math.abs(z)/Math.tan((90*y+u*E)*r),D===f?(B=z,j.moveTo(z,y*R+L)):!C&&z>=0&&u>.5?(C=!0,j.lineTo(z*y,y*(y*R+L))):j.lineTo(z,y*R+L),D===p)if(M.off||_)j.lineTo(z,2*s),j.lineTo(B,2*s);else if(_=!0,j.globalAlpha=t,j.fillStyle=M.color,j.fillRect(B,26-s,z-B,2*s),1===F.seriesCount)break;m[D]=N+P}if(j.fill(),c||(j.rotate(-w-X),w+=2*X),1===F.seriesCount&&!M.off)break}}c||(j.restore(),Se(v,g,t))}(0,t,o,a,n,i,l,s,d,c):V.pie?Te(f,p,t):V.linear&&function(e,t,o,a,n,i,r,l,s,d){t-=oe.grid.markerRadius+oe.grid.markerLineWidth;for(var c,h,f,p,m,u,g=0;g<Y;g++){f=Z[g].data,p=_e(Z[g].color),m=_e(Z[g].fillColor),oe.canvas.startLine((1-F.progress)*$["alphaY"+g],p,m,j.lineWidth),c=V.multi_yaxis?g:"",d=t/$[e+"DY"+c];for(var v=r;v<=l;v++)h=i+a+(G[v]-o)*s,v===r&&(u=h,j.moveTo(h,n-(f[v]-$[e+"MinY"+c])*d)),j.lineTo(h,n-(f[v]-$[e+"MinY"+c])*d);m?(j.stroke(),j.lineTo(h,n),j.lineTo(u,n),j.fill()):j.stroke()}}(e,a+7,n,l,s,d,f,p,h,void 0)}function Ae(){F.showMainArea&&(j.lineWidth=oe.main.lineWidth,Me("local",V.percentage?1:1-F.progress,oe.preview.width,oe.main.height-1.5*oe.main.vPadding,F.localStart,F.localEnd,oe.chart.hPadding,oe.main.height,!1),function(){var e=F.showLegend&&!isNaN(F.vLineX);e&&(!(V.bar||V.pie)||V.area)&&oe.canvas.line(F.vLineX,V.area?16:4,F.vLineX,oe.main.height,oe.grid.lineWidth,oe.grid.color,oe.grid.alpha),F.zoomedChart||Le(e||V.area&&F.isZoomed)}())}function Ee(){var e=window.innerWidth,t=window.innerHeight,o=window.pageYOffset;o!==F.pageYOffset&&(oe.box.measure(),F.pageYOffset=o),oe.chart.height=F.showMainArea?n:n-i,(F.needMeasure||F.prevW!==e||F.prevH!==t)&&(F.prevW=e,F.prevH=t,oe.box.measure(),oe.box.h<oe.chart.height&&(F.prevH=0),oe.main.height=oe.chart.height-oe.preview.height-oe.xAxis.height,oe.main.y=0,oe.main.width=oe.box.w,oe.xAxis.y=oe.main.y+oe.main.height,oe.preview.y=oe.chart.height-oe.preview.height,oe.preview.width=oe.box.w-2*oe.chart.hPadding,oe.preview.minHeight=oe.preview.height-2*oe.preview.vPadding,oe.canvas.attr("width",oe.main.width*h).attr("height",oe.chart.height*h).stylo({width:oe.main.width,height:oe.chart.height}),j.scale(h,h),Ce()),F.needMeasure=!1}function Ce(){ee.repaint=!0,F.zoomedChart&&F.zoomedChart.repaint()}function Xe(e,t,o){if(!F.isZooming)if(F.showRangeText){var a,n=void 0===t?F.localStart:t,i=void 0===o?F.localEnd:o,r=F.zoomedChart?F.zoomedChart.getProps():void 0,l=r?r.rangeTextType:c.rangeTextType;if("date"===c.xAxisType&&(i-=r?r.zoomStepX||r.stepX||1:c.zoomStepX||F.stepX),l instanceof Function)a=l(n,i);else if(void 0===a){var s=E[l](n),d=E[l](i);a=s===d?s:s+" - "+d}e.innerText=a}else e.innerText=""}function ke(e,t){var o=1/0,a=-1/0,n=Math.max(0,e),i=Math.min(I,t);function r(e){e>a&&(a=e),e<o&&(o=e)}for(var l,s=0;s<Y;s++)!(l=Z[s]).off||V.multi_yaxis?V.stacked||V.bar||V.percentage?(F.autoScale?(l.max=L(q[s],I,n,i,Math.max,-1/0),l.min=0):(l.max=void 0===c.maxY?L(q[s],I,0,I,Math.max,-1/0):c.maxY,l.min=c.minY||0),l.d=l.max):V.multi_yaxis?(F.autoScale?(l.min=L(J[s],I,n,i,Math.min,1/0),l.max=L(q[s],I,n,i,Math.max,-1/0)):(l.min=void 0===c.minY?L(J[s],I,0,I,Math.min,1/0):c.minY,l.max=void 0===c.maxY?L(q[s],I,0,I,Math.max,-1/0):c.maxY),l.d=l.max-l.min):(r(L(J[s],I,n,i,Math.min,1/0)),r(L(q[s],I,n,i,Math.max,-1/0))):(l.max=0,l.min=0,l.d=0);return o=F.autoScale||void 0===c.minY?o:c.minY,a=F.autoScale||void 0===c.maxY?a:c.maxY,o===1/0&&F.localMM?F.localMM:{min:o,max:a,d:a-o}}function Pe(e,t,o){var a,n;if(F.autoScale?n=ke(t,o):(n=F[e+"MM"])||(n=ke(0,I)),V.multi_yaxis||V.stacked||V.bar||V.area){if($[e+"DY0"])for(i=0;i<Y;i++)!(a=(r=Z[i])[e+"MM"])||r.min===a.min&&r.d===a.d||(Re(e+"DY"+i,a.d,r.d,p),Re(e+"MinY"+i,a.min,r.min,p));else for(var i=0;i<Y;i++){var r=Z[i];$[e+"MinY"+i]=r.min,$[e+"DY"+i]=r.d}for(i=0;i<Y;i++)(r=Z[i])[e+"MM"]={min:r.min,max:r.max,d:r.d}}else!(a=F[e+"MM"])||F.movingBrush?($[e+"MinY"]=n.min,$[e+"DY"]=n.d):n.min===a.min&&n.d===a.d||(Re(e+"DY",a.d,n.d,p),Re(e+"MinY",a.min,n.min,p)),F[e+"MM"]=n}function ze(e){if(!(I<2||F.isDestroyed)){!function(e){var t,o=!0;for(var a in K)if(!(t=K[a]).off){if(t.started||(t.started=e),!1===c.animated)t.update?t.update(t.to):$[a]=t.to,t.cb&&t.cb(),t.off=!0;else{var n=e-t.started,i=t.ease(n,t.from,t.to-t.from,t.duration);t.update?t.update(i):$[a]=i,n>t.duration?(t.update?t.update(t.to):$[a]=t.to,t.cb&&t.cb(),t.off=!0):o=!1}Ce(),X&&X.repaint()}o&&(K={})}(e),requestAnimationFrame(ze),F.needMeasure&&Ee();var t=F.prevLocalStart!==F.localStart||F.prevLocalEnd!==F.localEnd,o=F.prevGlobalStart!==F.globalStart||F.prevGlobalEnd!==F.globalEnd,a=F.seriesCount!==F.prevSeriesCount;ee.repaint&&(V.percentage||V.pie?(!W||F.forceUpdate||F.isOnOffAnimating||a)&&function(){W=new Array(I);for(var e=0;e<Y;e++)for(var t,o=0;o<I;o++)t=Z[e].data[o]*$["on"+e],W[o]=0===e?t:W[o]+t}():((a||o||F.forceUpdate)&&Pe("global",me(F.globalStart),me(F.globalEnd)),(t||a||o||F.forceUpdate)&&Pe("local",me(F.localStart),me(F.localEnd))),(t||o||F.forceUpdate)&&Xe(oe.localRange),F.prevSeriesCount=F.seriesCount,F.prevLocalStart=F.localStart,F.prevLocalEnd=F.localEnd,F.prevGlobalStart=F.globalStart,F.prevGlobalEnd=F.globalEnd,F.hidden||(X||j.clearRect(0,oe.main.y-5,oe.main.width,oe.chart.height),Ae(),xe(),function(){if(!V.pie&&F.showMainArea){var e,t,o,a,n=0,i=Math.min(1,F.progress);if(j.font="11px "+l,V.percentage)t=0,n=100;else if(V.stacked||V.bar||V.percentage){for(var r,s=0;s<Y;s++)r=Z[s].max*$["on"+s],n=V.stacked?n+r:Math.max(n,r);t=0}else V.multi_yaxis?(n=(t=Math.max($.localMinY0,$.localMinY1))+Math.max($.localDY0,$.localDY1),o=Math.min($.localDY0,$.localDY1),a=Math.min($.localMinY0,$.localMinY1)):(n=F.localMM.max,t=F.localMM.min);e=n-t;var d=oe.main.width-2*oe.chart.hPadding,h=d/(F.localEnd-F.localStart),f=(oe.main.height-22)/e,p=ue(F.localStart-oe.chart.hPadding/h),m=me(F.localEnd+oe.chart.hPadding/h),u=oe.xAxis.y+oe.xAxis.height/2,g=c.xAxisStep?c.xAxisStep:Math.pow(2,Math.ceil(Math.log(3*oe.xAxis.textWidth*(m-p)/d)))||1,v=Math.round(e/oe.yAxis.textCount)||1,y=5*Math.pow(10,v.toString().length-2)||1;v=Math.max(1,Math.round(v/y)*y),F.stepGridX!==g&&(F.stepGridX&&(F.stepGridX<g&&Re("stepGridXA"+F.stepGridX,1,0,oe.xAxis.fadeTime),F.prevStepGridX=F.stepGridX),(!F.prevStepGridX||g<F.prevStepGridX)&&Re("stepGridXA"+g,0,1,oe.xAxis.fadeTime),g>F.prevStepGridX&&($["stepGridXA"+g]=1),F.stepGridX=g),F.prevStepGridX&&be(1,F.prevStepGridX,p,m,h,u,1-i),be(0,g,p,m,h,u,1-i),F.stepGridY!==v&&(F.stepGridY&&(Re("stepGridYA"+F.stepGridY,1,0,oe.yAxis.fadeTime/2,0,0,function(){F.prevStepGridY=0,F.yPos=[]}),F.prevStepGridY=F.stepGridY),Re("stepGridYA"+v,0,1,oe.yAxis.fadeTime),F.stepGridY=v),F.prevStepGridY&&we(1,F.prevStepGridY,f,t,n,e,o,a,1-i),we(0,v,f,t,n,e,o,a,1-i),V.percentage&&(j.globalAlpha=oe.xAxis.textAlpha*(1-i),j.fillStyle=oe.yAxis.textColor,j.fillText("100",oe.chart.hPadding,12))}}()),ee.repaint=!1,F.forceUpdate=!1,F.zoomedChart&&F.zoomedChart.repaint())}}function Re(e,t,o,a,n,i,r){n?n(t):$[e]=t,K[e]={ease:i||A.outQuad,from:t,to:o,duration:a,update:n,cb:r}}function Be(e,t,o){if(F.showButtons){var a=t?0:1,n=(O.buttons||{}).color||"#fff",i=o||Z;oe["checkbox"+e].attr("class","undefined"!==typeof x?x.checkbox:"checkbox "+(t?"off":"on")).stylo({backgroundColor:t?"transparent":i[e].color,borderColor:i[e].color}),oe["chk"+e].stylo({transform:"scale("+a+")",opacity:a,fill:n},!0),oe["name"+e].stylo({transform:"translate3d("+8*(a-1)+"px, 0, 0)",color:t?i[e].color:n})}}function Ne(e,t){var o=Z[e];o.off=void 0!==t?t:!o.off,o.off?--F.seriesCount:++F.seriesCount;var a=o.off?1:0,n=o.off?0:1;Be(e,o.off),V.stacked||V.bar||V.percentage||V.pie?(F.isOnOffAnimating=!0,Re("on"+e,a,n,m,0,o.off?A.outQuad:A.inQuad,function(){F.isOnOffAnimating=!1,F.forceUpdate=!0}),$["alphaY"+e]=1):Re("alphaY"+e,a,n,m),F.zoomedChart&&F.zoomedChart.toggleCheckbox(e,t),Le(!1)}function Le(e){var t=V.pie||V.percentage&&F.isZoomed;if(t||e^F.legendIsVisible){if(t&&isNaN(F.segment))return De();if(e){var o,a,n=F.localStart+(F.vLineX-oe.chart.hPadding)/oe.preview.width*(F.localEnd-F.localStart),i=V.bar?ue(n):pe(n),r=oe.preview.width/(F.localEnd-F.localStart),l=V.linear?oe.grid.markerRadius+oe.grid.markerLineWidth:0,s=(oe.main.height-oe.main.vPadding-l)/$.localDY,d=1,h=0;F.showLegendTitle?(oe.xval.innerText=E[c.xAxisType](G[i]),oe.xval.stylo({display:"block"})):oe.xval.stylo({display:"none"}),F.highlightedX=F.vLineX,j.fillStyle=oe.grid.markerFillColor,j.lineWidth=oe.grid.markerLineWidth,j.globalAlpha=1,oe.date.stylo({display:t?"none":"flex"});for(var f=0,p=0;f<Y;f++){var m=Z[f],u=t?m.val:m.data[i];oe["label"+f].stylo({display:m.off||t&&f!==F.segment?"none":"flex",paddingTop:t?0:5}),m.off||(h+=u,V.multi_yaxis&&(s=(oe.main.height-oe.main.vPadding-l)/$["localDY"+f]),oe["labelName"+f].innerText=m.name,oe["labelValue"+f].stylo({color:m.color}).innerText=C(u),(V.percentage||V.pie)&&(a=u/W[i],f===Y-1&&(a=1-p),p+=a,oe["labelPercent"+f].stylo({display:t?"none":"flex"}).innerText=Math.round(100*a)+"%"),V.pie||V.bar||V.percentage||(j.strokeStyle=m.color,j.beginPath(),j.arc(oe.chart.hPadding+(G[i]-F.localStart)*r,oe.xAxis.y-(m.data[i]-$["localMinY"+(V.multi_yaxis?f:"")])*s,oe.grid.markerRadius,0,2*Math.PI),j.stroke(),j.fill()))}V.stacked&&(oe.labelTotal.stylo({display:F.seriesCount>1?"flex":"none"}),oe.labelValueTotal.innerHTML=C(h)),oe.legend.measure(),t?(n=F.pieX+oe.main.width/2,o=F.pieY+oe.main.height/2):(d=F.vLineX<oe.main.width/2?0:1,n=Ie(F.vLineX-oe.grid.legendShift-d*(oe.legend.w-2*oe.grid.legendShift),2,oe.main.width-oe.legend.w-2),o="top"===c.legendPosition?oe.chart.topPadding:"bottom"===c.legendPosition?oe.xAxis.y-oe.legend.h+40:Ie(F.vLineY-oe.legend.h-(_?50:10),oe.chart.topPadding,oe.xAxis.y-oe.legend.h)),oe.legend.stylo({opacity:1,transform:"translate3d("+n+"px, "+o+"px, 0)"},!0),F.legendTimer&&clearTimeout(F.legendTimer),F.legendTimer=setTimeout(De,y)}else De();F.legendIsVisible=e}}function Ye(){oe.canvas.stylo({cursor:"auto"})}function Ge(){X||(De()&&Ce(),ee.draggingArea=0,Ye())}function Ie(e,t,o){return Math.max(t,Math.min(e,o))}function We(){F.zoomedChart&&F.zoomedChart.setProgress(F)}function De(){var e=void 0!==F.vLineX;if(oe.legend)return F.vLineX=void 0,F.highlightedX=-1,oe.legend.stylo({transform:"translate3d(0, -1000px, 0)"}),F.legendTimer&&(clearTimeout(F.legendTimer),F.legendTimer=void 0),e}function Oe(e){e.stopPropagation(),e.preventDefault()}function Fe(e,t){var o;return"object"===("undefined"===typeof e?"undefined":b(e))?o=e:(o=P(e===B?B:B+"-"+e),t=e===B?"chart":e.replace(/[\d]+/g,""),"undefined"!==typeof x&&(t=x[t])),o.on=function(e,t){return e.split(" ").map(function(e){o.addEventListener(e,function(e){var o=e.touches&&e.touches.length?e.touches[0]:e,a=(o.clientX||o.pageX)-oe.box.x,n=(o.clientY||o.pageY)-oe.box.y;t(e,a,n,function(e,t){var o=t-oe.chart.topPadding,a=w.HEADER;if(o>=oe.main.y&&o<oe.xAxis.y)a=w.MAIN;else if(o>=oe.xAxis.y&&o<oe.preview.y)a=w.XAXIS;else if(o>=oe.preview.y){var n=ge(F.localStart),i=ge(F.localEnd);a=e>=n-oe.preview.hitSlop&&e<=n+oe.preview.handleW+oe.preview.hitSlop/2?w.BRUSH_LEFT:e>n+oe.preview.handleW&&e<i-oe.preview.handleW-oe.preview.hitSlop/2?w.BRUSH_CENTER:e>=i-oe.preview.handleW-oe.preview.hitSlop/2&&e<i+oe.preview.hitSlop?w.BRUSH_RIGHT:w.PREVIEW}return a}(a,n),this)})}),o},o.attr=function(e,t){return o.setAttribute(e,t),o},o.append=function(e){var t=document.createElement(e);return Fe(o.appendChild(t),e)},o.measure=function(){var e=o.getBoundingClientRect();return o.x=e.left,o.y=e.top,o.w=e.width,o.h=e.height,o},o.stylo=function(e,t){var a;for(var n in e)a=t?e[n]:e[n]+(isNaN(e[n])?"":"px"),o.style[n]=a,"transform"===n&&(o.style.webkitTransform=a,o.style.mozTransform=a,o.style.oTransform=a,o.style.msTransform=a);return o},o.shake=function(){o.classList.add("shake"),setTimeout(function(){o.classList.remove("shake")},200)},o.line=function(e,t,o,a,n,i,r){isNaN(r)||(j.globalAlpha=r),j.strokeStyle=i,j.lineWidth=n,j.beginPath(),j.moveTo(e,t),j.lineTo(o,a),j.stroke()},o.rect=function(e,t,o,a,n,i,r,l){var s=n||0,d=r?s:0,c=i?s:0;if(j.beginPath(),j.moveTo(e+c,t),j.arcTo(e+o,t,e+o,t+a,d),j.arcTo(e+o,t+a,e,t+a,d),j.arcTo(e,t+a,e,t,c),j.arcTo(e,t,e+o,t,c),l)return j.clip();j.closePath(),j.fill()},o.startLine=function(e,t,o,a){j.globalAlpha=e,j.strokeStyle&&(j.strokeStyle=t),j.fillStyle&&(j.fillStyle=o),j.lineWidth=a,j.beginPath(),j.lineCap="butt",j.lineJoin="bevel"},oe[e===B?"box":e]=o,o.attr("class",t).measure()}function je(e){if(!F.inProgress){F.inProgress=!0;var t=F.localStart+(e-oe.chart.hPadding)/oe.preview.width*(F.localEnd-F.localStart),o=pe(t),a=F.globalStart,n=F.globalEnd,i=F.localStart,r=F.localEnd,l=G[o];if("date"===c.xAxisType&&function(e){var t=new Date(e);t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}(l),F._globalStart=F.globalStart,F._globalEnd=F.globalEnd,F._localStart=F.localStart,F._localEnd=F.localEnd,!c.onZoomIn||V.pie)return V.area?d():void(F.inProgress=!1);c.onZoomIn(G[o]).then(function(e){F.zoomedChart=new s(B,e,ae,oe,j),d(),Ce()},function(e){F.inProgress=!1,ce("Error loading data: "+JSON.stringify(e)+"\n\nx: "+G[o])})}function d(){var e,s,d,h,f,p;if(F.zoomedChart){var m=F.zoomedChart.getAxesData(),g=F.zoomedChart.getProps();p=g.stepX||F.zoomStepX||F.stepX,(f=c.zoomInterval||g.zoomInterval)?(s=(e=t-f/2)+f,h=(d=t)+p):(e=m.X.min,s=m.X.max,d=g.startX||e+Math.floor(m.X.d/2/p)*p,h=d+p)}else p=F.zoomStepX||F.stepX,f=c.zoomInterval||7*p,(d=c.startX||l)+p>=U.max&&(d-=p),h=d+p,e=Ie(l-(f-p)/2,U.min,U.max),(s=Ie(e+f,U.min,U.max))-e&&(e=Ie(s-f,U.min,U.max));Xe(oe.zoomedRange,d,h),F.isZooming=!0,Re("zoomIn",0,1,V.area?2*u:u,function(t){var o=Math.min(1,t),l=1-o;F.progress=t,F.globalStart=a-o*(a-e),F.globalEnd=n-o*(n-s),F.localStart=i-o*(i-d),F.localEnd=r-o*(r-h),oe.title.stylo({opacity:l,transform:"scale("+l+", "+l+")"},!0),oe.zoom.stylo({opacity:o,transform:"scale("+o+", "+o+")"},!0),oe.localRange.stylo({opacity:l,transform:"scale("+l+", "+l+")"},!0),oe.zoomedRange.stylo({opacity:o,transform:"scale("+o+", "+o+")"},!0),We()},V.area?A.outBack:A.outCubic,function(){F.isZooming=!1,F.isZoomed=!0,F.inProgress=!1,F.forceUpdate=!0,Ze(),F.zoomedChart&&F.zoomedChart.wakeUp()}),F.selectedIndex=o,De()}}function He(){F.hidden=!1,F.forceUpdate=!0,Ce()}function Ze(){F.needMeasure=!0}function Ue(){F.needMeasure=!0}function Ve(e,t){if(!F.movingBrush&&(e!==F.localStart||t!==F.localEnd)&&!(e>=t||t<=e)){F.movingBrush=!0;var o=F.localStart,a=F.localEnd;Re("snapX",0,1,v,function(n){F.localStart=Ie(o-n*(o-e),U.min,U.max),F.localEnd=Ie(a-n*(a-t),U.min,U.max),We()},0,function(){F.movingBrush=!1,F.forceUpdate=!0,Xe(oe.zoomedRange)}),We()}}function Qe(e){_||ee.draggingArea||(e===w.BRUSH_LEFT||e===w.BRUSH_RIGHT?oe.canvas.stylo({cursor:"ew-resize"}):e===w.BRUSH_CENTER?oe.canvas.stylo({cursor:"move"}):Ye())}function Je(){ae.isHooked&&(window.removeEventListener("resize",Ze),window.removeEventListener("scroll",Ue),document.removeEventListener("mousemove",Ge),ae.isHooked=!1)}S.push(ae),X&&(D=X.getSeries()),this.updateTheme=ne,this.setTheme=re,this.getDefaultTheme=function(){return a},fe(),this.togglePreview=de,this.repaint=Ce,this.getSeries=function(){return Z},this.getProps=function(){return c},this.getVars=function(){return F},this.getAxesData=function(){return{AX:G,AY:Z,X:U}},this.toggleCheckbox=Ne,this.dismiss=Ge,this.hide=function(){F.hidden=!0},this.setProgress=function(e){M.forEach(function(t){F[t]=e[t]}),F.progress=1-e.progress,Ce()},this.getTheme=function(){return O},this.setProps=function(e){c=Object.assign({},c,e),he(),Ge(),F.forceUpdate=!0,F.needMeasure=!0,oe.title.innerText=c.title||"",Ce()},this.setShowButtons=function(e){F.showButtons=e,se(),ne()},this.setShowMainArea=function(e){F.showMainArea=e,Ze(),Ee(),Ce()},this.setShowBrush=function(e){F.showBrush=e,Ce(),!e&&Ye()},this.setStartX=function(e){F.localStart=Ie(e,F.globalStart,F.globalEnd)},this.setEndX=function(e){F.localEnd=Ie(e,F.globalStart,F.globalEnd)},this.setAutoScale=function(e){F.localMM=void 0,F.globalMM=void 0,F.autoScale=e},this.setShowPreview=function(e){F.showPreview=e,F.zoomedChart&&F.zoomedChart.togglePreview(e),de(e)},this.restart=function(){fe(!0),F.zoomedChart||(le(),se(),ne())},this.wakeUp=He,this.destroy=function(){F.isDestroyed=!0,Je()}}}(),M=["data","type","colors","names"],A=function(e){function t(){var e,o,a;w(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.setRef=function(e){a.el=e},S(a,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["Component"]),_(t,[{key:"componentDidMount",value:function(){this.charty=new T(this.el,this.props)}},{key:"shouldComponentUpdate",value:function(e,t){var o=this;return!this.charty||(this.charty.setProps(e),e.theme!==this.props.theme&&this.charty.setTheme(e.theme),e.showPreview!==this.props.showPreview&&this.charty.setShowPreview(e.showPreview),e.showButtons!==this.props.showButtons&&this.charty.setShowButtons(e.showButtons),e.showMainArea!==this.props.showMainArea&&this.charty.setShowMainArea(e.showMainArea),e.startX!==this.props.startX&&this.charty.setStartX(e.startX),e.endX!==this.props.endX&&this.charty.setEndX(e.endX),e.autoScale!==this.props.autoScale&&this.charty.setAutoScale(e.autoScale),M.findIndex(function(t){return o.props[t]!==e[t]})>=0&&this.charty.restart(),!1)}},{key:"componentWillUnmount",value:function(){this.charty&&(this.charty.destroy(),this.charty=void 0)}},{key:"render",value:function(){return g.a.createElement("div",{ref:this.setRef,style:this.props.style})}}]),t}();A.propTypes={type:y.a.string,title:y.a.string,theme:y.a.object,animated:y.a.bool,showLegend:y.a.bool,showLegendTitle:y.a.bool,showButtons:y.a.bool,showMainArea:y.a.bool,showBrush:y.a.bool,showPreview:y.a.bool,showRangeText:y.a.bool,rangeTextType:y.a.string,xAxisType:y.a.string,yAxisType:y.a.string,xAxisStep:y.a.number,legendPosition:y.a.string,data:y.a.object,names:y.a.object,colors:y.a.object,stepX:y.a.number,startX:y.a.number,endX:y.a.number,onZoomIn:y.a.func,zoomInterval:y.a.number,zoomStepX:y.a.number,autoScale:y.a.bool,minY:y.a.number,maxY:y.a.number};var E=A,C=[{name:"dark",grid:{color:"#fff",alpha:.1,markerFillColor:"#242f3e"},legend:{background:"#1c2533",color:"#fff"},preview:{maskColor:"#304259",maskAlpha:.6,brushColor:"#56626D",brushBorderAlpha:0,handleColor:"#fff"},xAxis:{textColor:"#A3B1C2",textAlpha:.6},yAxis:{textColor:"#A3B1C2",textAlpha:.6},title:{color:"#fff"},localRange:{color:"#fff"},zoomedRange:{color:"#fff"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"},body:{backgroundColor:"#262f3d",color:"#fff"},noteColor:"#108BE3",octoColor:"#fff"},{name:"matrix",grid:{color:"#00ff41",alpha:.2,markerFillColor:"#0d0208"},legend:{background:"#003b00",color:"#00ff41"},preview:{maskColor:"#003b00",maskAlpha:.6,brushColor:"#009f11",brushBorderAlpha:0,handleColor:"#00ff41"},xAxis:{textColor:"#00ff41",textAlpha:.6},yAxis:{textColor:"#00ff41",textAlpha:.6},title:{color:"#008f11"},localRange:{color:"#008f11"},zoomedRange:{color:"#008f11"},zoomText:{color:"#008f11"},zoomIcon:{fill:"#008f11"},buttons:{color:"#0d0208"},pie:{textColor:"#0d0208"},colors:{Joined:"#00ff41",Left:"#008f11",Views:"#00ff41",Shares:"#008f11",Clicks:"#008f11",Kiwi:"#00ff41",Apricots:"#008f11",Lemons:"#005b00",Mango:"#7ec251",Oranges:"#145105",Pears:"#66e82f",Apples:"#0acb3b",Adventure:"#03c835",Western:"#008f11",Action:"#00ff41","Multiple Genres":"#66e82f",Drama:"#0acb3b",Comedy:"#008f11","Thriller/Suspense":"#005b00","Concert/Performance":"#7ec251",Horror:"#145105","Romantic Comedy":"#12842f",Musical:"#079d2e"},fillColors:{Joined:"#00ff4177",Left:"#00000000"},body:{backgroundColor:"#0d0208",color:"#00ff41"},noteColor:"#008f11",octoColor:"#00ff41"},{name:"light",grid:{color:"#182D3B",alpha:.1,markerFillColor:"#fff"},legend:{background:"#fff",color:"#000"},preview:{maskColor:"#E2EEF9",maskAlpha:.6,brushColor:"#C0D1E1",brushBorderColor:"#fff",brushBorderAlpha:1,handleColor:"#fff"},xAxis:{textColor:"#8E8E93",textAlpha:1},yAxis:{textColor:"#8E8E93",textAlpha:1},title:{color:"#000"},localRange:{color:"#000"},zoomedRange:{color:"#000"},zoomText:{color:"#108BE3"},zoomIcon:{fill:"#108BE3"},buttons:{color:"#fff"},pie:{textColor:"#fff"},body:{backgroundColor:"#fff",color:"#000"},noteColor:"#108BE3",octoColor:"#fff"}],X=void 0!==window.orientation,k={type:"pie",data:{x:[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],y0:[418894996,375827476,405950482,350025489,412599414,356749803,334756601,363440937,480825172,299653307,323532944],y10:[2829762,22654,11748762,10677132,13353944,17940856,284339,3501919,17013981,6864560,3667257],y1:[228907497,272137386,228669559,267026649,278874194,297981308,318724501,349637236,285649087,368643283,447980568],y12:[70848,85951,148783,190518,238718,263510,628663,286179,330890,514394,525514],y2:[151729266,244595555,213973344,187934565,209883469,164612977,201036506,245573737,157334842,147887868,176581251],y3:[292402573,191387857,174406757,188043157,131991738,199227435,155477200,153408009,162978825,87443925,94998758],y4:[106796214,128751724,116501895,117123096,186711044,138499493,118634566,129240950,82084039,77766071,67312441],y11:[10533274,2660484,396482,12035978,3561192,7980550,385326,136417,3145782,332699,298642],y5:[42770147,77957339,67327194,50987e3,44842994,57311383,31198061,44403863,56039563,115877974,98962594],y6:[46079258,85649416,65577463,72861475,42739101,24261722,32398230,8790834,15862326,9586948,26458555],y7:[36236267,5244119,22114278,10679542,27725964,43935184,30866923,8178513,28773877,99237710,45842523],y8:[12177214,24992506,11895704,10392818,16624104,6064807,10774221,7720431,5870460,5006181,11765171]},names:{y0:"Adventure",y1:"Action",y2:"Drama",y3:"Comedy",y4:"Thriller/Suspense",y5:"Horror",y6:"Romantic Comedy",y7:"Musical",y8:"Documentary",y10:"Western",y11:"Concert/Performance",y12:"Multiple Genres"},colors:{y0:"#2373DB",y1:"#EC2049",y2:"#F26B38",y3:"#F7DB4F",y4:"#A7226E",y5:"#474747",y6:"#FC9D9A",y7:"#FF4E50",y8:"#5FB641",y10:"#FC913A",y11:"#C8C8A9",y12:"#2F9599"}},P=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(f.a)(this,Object(p.a)(t).call(this,e))).setTheme=function(e){var t=C[e];document.body.style.backgroundColor=t.body.backgroundColor,document.body.style.color=t.body.color,document.querySelectorAll(".note").forEach(function(e){e.style.color=t.noteColor}),document.getElementById("octo").style.fill=t.octoColor},o.switchTheme=function(){var e=o.state.themeIdx;++e===C.length&&(e=0),o.setState({themeIdx:e}),o.setTheme(e)},o.onZoomIn=function(){var e=Object(d.a)(s.a.mark(function e(t,o){var a,n,i,r,l,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date(o),n=""+(a.getMonth()+1),i=""+a.getDate(),r=a.getFullYear(),n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),l="data/"+t+"/"+r+"-"+n+"/"+i+".json",e.next=6,fetch(l);case 6:return d=e.sent,e.abrupt("return",d.json());case 8:case"end":return e.stop()}},e)}));return function(t,o){return e.apply(this,arguments)}}(),o.state={isLoaded:!1,themeIdx:0,data:[]},o}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(s.a.mark(function e(){var t,o,a,n,i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[1,2,3,4,5].map(function(e){return fetch("data/".concat(e,"/overview.json"))}),e.next=3,Promise.all(t);case 3:return o=e.sent,e.next=6,Promise.all(o.map(function(e){return e.json()}));case 6:a=e.sent,this.setState({isLoaded:!0,data:a}),n=window.location.hash.substr(1),i=C.findIndex(function(e){return e.name===n}),r=Math.max(0,i),this.setState({themeIdx:r}),this.setTheme(r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return null;var t=X?"100%":"50%",o=C[this.state.themeIdx],a=this.state.data,i={width:t,marginTop:20};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"note",onClick:this.switchTheme},"Switch theme"),n.a.createElement("h4",{className:"note"},"(click on the ",X?"legend":"chart"," to zoom in)"),n.a.createElement("div",{className:"container"},n.a.createElement(E,Object.assign({title:"Followers",theme:o,style:i},a[0],{onZoomIn:function(t){return e.onZoomIn(1,t)}})),n.a.createElement(E,Object.assign({title:"Fruits",theme:o,style:i},a[4])),n.a.createElement(E,Object.assign({title:"Interactions",theme:o,style:i},a[1],{onZoomIn:function(t){return e.onZoomIn(2,t)}})),n.a.createElement(E,Object.assign({title:"Messages",theme:o,style:i},a[2],{onZoomIn:function(t){return e.onZoomIn(3,t)}})),n.a.createElement(E,Object.assign({title:"Views",theme:o,style:i},a[3],{onZoomIn:function(t){return e.onZoomIn(4,t)}})),n.a.createElement(E,Object.assign({title:"Box Office Ticket Sales",theme:o,style:i},k,{stepX:1,startX:2017,endX:2018}))),n.a.createElement("h3",{className:"bottom note",onClick:this.switchTheme},"Switch theme"))}}]),t}(a.Component);r.a.render(n.a.createElement(P,null),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.28d0baad.chunk.js.map