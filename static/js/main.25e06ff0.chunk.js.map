{"version":3,"sources":["../../dist/index.es.js","App.js","index.js"],"names":["styles","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","_typeof","Symbol","iterator","obj","constructor","prototype","instance","Constructor","TypeError","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","self","call","ReferenceError","Charty","CHARTY","CTRLS","LEGEND","DEFAULT_THEME","grid","color","alpha","markerFillColor","legend","background","preview","maskColor","maskAlpha","brushColor","brushBorderColor","brushBorderAlpha","handleColor","xAxis","textColor","textAlpha","yAxis","title","localRange","zoomedRange","zoomText","zoomIcon","fill","buttons","pie","PI_RAD","Math","PI","FONT","WDAYS","LONG_WDAYS","MONTHS","DPR","window","devicePixelRatio","LONG_TAP_DURATION","ANIMATE_DURATION","ON_OFF_DURATION","ZOOM_IN_DURATION","ZOOM_OUT_DURATION","SNAP_DURATION","LEGEND_TIMER","AREA","HEADER","MAIN","XAXIS","PREVIEW","BRUSH_CENTER","BRUSH_LEFT","BRUSH_RIGHT","IS_MOBILE","undefined","orientation","CHARTS","PIE_VISIBLE","SHARED_PROPS","EASE","inQuad","t","b","c","d","outQuad","inCubic","outCubic","outSine","sin","outBack","s","DATA_TYPES","time","v","Date","h","getHours","m","getMinutes","unixToTime","date","unixToD","shortDate","longDate","unixToDate","longDateWeekDay","float1","parseFloat","toFixed","float2","number","format","round","n","toString","replace","_d","getDate","getMonth","getFullYear","full","longWdays","getDay","byId","id","getElementById","initSTree","a","tl","al","p","floor","log","pow","Array","getRightChildIdx","idx","getLeftChildIdx","buildSTree","T","cmp","buildSTree_","leftIdx","rightIdx","middleIdx","isNaN","querySTree","len","fail","querySTree_","qLeftIdx","qRightIdx","ID_","parent","UI_","ctx_","ID","AYL","AX","AXL","TOTALS","parentSeries","currentTheme","V","progress","needMeasure","yPos","ctx","IDs","AY","X","TYPES","PERCENTS","STREE_MIN","STREE_MAX","animations","A","STATE","myIdx","UI","chart","topPadding","hPadding","height","segmentShift","vPadding","radius","lineWidth","handleW","handleTick","minBrushSize","hitSlop","legendShift","markerRadius","markerLineWidth","textWidth","fadeTime","textCount","main","this","updateTheme","theme_","theme","stylo","updateColors","S","colors","name","_color","fillColor","fillColors","_fillColor","map","series","updateCheckbox","off","zoomedChart","getSeries","stepGridX","stepGridY","repaint","parse","_IDs","_","tag","y","k","join","indexOf","push","setTheme","getTheme","renderLegend","innerHTML","flerken","renderCtrls","showButtons","ctrls","on","e","stop","tapStarted","now","tapTimer","clearTimeout","setTimeout","toggleCheckbox","seriesCount","prevSeriesCount","el","shake","togglePreview","on_","showPreview","animate","transform","error","msg","updateVars","showLegend","showRangeText","showLegendTitle","stepX","zoomStepX","autoScale","start","restart","data","previewA","x","forEach","keys","names","min","max","localMM","globalMM","linear","line","multi_yaxis","percentage","localStart","startX","localEnd","endX","globalStart","globalEnd","innerText","canvas","getContext","isHooked","unhookEvents","addEventListener","dismiss","resize","scroll","vLineX","zoomIn","area","cl","vLineY","pieX","pieY","isZoomed","legendIsVisible","updateZoomedChart","width","hideLegend","draggingArea","updateCursor","newLocalStart","newLocalEnd","deltaX","deltaStepX","getProps","applyRange","xToVal","abs","ceil","moveBrush","deltaDragX","zoom","currentGlobalStart","currentGlobalEnd","currentLocalStart","currentLocalEnd","isZooming","v_","_globalStart","_globalEnd","_localStart","_localEnd","opacity","updateRangeText","forceUpdate","destroy","wakeUp","zoomOut","valToX","xVal","dxStart","dxEnd","measureUI","render","xToIdx","xToIdxUp","xToIdxDown","renderHandle","rect","renderPreview","minH","minHeight","w","clearRect","save","globalAlpha","renderSeries","fillStyle","fillRect","restore","hw","end","strokeStyle","bar","strokeRect","renderBrush","renderXText","prevStep","scaleX","u","prevStepGridX","xAxisType","Function","fillText","renderYText","scaleY","localMin","localMax","localD","minLocalD","lowerMin","y_","val","a0","a1","yAxisType","measureText","buildColorStyle","gradient","createLinearGradient","addColorStop","renderPieLegend","R","masterA","percent","fontSize","r","text","font","ts","cos","angle","dx","dy","renderPie","startIdx","endIdx","R_","segment","values","totals","translate","sectorR","sqrt","sectorA","atan2","z","startA","dr","beginPath","moveTo","arc","vStart","vEnd","offsetY","offsetX","isPreview","startIdx_","selectedIdx","selectX","selectY","selectH","barWidth","STACK","stacked","highlightedX","stack","renderBars","_p","_height","filled","selectedIndex","sector","centered","da","rotate","startLine","tan","lineTo","renderArea","stroke","renderLinear","renderMain","toggleLegend","renderGrid","ww","innerWidth","wh","innerHeight","pageYOffset","box","measure","prevW","prevH","attr","scale","_start","_end","rangeText","zoomedProps","rangeTextType","startStr","endStr","minMax","Infinity","x1","x2","compare","maxY","minY","recalcMinMax","prevMM","MM","movingBrush","isDestroyed","completed","started","animated","update","to","cb","ease","from","duration","doAnimations","requestAnimationFrame","localRangeChanged","prevLocalStart","prevLocalEnd","prevGlobalStart","prevGlobalEnd","seriesCountChanged","isOnOffAnimating","recalcTotals","hidden","xAxisStep","prevStepGridY","renderAxis","series_","buttonColor","backgroundColor","borderColor","pieMode","localDY","side","sum","xval","display","pp","paddingTop","labelTotal","labelValueTotal","legendPosition","legendTimer","resetCursor","cursor","setProgress","stopPropagation","preventDefault","o","className","evt","split","touch","touches","clientX","pageX","clientY","pageY","whereAmI","value","setAttribute","append","getBoundingClientRect","left","top","raw","classList","add","remove","y1","y2","right","clip","rightR","leftR","arcTo","closePath","lw","lineCap","lineJoin","inProgress","selectedX","setHours","setMinutes","setSeconds","setMilliseconds","getTime","roundDate","onZoomIn","doZoom","then","err","JSON","stringify","newGlobalStart","newGlobalEnd","zoomInterval","getAxesData","zoomProps","p_","removeEventListener","getDefaultTheme","getVars","hide","V_","prop","setProps","props_","assign","setShowButtons","setStartX","setEndX","setAutoScale","setShowPreview","RESTARTING_PROPS","Charty$1","_Component","Charty$$1","_ref","_temp","_this","_len","arguments","args","_key","__proto__","getPrototypeOf","apply","concat","setRef","subClass","superClass","create","setPrototypeOf","charty","nextProps","nextState","_this2","findIndex","propTypes","string","object","bool","func","THEMES","body","noteColor","octoColor","BOX_OFFICE_DATA","y0","y10","y12","y3","y4","y11","y5","y6","y7","y8","App","themeIdx","querySelectorAll","switchTheme","state","setState","month","day","year","file","fetch","response","json","isLoaded","dataFiles","Promise","all","results","themeName","location","hash","substr","marginTop","Fragment","onClick","Component","ReactDOM"],"mappings":"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","file":"static/js/main.25e06ff0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \"/*\\n *  Copyright (c) 2019-present, Aleksandr Telegin\\n *\\n * This source code is licensed under the MIT license.\\n */\\n\\n.styles_chart__3TN3X {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.styles_chart__3TN3X .styles_header__3PFGX{\\n  height: 50px;\\n  position: relative;\\n}\\n.styles_chart__3TN3X .styles_title__1cca0 {\\n  font-size: 16px;\\n  margin: 15px 0 0 20px;\\n  position: absolute;\\n  transform-origin: top left;\\n  -webkit-transform-origin: bottom left;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD {\\n  opacity: 0;\\n  position: absolute;\\n  transform-origin: bottom left;\\n  -webkit-transform-origin: bottom left;\\n  margin: 15px 0 0 20px;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD svg {\\n  width: 16px;\\n  height: 16px;\\n  display: inline-block;\\n  position: relative;\\n  margin: 0 4px 0 0;\\n  top: 5px;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD svg path {\\n  fill: #108BE3;\\n}\\n.styles_chart__3TN3X .styles_date__3jLQg {\\n  position: relative;\\n  display: flex;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_date__3jLQg a {\\n  position: absolute;\\n  right: 0;\\n}\\n.styles_chart__3TN3X .styles_zoomText__OFj8g {\\n  font-weight: normal;\\n  font-size: 16px;\\n  color: #108BE3;\\n  padding: 0 0 20px;\\n}\\n.styles_chart__3TN3X .styles_localRange__3BkLX {\\n  font-size: 12px;\\n  top: 0;\\n  padding: 17px 20px 0 0;\\n  margin: 0;\\n  right: 0;\\n  transform-origin: top right;\\n  -webkit-transform-origin: bottom left;\\n  position: absolute;\\n}\\n.styles_chart__3TN3X .styles_zoomedRange__2Eoyo {\\n  font-size: 12px;\\n  top: 0;\\n  padding: 17px 20px 0 0;\\n  margin: 0;\\n  right: 0;\\n  position: absolute;\\n  opacity: 0;\\n  transform-origin: bottom right;\\n  -webkit-transform-origin: bottom left;\\n}\\n.styles_chart__3TN3X .styles_ctrls__1QGXt {\\n  padding: 0 6px;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  transition: transform .3s ease;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb {\\n  margin: 10px 0 0 10px;\\n  padding: 9px 12px 9px 30px;\\n  cursor: pointer;\\n  position: relative;\\n  border-radius: 7px;\\n  border-width: 1px;\\n  border-style: solid;\\n  font-size: 14px;\\n  min-width: auto;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb.styles_shake__cxUqQ {\\n  -webkit-animation: styles_shake__cxUqQ .3s ease alternate;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb svg {\\n  width: 14px;\\n  height: 14px;\\n  position: absolute;\\n  left: 10px;\\n  bottom: 10px;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_name__13yyl {\\n  font-weight: normal;\\n  display: inline-block;\\n  transition: transform .15s ease, opacity .15s ease;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG {\\n  position: absolute;\\n  padding: 8px 10px;\\n  border-radius: 10px;\\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.4);\\n  white-space: nowrap;\\n  max-width: 300px;\\n  z-index: 9999;\\n  transform: translate3d(0, -200px, 0);\\n  -webkit-transform-origin: bottom left;\\n  top: 0;\\n  font-size: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 155px;\\n  opacity: 0;\\n  transition: opacity .3s ease;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 200px;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_xval__2fECb {\\n  font-weight: bold;\\n  margin: 0 22px 5px 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_label__1nh3o, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: row;\\n  padding: 5px 0 0 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\\n  display: none;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelPercent__3drGS {\\n  display: none;\\n  font-weight: bold;\\n  font-size: 12px;\\n  text-align: right;\\n  min-width: 30px;\\n  padding: 0 10px 0 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelName__2M57m, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelNameTotal__3VUst {\\n  font-size: 12px;\\n  padding: 0 10px 0 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValue__3m_Aj, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValueTotal__1ihZO {\\n  font-weight: bold;\\n  font-size: 12px;\\n  flex: 1;\\n  text-align: right;\\n}\\n\";\nvar styles = {\n  \"chart\": \"styles_chart__3TN3X\",\n  \"header\": \"styles_header__3PFGX\",\n  \"title\": \"styles_title__1cca0\",\n  \"zoom\": \"styles_zoom__1MrWD\",\n  \"date\": \"styles_date__3jLQg\",\n  \"zoomText\": \"styles_zoomText__OFj8g\",\n  \"localRange\": \"styles_localRange__3BkLX\",\n  \"zoomedRange\": \"styles_zoomedRange__2Eoyo\",\n  \"ctrls\": \"styles_ctrls__1QGXt\",\n  \"checkbox\": \"styles_checkbox__n3Wwb\",\n  \"shake\": \"styles_shake__cxUqQ\",\n  \"name\": \"styles_name__13yyl\",\n  \"legend\": \"styles_legend__1RMVG\",\n  \"xval\": \"styles_xval__2fECb\",\n  \"label\": \"styles_label__1nh3o\",\n  \"labelTotal\": \"styles_labelTotal__17ztL\",\n  \"labelPercent\": \"styles_labelPercent__3drGS\",\n  \"labelName\": \"styles_labelName__2M57m\",\n  \"labelNameTotal\": \"styles_labelNameTotal__3VUst\",\n  \"labelValue\": \"styles_labelValue__3m_Aj\",\n  \"labelValueTotal\": \"styles_labelValueTotal__1ihZO\"\n};\nstyleInject(css);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n\nvar Charty = function () {\n  var CHARTY = '<div id=|header>\\\n      <h3 id=|title></h3>\\\n      <h3 id=|zoom>\\\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\\n          <path id=|zoomIcon d=\"M13 10h-8v-2h8v2zm8.172 14l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z\"/>\\\n        </svg>\\\n        <span id=|zoomText>Zoom Out</span>\\\n      </h3>\\\n      <h4 id=|localRange></h4>\\\n      <h4 id=|zoomedRange></h4>\\\n    </div>\\\n    <canvas id=|canvas></canvas>\\\n    <div id=|ctrls></div>\\\n    <div id=|legend></div>',\n      CTRLS = '[<label id=|checkbox{i} style=\"background: {color}; border-color: {color}\">\\\n        <span id=|name{i} style=\"color:#fff\">{name}</span>\\\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\\n          <path id=|chk{i} d=\"m9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z\"/>\\\n        </svg>\\\n      </label>]',\n      LEGEND = '<div id=|date><span id=|xval></span></div>\\\n      [<div id=|label{i}>\\\n        <div id=|labelPercent{i}></div>\\\n        <div id=|labelName{i}></div>\\\n        <div id=|labelValue{i} style=\"color:{color}\"></div>\\\n      </div>]\\\n      <div id=|labelTotal>\\\n        <div id=|labelNameTotal>All</div>\\\n        <div id=|labelValueTotal></div>\\\n      </div>',\n      DEFAULT_THEME = {\n    grid: {\n      color: '#182D3B',\n      alpha: 0.1,\n      markerFillColor: '#fff'\n    },\n    legend: {\n      background: '#fff',\n      color: '#000'\n    },\n    preview: {\n      maskColor: '#E2EEF9',\n      maskAlpha: 0.6,\n      brushColor: '#C0D1E1',\n      brushBorderColor: '#fff',\n      brushBorderAlpha: 1,\n      handleColor: '#fff'\n    },\n    xAxis: {\n      textColor: '#8E8E93',\n      textAlpha: 1\n    },\n    yAxis: {\n      textColor: '#8E8E93',\n      textAlpha: 1\n    },\n    title: {\n      color: '#000'\n    },\n    localRange: {\n      color: '#000'\n    },\n    zoomedRange: {\n      color: '#000'\n    },\n    zoomText: {\n      color: '#108BE3'\n    },\n    zoomIcon: {\n      fill: '#108BE3'\n    },\n    buttons: {\n      color: '#fff'\n    },\n    pie: {\n      textColor: '#fff'\n    }\n  },\n      PI_RAD = Math.PI / 180,\n      FONT = 'BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n      WDAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n      LONG_WDAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      DPR = window.devicePixelRatio,\n      LONG_TAP_DURATION = 700,\n      ANIMATE_DURATION = 220,\n      ON_OFF_DURATION = 150,\n      ZOOM_IN_DURATION = 300,\n      ZOOM_OUT_DURATION = 300,\n      SNAP_DURATION = 200,\n      LEGEND_TIMER = 10000,\n      AREA = {\n    HEADER: 1,\n    MAIN: 2,\n    XAXIS: 3,\n    PREVIEW: 4,\n    BRUSH_CENTER: 5,\n    BRUSH_LEFT: 6,\n    BRUSH_RIGHT: 7\n  },\n      IS_MOBILE = window.orientation !== undefined,\n      CHARTS = [],\n      PIE_VISIBLE = 0.99,\n      SHARED_PROPS = ['globalStart', 'globalEnd', 'localStart', 'localEnd', 'vLineX', 'vLineY', 'legendIsVisible', 'isZoomed', 'isZooming'],\n      EASE = {\n    inQuad: function inQuad(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    outQuad: function outQuad(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    inCubic: function inCubic(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    outCubic: function outCubic(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    outSine: function outSine(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    outBack: function outBack(t, b, c, d, s) {\n      if (!s) s = 1.5;\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    }\n  },\n      DATA_TYPES = {\n    time: function time(v) {\n      return unixToTime(v);\n    },\n    date: function date(v) {\n      return unixToD(v);\n    },\n    shortDate: function shortDate(v) {\n      return unixToD(v);\n    },\n    longDate: function longDate(v) {\n      return unixToDate(v);\n    },\n    longDateWeekDay: function longDateWeekDay(v) {\n      return unixToD(v, true, true);\n    },\n    float1: function float1(v) {\n      return parseFloat(v).toFixed(1);\n    },\n    float2: function float2(v) {\n      return parseFloat(v).toFixed(2);\n    },\n    number: function number(v) {\n      return format(v);\n    },\n    undefined: function undefined(v) {\n      return Math.round(v);\n    }\n  };\n\n  function roundDate(ts) {\n    var d = new Date(ts);\n    d.setHours(0);\n    d.setMinutes(0);\n    d.setSeconds(0);\n    d.setMilliseconds(0);\n    return d.getTime();\n  }\n\n  function format(n) {\n    if (n === undefined) return '';\n    return Math.round(n).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n  }\n\n  function unixToDate(time, _d) {\n    var d = _d || new Date(time);\n    return d.getDate() + ' ' + MONTHS[d.getMonth()] + ' ' + d.getFullYear();\n  }\n\n  function unixToD(time, full, longWdays) {\n    var d = new Date(time);\n    if (full) return (longWdays ? LONG_WDAYS[d.getDay()] : WDAYS[d.getDay()]) + ', ' + unixToDate(0, d);\n    return MONTHS[d.getMonth()] + ' ' + d.getDate();\n  }\n\n  function unixToTime(time) {\n    var d = new Date(time),\n        h = '' + d.getHours(),\n        m = '' + d.getMinutes();\n    if (h.length < 2) h = '0' + h;\n    if (m.length < 2) m = '0' + m;\n    return h + ':' + m;\n  }\n\n  function byId(id) {\n    return document.getElementById(id);\n  }\n\n  function initSTree(a) {\n    var al = a.length,\n        tl;\n    if ((al & al - 1) === 0) tl = 2 * al - 1;else {\n      var p = Math.floor(Math.log(al) / Math.log(2)),\n          power = Math.pow(2, p + 1);\n      tl = 2 * power - 1;\n    }\n    return new Array(tl);\n  }\n\n  function getRightChildIdx(idx) {\n    return 2 * idx + 2;\n  }\n\n  function getLeftChildIdx(idx) {\n    return 2 * idx + 1;\n  }\n\n  function buildSTree_(T, a, leftIdx, rightIdx, p, cmp) {\n    if (leftIdx === rightIdx) {\n      var v = a[leftIdx];\n      T[p] = isNaN(v) ? 0 : v;\n      return;\n    }\n\n    var middleIdx = Math.floor((leftIdx + rightIdx) / 2);\n    buildSTree_(T, a, leftIdx, middleIdx, getLeftChildIdx(p), cmp);\n    buildSTree_(T, a, middleIdx + 1, rightIdx, getRightChildIdx(p), cmp);\n    T[p] = cmp(T[getLeftChildIdx(p)], T[getRightChildIdx(p)]);\n  }\n\n  function buildSTree(T, a, cmp) {\n    buildSTree_(T, a, 0, a.length - 1, 0, cmp);\n  }\n\n  function querySTree_(T, qLeftIdx, qRightIdx, leftIdx, rightIdx, p, cmp, fail) {\n    if (qLeftIdx <= leftIdx && qRightIdx >= rightIdx) return T[p];\n    if (qLeftIdx > rightIdx || qRightIdx < leftIdx) return fail;\n    var middleIdx = Math.floor((leftIdx + rightIdx) / 2),\n        leftResult = querySTree_(T, qLeftIdx, qRightIdx, leftIdx, middleIdx, getLeftChildIdx(p), cmp, fail),\n        rightResult = querySTree_(T, qLeftIdx, qRightIdx, middleIdx + 1, rightIdx, getRightChildIdx(p), cmp, fail);\n    return cmp(leftResult, rightResult);\n  }\n\n  function querySTree(T, len, leftIdx, rightIdx, cmp, fail) {\n    return querySTree_(T, leftIdx, rightIdx, 0, len - 1, 0, cmp, fail);\n  }\n\n  function Charty(ID_, props, parent, UI_, ctx_) {\n    var ID = (typeof ID_ === 'undefined' ? 'undefined' : _typeof(ID_)) === 'object' ? ID_.id : ID_;\n    if (!ID) ID = ID_.id = 'charty-' + CHARTS.length;\n    var V = {\n      progress: 0,\n      needMeasure: true,\n      yPos: []\n    },\n        ctx = ctx_,\n        IDs = [],\n        AY = [],\n        AYL,\n        AX,\n        AXL,\n        X = {},\n        TYPES = {},\n        TOTALS,\n        PERCENTS = [],\n        STREE_MIN = [],\n        STREE_MAX = [],\n        animations = {},\n        A = {},\n        STATE = {},\n        myIdx = CHARTS.length,\n        parentSeries,\n        currentTheme,\n        UI = UI_ || {\n      chart: {\n        topPadding: 50,\n        hPadding: 15,\n        height: 400\n      },\n      pie: {\n        segmentShift: 5\n      },\n      preview: {\n        height: 46,\n        vPadding: 1,\n        radius: 8,\n        lineWidth: 1,\n        handleW: 9,\n        handleTick: 10,\n        minBrushSize: 10,\n        hitSlop: 10\n      },\n      grid: {\n        lineWidth: 1,\n        legendShift: -10,\n        markerRadius: 3,\n        markerLineWidth: 4\n      },\n      xAxis: {\n        textWidth: 80,\n        height: 32,\n        fadeTime: 250\n      },\n      yAxis: {\n        textCount: 5,\n        fadeTime: 500\n      },\n      main: {\n        lineWidth: 2,\n        vPadding: 15\n      }\n    },\n        self = this;\n    CHARTS.push(self);\n    if (parent) parentSeries = parent.getSeries();\n\n    function updateTheme(theme_) {\n      var theme = currentTheme || theme_;\n\n      for (var id in theme) {\n        if (UI[id]) {\n          if (UI[id].stylo) UI[id].stylo(theme[id]);else for (var key in theme[id]) {\n            UI[id][key] = theme[id][key];\n          }\n        }\n      }\n\n      function updateColors(S) {\n        S.color = theme.colors && theme.colors[S.name] ? theme.colors[S.name] : S._color;\n        S.fillColor = theme.fillColors && theme.fillColors[S.name] ? theme.fillColors[S.name] : S._fillColor;\n      }\n\n      AY.map(function (S, i, series) {\n        updateColors(S);\n        updateCheckbox(i, S.off, series);\n      });\n      if (V.zoomedChart) V.zoomedChart.getSeries().map(function (S) {\n        updateColors(S);\n      });\n      V.stepGridX = undefined;\n      V.stepGridY = undefined;\n      repaint();\n    }\n\n    this.updateTheme = updateTheme;\n    this.setTheme = setTheme;\n\n    this.getDefaultTheme = function () {\n      return DEFAULT_THEME;\n    };\n\n    start();\n\n    function parse(T, _IDs) {\n      if (_IDs) IDs = _IDs;\n      return T.replace(/\\[([^\\]]+)\\]/g, function (_, tag) {\n        return AY.map(function (y, i) {\n          return tag.replace(/\\{(\\w+)\\}/g, function (_, k) {\n            return k === 'i' ? i : y[k];\n          });\n        }).join('');\n      }).replace(/\\|([^\\s>]+)/g, function (_, id) {\n        if (IDs.indexOf(id) < 0) IDs.push(id);\n        return ID + '-' + id;\n      });\n    }\n\n    function setTheme(theme_) {\n      if (theme_) {\n        currentTheme = theme_;\n\n        if (V.zoomedChart) {\n          V.zoomedChart.setTheme(theme_);\n          V.zoomedChart.updateTheme();\n        }\n\n        return updateTheme();\n      }\n\n      if (parent) currentTheme = parent.getTheme();else if (!currentTheme) currentTheme = props.theme || DEFAULT_THEME;\n    }\n\n    function renderLegend() {\n      UI.legend.innerHTML = parse(LEGEND, []);\n      IDs.map(flerken);\n    }\n\n    function renderCtrls() {\n      if (!V.showButtons) UI.ctrls.innerHTML = '';else {\n        UI.ctrls.innerHTML = parse(CTRLS, []);\n        IDs.map(flerken);\n        AY.map(function (S, i) {\n          UI['checkbox' + i].on('mousedown touchstart', function (e) {\n            stop(e);\n            V.tapStarted = Date.now();\n            if (V.tapTimer) clearTimeout(V.tapTimer);\n            V.tapTimer = setTimeout(function () {\n              V.tapTimer = 0;\n\n              for (var idx = 0; idx < AYL; idx++) {\n                var s = AY[idx];\n                if (!s.off && idx !== i || s.off && idx === i) toggleCheckbox(idx, idx !== i);\n              }\n\n              V.seriesCount = 1;\n              V.prevSeriesCount = 0;\n            }, LONG_TAP_DURATION);\n          }).on('mouseup touchend', function (e, a, b, c, el) {\n            stop(e);\n            if (!V.tapTimer) return;\n            clearTimeout(V.tapTimer);\n            V.tapTimer = 0;\n\n            for (var idx = 0; idx < AYL; idx++) {\n              if (idx !== i && !AY[idx].off) return toggleCheckbox(i);\n            }\n\n            el.shake();\n          });\n          updateCheckbox(i, S.off);\n        });\n      }\n    }\n\n    function togglePreview(on_) {\n      var off = on_ !== undefined ? !on_ : !V.showPreview;\n      animate('previewA', off ? 1 : 0, off ? 0 : 1, 2 * ON_OFF_DURATION);\n      var d = on_ ? 0 : UI.preview.height + 10;\n      UI.ctrls.stylo({\n        transform: 'translate3d(0, -' + d + 'px, 0)'\n      });\n      V.showPreview = !off;\n    }\n\n    this.togglePreview = togglePreview;\n\n    function restorePreview(on) {\n      self.togglePreview(on);\n    }\n\n    function error(msg) {\n      throw msg;\n    }\n\n    function updateVars() {\n      V.showLegend = props.showLegend !== false;\n      V.showButtons = props.showButtons !== false && AYL > 1;\n      V.showPreview = props.showPreview !== false;\n      V.showRangeText = props.showRangeText !== false;\n      V.showLegendTitle = props.showLegendTitle !== false;\n      V.stepX = props.stepX || 1;\n      V.zoomStepX = props.zoomStepX || 1;\n      V.autoScale = props.autoScale !== false;\n    }\n\n    function start(restart) {\n      var data = props.data;\n      AY = [];\n      X = {};\n      TYPES = {};\n      IDs = [ID];\n      A = {\n        previewA: V.showPreview ? 1 : 0\n      };\n      if (!data) return error('The data parameter is missing.');\n      if (!data.x || !(data.x instanceof Array)) return error('The x-axis data is missing.');\n      var type = props.type || 'line';\n      ['line', 'stacked', 'area', 'percentage', 'multi_yaxis', 'bar', 'pie'].forEach(function (t) {\n        TYPES[t] = type.indexOf(t) >= 0;\n      });\n      Object.keys(data).forEach(function (n) {\n        var d = data[n];\n        if (n === 'x') AX = d;else AY.push({\n          data: d,\n          color: (props.colors || {})[n],\n          fillColor: (props.fillColors || {})[n],\n          name: (props.names || {})[n],\n          type: props.type\n        });\n      });\n      AYL = AY.length;\n      AXL = AX.length;\n      X.min = AX[0];\n      X.max = AX[AXL - 1];\n      X.d = X.max - X.min;\n      V.localMM = undefined;\n      V.globalMM = undefined;\n      TYPES.linear = TYPES.line || TYPES.multi_yaxis;\n      updateVars();\n      A = {\n        previewA: V.showPreview ? 1 : 0\n      };\n\n      for (var i = 0, S; i < AYL; i++) {\n        var S = AY[i],\n            off = false;\n        S._color = S.color;\n        S._fillColor = S.fillColor;\n\n        if (!TYPES.percentage) {\n          STREE_MAX[i] = initSTree(S.data);\n          buildSTree(STREE_MAX[i], S.data, Math.max);\n          STREE_MIN[i] = initSTree(S.data);\n          buildSTree(STREE_MIN[i], S.data, Math.min);\n        }\n\n        if (parentSeries && parentSeries[i] && parentSeries[i].name === S.name) off = parentSeries[i].off;\n        S.off = off;\n        A['alphaY' + i] = off ? 0 : 1;\n        A['on' + i] = off ? 0 : 1;\n      }\n\n      if (!restart) {\n        V.localStart = props.startX || 2 / 3 * X.d + X.min;\n        V.localEnd = props.endX || X.max;\n        V.globalStart = X.min;\n        V.globalEnd = X.max;\n      }\n\n      V.minBrushSize = X.d * UI.preview.minBrushSize / 100;\n      V.seriesCount = AYL;\n      setTheme();\n\n      if (!restart) {\n        if (parent) {\n          parent.togglePreview(V.showPreview);\n        } else {\n          byId(ID).innerHTML = parse(CHARTY);\n          IDs.map(flerken);\n          togglePreview(V.showPreview);\n          UI.title.innerText = props.title;\n          ctx = UI.canvas.getContext('2d');\n          hookEvents();\n        }\n      }\n\n      renderLegend();\n      renderCtrls();\n      updateTheme();\n      V.forceUpdate = true;\n      repaint();\n      measureUI();\n\n      if (!restart) {\n        render();\n      }\n    }\n\n    function xToIdx(x) {\n      return applyRange(Math.round((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function xToIdxUp(x) {\n      return applyRange(Math.ceil((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function xToIdxDown(x) {\n      return applyRange(Math.floor((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function valToX(v) {\n      return (v - V.globalStart) / (V.globalEnd - V.globalStart) * UI.preview.width + UI.chart.hPadding;\n    }\n\n    function xToVal(x) {\n      return (x - UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n    }\n\n    function doAnimations(time) {\n      var a,\n          completed = true;\n\n      for (var name in animations) {\n        a = animations[name];\n        if (a.off) continue;\n        if (!a.started) a.started = time;\n\n        if (props.animated === false) {\n          a.update ? a.update(a.to) : A[name] = a.to;\n          a.cb && a.cb();\n          a.off = true;\n        } else {\n          var d = time - a.started,\n              v = a.ease(d, a.from, a.to - a.from, a.duration);\n          a.update ? a.update(v) : A[name] = v;\n\n          if (d > a.duration) {\n            a.update ? a.update(a.to) : A[name] = a.to;\n            a.cb && a.cb();\n            a.off = true;\n          } else completed = false;\n        }\n\n        repaint();\n        parent && parent.repaint();\n      }\n\n      if (completed) animations = {};\n    }\n\n    function renderHandle(x) {\n      UI.canvas.rect(x, UI.chart.height - (UI.preview.height + UI.preview.handleTick) / 2, 2, UI.preview.handleTick, 2, true, true);\n    }\n\n    function renderBrush(a) {\n      var hw = UI.preview.handleW,\n          start = valToX(V.localStart),\n          end = valToX(V.localEnd);\n      ctx.strokeStyle = UI.preview.brushColor;\n      ctx.globalAlpha = a;\n      ctx.lineWidth = 1;\n\n      if (TYPES.bar || TYPES.area || TYPES.pie) {\n        ctx.fillStyle = UI.preview.brushBorderColor;\n        ctx.globalAlpha = UI.preview.brushBorderAlpha;\n        UI.canvas.rect(start - hw - 1, UI.preview.y - 1, hw + 3, UI.preview.height + 3, UI.preview.radius + 1, true);\n        UI.canvas.rect(end - 1, UI.preview.y - 1, hw + 3, UI.preview.height + 3, UI.preview.radius + 1, false, true);\n      }\n\n      ctx.globalAlpha = a;\n      ctx.fillStyle = UI.preview.brushColor;\n      UI.canvas.rect(start - hw, UI.preview.y, hw, UI.preview.height, UI.preview.radius, true);\n      UI.canvas.rect(end, UI.preview.y, hw, UI.preview.height, UI.preview.radius, false, true);\n      ctx.strokeRect(start, UI.preview.y + UI.preview.vPadding / 2, end - start, UI.preview.height - UI.preview.vPadding);\n      ctx.fillStyle = UI.preview.handleColor || '#fff';\n      renderHandle(start - 6);\n      renderHandle(end + 4);\n    }\n\n    function renderPreview() {\n      var h = UI.preview.height,\n          minH = UI.preview.minHeight,\n          w = UI.preview.width,\n          a = A['previewA'];\n      if (!parent) ctx.clearRect(0, UI.xAxis.y + 5, UI.main.width, UI.xAxis.height + h);\n      if (!V.showPreview) return;\n      ctx.save();\n      UI.canvas.rect(UI.chart.hPadding, UI.preview.y + UI.preview.vPadding, w, minH, UI.preview.radius, valToX(V.localStart) > UI.chart.hPadding + UI.preview.handleW / 2, valToX(V.localEnd) < UI.main.width - UI.chart.hPadding - UI.preview.handleW / 2, true);\n      ctx.lineWidth = UI.preview.lineWidth;\n      ctx.globalAlpha = a;\n      renderSeries('global', a, w, h - 2 * UI.preview.vPadding, V.globalStart, V.globalEnd, 0, UI.chart.height - UI.preview.vPadding, UI.chart.hPadding, true);\n      ctx.fillStyle = UI.preview.maskColor;\n      ctx.globalAlpha = a * UI.preview.maskAlpha;\n      ctx.fillRect(UI.chart.hPadding, UI.preview.y + UI.preview.vPadding, valToX(V.localStart) - UI.chart.hPadding, minH);\n      ctx.fillRect(valToX(V.localEnd), UI.preview.y + UI.preview.vPadding, UI.main.width + UI.preview.handleW - UI.chart.hPadding - valToX(V.localEnd), minH);\n      ctx.restore();\n      renderBrush(a);\n    }\n\n    function renderAxis() {\n      if (TYPES.pie) return;\n      var localD,\n          localMin,\n          localMax = 0,\n          minLocalD,\n          lowerMin,\n          p = Math.min(1, V.progress);\n      ctx.font = '11px ' + FONT;\n\n      if (TYPES.percentage) {\n        localMin = 0;\n        localMax = 100;\n      } else if (TYPES.stacked || TYPES.bar || TYPES.percentage) {\n        for (var i = 0, val; i < AYL; i++) {\n          val = AY[i].max * A['on' + i];\n          localMax = TYPES.stacked ? localMax + val : Math.max(localMax, val);\n        }\n\n        localMin = 0;\n      } else if (TYPES.multi_yaxis) {\n        localMin = Math.max(A['localMinY0'], A['localMinY1']);\n        localMax = localMin + Math.max(A['localDY0'], A['localDY1']);\n        minLocalD = Math.min(A['localDY0'], A['localDY1']);\n        lowerMin = Math.min(A['localMinY0'], A['localMinY1']);\n      } else {\n        localMax = V.localMM.max;\n        localMin = V.localMM.min;\n      }\n\n      localD = localMax - localMin;\n      var w = UI.main.width - 2 * UI.chart.hPadding,\n          scaleX = w / (V.localEnd - V.localStart),\n          scaleY = (UI.main.height - 22) / localD,\n          start = xToIdxDown(V.localStart - UI.chart.hPadding / scaleX),\n          end = xToIdxUp(V.localEnd + UI.chart.hPadding / scaleX),\n          y = UI.xAxis.y + UI.xAxis.height / 2,\n          stepGridX = props.xAxisStep ? props.xAxisStep : Math.pow(2, Math.ceil(Math.log(3 * UI.xAxis.textWidth * (end - start) / w))) || 1,\n          stepGridY = Math.round(localD / UI.yAxis.textCount) || 1,\n          d = 5 * Math.pow(10, stepGridY.toString().length - 2) || 1;\n      stepGridY = Math.max(1, Math.round(stepGridY / d) * d);\n\n      if (V.stepGridX !== stepGridX) {\n        if (V.stepGridX) {\n          if (V.stepGridX < stepGridX) animate('stepGridXA' + V.stepGridX, 1, 0, UI.xAxis.fadeTime);\n          V.prevStepGridX = V.stepGridX;\n        }\n\n        if (!V.prevStepGridX || stepGridX < V.prevStepGridX) animate('stepGridXA' + stepGridX, 0, 1, UI.xAxis.fadeTime);\n        if (stepGridX > V.prevStepGridX) A['stepGridXA' + stepGridX] = 1;\n        V.stepGridX = stepGridX;\n      }\n\n      if (V.prevStepGridX) renderXText(1, V.prevStepGridX, start, end, scaleX, y, 1 - p);\n      renderXText(0, stepGridX, start, end, scaleX, y, 1 - p);\n\n      if (V.stepGridY !== stepGridY) {\n        if (V.stepGridY) {\n          animate('stepGridYA' + V.stepGridY, 1, 0, UI.yAxis.fadeTime / 2, 0, 0, function () {\n            V.prevStepGridY = 0;\n            V.yPos = [];\n          });\n          V.prevStepGridY = V.stepGridY;\n        }\n\n        animate('stepGridYA' + stepGridY, 0, 1, UI.yAxis.fadeTime);\n        V.stepGridY = stepGridY;\n      }\n\n      if (V.prevStepGridY) renderYText(1, V.prevStepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, 1 - p);\n      renderYText(0, stepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, 1 - p);\n\n      if (TYPES.percentage) {\n        ctx.globalAlpha = UI.xAxis.textAlpha * (1 - p);\n        ctx.fillStyle = UI.yAxis.textColor;\n        ctx.fillText('100', UI.chart.hPadding, 12);\n      }\n    }\n\n    function renderXText(prevStep, stepGridX, start, end, scaleX, y, p) {\n      var a = A['stepGridXA' + stepGridX] * UI.xAxis.textAlpha * p;\n      if (a === 0) return;\n      start -= start % stepGridX;\n      ctx.fillStyle = UI.xAxis.textColor;\n      ctx.globalAlpha = a;\n\n      for (var i = start, x, u; i <= end; i += stepGridX) {\n        if (!prevStep && stepGridX < V.prevStepGridX && i % V.prevStepGridX === 0) continue;\n        if (prevStep && stepGridX > V.prevStepGridX && i % V.prevStepGridX === 0) continue;\n        if (prevStep && V.stepGridX > V.prevStepGridX && i % V.stepGridX === 0) continue;\n        x = UI.chart.hPadding + (AX[i] - V.localStart) * scaleX;\n        u = props.xAxisType instanceof Function ? props.xAxisType(AX[i]) : DATA_TYPES[props.xAxisType](AX[i]);\n        ctx.fillText(u, x, y);\n      }\n    }\n\n    function renderYText(prevStep, stepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, p) {\n      var u,\n          y = localMin,\n          y_,\n          yPos,\n          val,\n          c = 0,\n          a0 = TYPES.multi_yaxis ? A['alphaY0'] : 1,\n          a1 = TYPES.multi_yaxis ? A['alphaY1'] : 1,\n          a = A['stepGridYA' + stepGridY],\n          v;\n\n      while (y < localMax) {\n        y_ = c === 0 && stepGridY > 10 ? Math.ceil(y / 10) * 10 : y;\n        yPos = UI.xAxis.y - (y - localMin) * scaleY;\n\n        if (prevStep && c > 0) {\n          v = V.yPos[c];\n          if (v) yPos = yPos + (yPos - V.yPos[c]) * a;\n        }\n\n        val = '' + Math.floor(c === 0 ? localMin : y_);\n        ctx.globalAlpha = a * p * a0 * UI.yAxis.textAlpha;\n        ctx.fillStyle = TYPES.multi_yaxis ? AY[0].color : UI.yAxis.textColor;\n        u = props.yAxisType instanceof Function ? props.yAxisType(val) : DATA_TYPES[props.yAxisType](val);\n        ctx.fillText(u, UI.chart.hPadding, yPos - 5);\n\n        if (TYPES.multi_yaxis) {\n          ctx.fillStyle = AY[1].color || UI.yAxis.textColor;\n          val = Math.max(0, Math.floor(lowerMin + (y - localMin) / localD * minLocalD));\n          if (c > 0 && val > 50) val = Math.ceil(val / 10) * 10;\n          ctx.globalAlpha = a * p * a1;\n          u = props.yAxisType instanceof Function ? props.yAxisType(val) : DATA_TYPES[props.yAxisType](val);\n          ctx.fillText(u, UI.main.width - UI.chart.hPadding - ctx.measureText(u).width - 5, yPos - 5);\n        }\n\n        UI.canvas.line(UI.chart.hPadding, yPos, UI.main.width - UI.chart.hPadding, yPos, UI.grid.lineWidth, UI.grid.color, a * UI.grid.alpha * p);\n        if (!prevStep) V.yPos[c] = yPos;\n\n        if (c === 0 && stepGridY > 10) {\n          y_ = y_ + (stepGridY - y_ % stepGridY);\n          y = y_ - y < stepGridY * 0.6 ? y_ + stepGridY : y_;\n        } else y += stepGridY;\n\n        c++;\n      }\n    }\n\n    function buildColorStyle(color) {\n      var gradient;\n\n      if (color instanceof Object) {\n        if (color.type === 'linear_gradient_h') gradient = ctx.createLinearGradient(0, 0, UI.main.width, 0);\n        if (color.type === 'linear_gradient_v') gradient = ctx.createLinearGradient(0, 0, 0, UI.main.height);\n        color.colors.forEach(function (c, i, a) {\n          gradient.addColorStop(i / (a.length - 1), c);\n        });\n        return gradient;\n      }\n\n      return color;\n    }\n\n    function renderLinear(type, height, vStart, hPadding, offsetY, offsetX, startIdx, endIdx, scaleX, scaleY) {\n      height -= UI.grid.markerRadius + UI.grid.markerLineWidth;\n\n      for (var s = 0, idx, x, data, color, fillColor, startX; s < AYL; s++) {\n        data = AY[s].data;\n        color = buildColorStyle(AY[s].color);\n        fillColor = buildColorStyle(AY[s].fillColor);\n        UI.canvas.startLine((1 - V.progress) * A['alphaY' + s], color, fillColor, ctx.lineWidth);\n        idx = TYPES.multi_yaxis ? s : '';\n        scaleY = height / A[type + 'DY' + idx];\n\n        for (var i = startIdx; i <= endIdx; i++) {\n          x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n\n          if (i === startIdx) {\n            startX = x;\n            ctx.moveTo(x, offsetY - (data[i] - A[type + 'MinY' + idx]) * scaleY);\n          }\n\n          ctx.lineTo(x, offsetY - (data[i] - A[type + 'MinY' + idx]) * scaleY);\n        }\n\n        if (fillColor) {\n          ctx.stroke();\n          ctx.lineTo(x, offsetY);\n          ctx.lineTo(startX, offsetY);\n          ctx.fill();\n        } else ctx.stroke();\n      }\n    }\n\n    function renderBars(type, masterA, width, height, vStart, hPadding, offsetY, offsetX, isPreview, startIdx_, endIdx, scaleX) {\n      var selectedIdx,\n          x,\n          p = 1 - V.progress,\n          startIdx = xToIdxDown(vStart - hPadding / scaleX),\n          barWidth = UI.main.width / (endIdx - startIdx_ - 0.5),\n          max = 0,\n          alpha,\n          scaleY,\n          STACK = new Array(AXL),\n          selectX,\n          selectY,\n          selectH;\n\n      for (var s = 0, val; s < AYL; s++) {\n        val = A[type + 'DY' + s] * A['on' + s];\n        max = TYPES.stacked ? max + val : Math.max(max, val);\n      }\n\n      if (V.showLegend && V.vLineX >= 0) {\n        x = V.localStart + (V.highlightedX - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart);\n        selectedIdx = xToIdxDown(x);\n      }\n\n      for (var s = 0; s < AYL; s++) {\n        alpha = A['alphaY' + s] * p;\n        ctx.globalAlpha = masterA * (isPreview ? alpha : selectedIdx >= 0 ? 0.5 : alpha);\n        ctx.fillStyle = AY[s].color;\n        ctx.beginPath();\n        scaleY = (height + UI.main.vPadding / 2) / max;\n\n        for (var i = startIdx, val, stack; i <= endIdx; i++) {\n          val = AY[s].data[i] * A['on' + s];\n          stack = STACK[i] || 0;\n          x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n          ctx.rect(x, offsetY - stack * scaleY, barWidth, -val * scaleY);\n\n          if (selectedIdx === i) {\n            selectX = x;\n            selectY = offsetY - stack * scaleY;\n            selectH = -val * scaleY;\n          }\n\n          if (TYPES.stacked) STACK[i] = stack + val;\n        }\n\n        ctx.fill();\n\n        if (!isPreview && selectedIdx >= 0) {\n          ctx.globalAlpha = alpha * masterA;\n          ctx.fillRect(selectX, selectY, barWidth, selectH);\n        }\n      }\n    }\n\n    function renderArea(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview) {\n      var scaleX = width / (vEnd - vStart),\n          startIdx = xToIdxDown(vStart - hPadding / scaleX),\n          endIdx = xToIdxUp(vEnd + hPadding / scaleX),\n          STACK = new Array(AXL),\n          progress = isPreview ? 0 : V.progress,\n          R = Math.min(UI.main.height, UI.main.width) / 2 - 25,\n          p = Math.min(1, progress),\n          _p = 1 - progress;\n\n      if (p > 0 && !isPreview) {\n        vStart = V._localStart;\n        vEnd = V._localEnd;\n        scaleX = width / (vEnd - vStart);\n        startIdx = xToIdxDown(vStart - hPadding / scaleX);\n        endIdx = xToIdxUp(vEnd + hPadding / scaleX);\n      }\n\n      if (!isPreview) height += UI.main.vPadding;\n\n      var _height = height / (1 + progress),\n          scaleY = _height / 100,\n          angle = 0,\n          filled = false;\n\n      if (!isPreview) {\n        offsetX -= UI.main.width / 2;\n        offsetY -= R + 15;\n        ctx.save();\n        if (p < 1) UI.canvas.rect(p * (UI.main.width / 2 - R), 25 * p, 2 * R * p + (1 - p) * (UI.main.width - hPadding), 2 * R + 50 * _p, p * R, true, true, true);\n        ctx.translate(UI.main.width / 2, UI.main.height / 2);\n        if (!isPreview && p <= PIE_VISIBLE) ctx.transform(1 + p, 0, 0, 1 + p, 0, 0);\n        if (p > PIE_VISIBLE) renderPie(xToIdx(V.localStart), xToIdx(V.localEnd - V.zoomStepX), masterA, R);\n      }\n\n      if (p <= PIE_VISIBLE || isPreview) {\n        angle = 0;\n\n        for (var s = AYL - 1; s >= 0; s--) {\n          var S = AY[s],\n              selectedVal = S.data[V.selectedIndex] || 0,\n              percent = selectedVal / (TOTALS[V.selectedIndex] || 1),\n              sector = 180 * percent,\n              centered = false,\n              da = 0,\n              alpha = A['on' + s];\n\n          if (!isPreview) {\n            da = 180 * progress * percent * alpha * PI_RAD;\n            ctx.rotate(angle + da);\n          }\n\n          UI.canvas.startLine(alpha, 0, S.color, ctx.lineWidth);\n\n          for (var i = startIdx, val, x, y, startX, stack, dy; i <= endIdx; i++) {\n            stack = STACK[i] || 0;\n            val = 100 * S.data[i] / TOTALS[i] * alpha;\n            x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n            y = offsetY - _height + _p * stack * scaleY;\n            dy = isPreview ? 0 : Math.abs(x) / Math.tan((90 * _p + progress * sector) * PI_RAD);\n\n            if (i === startIdx) {\n              startX = x;\n              ctx.moveTo(x, _p * y + dy);\n            } else {\n              if (!centered && x >= 0 && progress > 0.5) {\n                centered = true;\n                ctx.lineTo(x * _p, _p * (_p * y + dy));\n              } else ctx.lineTo(x, _p * y + dy);\n            }\n\n            if (i === endIdx) {\n              if (!S.off && !filled) {\n                filled = true;\n                ctx.globalAlpha = masterA;\n                ctx.fillStyle = S.color;\n                ctx.fillRect(startX, -offsetY + 26, x - startX, 2 * offsetY);\n                if (V.seriesCount === 1) break;\n              } else {\n                ctx.lineTo(x, 2 * offsetY);\n                ctx.lineTo(startX, 2 * offsetY);\n              }\n            }\n\n            STACK[i] = stack + val;\n          }\n\n          ctx.fill();\n\n          if (!isPreview) {\n            ctx.rotate(-angle - da);\n            angle += 2 * da;\n          }\n\n          if (V.seriesCount === 1 && !S.off) break;\n        }\n      }\n\n      if (!isPreview) {\n        ctx.restore();\n        renderPieLegend(p, R, masterA);\n      }\n    }\n\n    function renderPieLegend(p, R, masterA) {\n      for (var s = AYL - 1; s >= 0; s--) {\n        var S = AY[s],\n            val = Math.round(S.percent * 100);\n        if (S.off) continue;\n        var fontSize = 13 + S.percent * 30,\n            r = val < 4 ? R + fontSize + 2 : R / 1.25,\n            text = val < 1 ? '<1%' : val + '%';\n        ctx.font = fontSize + 'px ' + FONT;\n        var ts = ctx.measureText(text),\n            x = UI.main.width / 2 + (1 - S.percent) * r * Math.cos(S.angle) - ts.width / 2 + 2 * S.dx,\n            y = UI.main.height / 2 + (1 - S.percent) * r * Math.sin(S.angle) + fontSize / 4 + 2 * S.dy;\n        ctx.globalAlpha = p * S.alpha * masterA;\n        ctx.fillStyle = val < 4 ? S.color : UI.pie.textColor;\n        ctx.fillText(text, x, y);\n      }\n    }\n\n    function renderPie(startIdx, endIdx, masterA, R_) {\n      var R = R_ || Math.min(UI.main.height, UI.main.width) / 2 - 25,\n          values = new Array(AYL),\n          totals = 0,\n          angle = 90 * PI_RAD,\n          segment,\n          progress = TYPES.pie ? 1 : V.progress;\n\n      for (var s = 0; s < AYL; s++) {\n        var S = AY[s],\n            a = A['on' + s];\n\n        for (var i = startIdx, val; i <= endIdx; i++) {\n          val = S.data[i];\n          values[s] = i === startIdx ? val : values[s] + val;\n          if (s === 0) totals += TOTALS[i];\n        }\n      }\n\n      if (!TYPES.area) {\n        ctx.save();\n        ctx.translate(UI.main.width / 2, UI.main.height / 2);\n      }\n\n      if (!isNaN(V.pieX)) {\n        var sectorR = Math.sqrt(V.pieX * V.pieX + V.pieY * V.pieY),\n            sectorA = Math.atan2(V.pieY, V.pieX);\n        sectorA -= 90 * PI_RAD;\n        if (sectorA < 0) sectorA += 2 * Math.PI;\n      }\n\n      for (s = AYL - 1; s >= 0; s--) {\n        var S = AY[s],\n            alpha = A['on' + s],\n            percent = values[s] / totals,\n            z = A['pieZoom' + s] || 0,\n            a = 360 * progress * percent * alpha * PI_RAD,\n            d = 0,\n            startA = angle - 90 * PI_RAD,\n            dx = z * UI.pie.segmentShift * Math.cos(90 * PI_RAD + startA + a / 2),\n            dy = z * UI.pie.segmentShift * Math.sin(90 * PI_RAD + startA + a / 2),\n            dr = z * UI.pie.segmentShift,\n            val = Math.round(percent * 100);\n        PERCENTS[s] = percent;\n        if (val >= 1 && sectorR <= R && sectorA >= startA && sectorA < startA + a) segment = s;\n        S.angle = angle + a / 2;\n        S.percent = alpha * percent;\n        S.alpha = alpha;\n        S.val = values[s];\n        S.dx = dx;\n        S.dy = dy;\n        S.z = z;\n        ctx.globalAlpha = masterA;\n        ctx.fillStyle = S.color;\n        ctx.beginPath();\n        ctx.moveTo(dx, dy);\n\n        if (V.seriesCount === 1 && !S.off) {\n          ctx.arc(0, 0, R + dr, angle, angle + 360 * PI_RAD);\n          ctx.fill();\n          break;\n        } else {\n          d = dr / (360 - 180 * percent);\n          ctx.arc(dx, dy, R + dr, angle + d, angle + a + PI_RAD * alpha - d);\n        }\n\n        ctx.fill();\n        angle += a;\n      }\n\n      if (!isNaN(segment)) {\n        if (V.segment !== segment) {\n          animate('pieZoom' + segment, 0, 1, ON_OFF_DURATION);\n          if (!isNaN(V.segment)) animate('pieZoom' + V.segment, 1, 0, ON_OFF_DURATION, 0);\n          V.segment = segment;\n        }\n      } else if (!isNaN(V.segment)) {\n        animate('pieZoom' + V.segment, 1, 0, ON_OFF_DURATION, 0);\n        V.segment = undefined;\n      }\n\n      if (!TYPES.area) {\n        ctx.restore();\n        renderPieLegend(progress, R, masterA);\n      }\n    }\n\n    function renderSeries(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview) {\n      var scaleX = width / (vEnd - vStart),\n          startIdx = xToIdx(vStart - hPadding / scaleX),\n          endIdx = xToIdx(vEnd + hPadding / scaleX),\n          scaleY;\n      ctx.globalAlpha = masterA;\n      if (TYPES.bar) renderBars(type, masterA, width, height, vStart, hPadding, offsetY, offsetX, isPreview, startIdx, endIdx, scaleX);else if (TYPES.area || TYPES.pie && isPreview) renderArea(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview);else if (TYPES.pie) renderPie(startIdx, endIdx, masterA);else if (TYPES.linear) renderLinear(type, height + 7, vStart, hPadding, offsetY, offsetX, startIdx, endIdx, scaleX, scaleY);\n    }\n\n    function renderMain() {\n      ctx.lineWidth = UI.main.lineWidth;\n      renderSeries('local', TYPES.percentage ? 1 : 1 - V.progress, UI.preview.width, UI.main.height - 1.5 * UI.main.vPadding, V.localStart, V.localEnd, UI.chart.hPadding, UI.main.height, false);\n      renderGrid();\n    }\n\n    function measureUI() {\n      V.needMeasure = false;\n      var ww = window.innerWidth,\n          wh = window.innerHeight,\n          pageYOffset = window.pageYOffset;\n\n      if (pageYOffset !== V.pageYOffset) {\n        UI.box.measure();\n        V.pageYOffset = pageYOffset;\n      }\n\n      if (V.prevW !== ww || V.prevH !== wh) {\n        V.prevW = ww;\n        V.prevH = wh;\n        UI.box.measure();\n        if (UI.box.h < UI.chart.height) V.prevH = 0;\n        UI.main.height = UI.chart.height - UI.preview.height - UI.xAxis.height;\n        UI.main.y = 0;\n        UI.main.width = UI.box.w;\n        UI.xAxis.y = UI.main.y + UI.main.height;\n        UI.preview.y = UI.chart.height - UI.preview.height;\n        UI.preview.width = UI.box.w - 2 * UI.chart.hPadding;\n        UI.preview.minHeight = UI.preview.height - 2 * UI.preview.vPadding;\n        UI.canvas.attr('width', UI.main.width * DPR).attr('height', UI.chart.height * DPR).stylo({\n          width: UI.main.width,\n          height: UI.chart.height\n        });\n        ctx.scale(DPR, DPR);\n        repaint();\n      }\n    }\n\n    function renderGrid() {\n      var showLegend = V.showLegend && !isNaN(V.vLineX);\n      showLegend && (!(TYPES.bar || TYPES.pie) || TYPES.area) && UI.canvas.line(V.vLineX, TYPES.area ? 16 : 4, V.vLineX, UI.main.height, UI.grid.lineWidth, UI.grid.color, UI.grid.alpha);\n      if (!V.zoomedChart) toggleLegend(showLegend || TYPES.area && V.isZoomed);\n    }\n\n    function repaint() {\n      STATE.repaint = true;\n      if (V.zoomedChart) V.zoomedChart.repaint();\n    }\n\n    this.repaint = repaint;\n\n    this.getSeries = function () {\n      return AY;\n    };\n\n    this.getProps = function () {\n      return props;\n    };\n\n    this.getVars = function () {\n      return V;\n    };\n\n    this.getAxesData = function () {\n      return {\n        AX: AX,\n        AY: AY,\n        X: X\n      };\n    };\n\n    function updateRangeText(el, _start, _end) {\n      if (V.isZooming) return;\n\n      if (!V.showRangeText) {\n        el.innerText = '';\n        return;\n      }\n\n      var start = _start === undefined ? V.localStart : _start,\n          end = _end === undefined ? V.localEnd : _end,\n          rangeText,\n          zoomedProps = V.zoomedChart ? V.zoomedChart.getProps() : undefined,\n          rangeTextType = zoomedProps ? zoomedProps.rangeTextType : props.rangeTextType;\n      if (props.xAxisType === 'date') end -= zoomedProps ? zoomedProps.zoomStepX || zoomedProps.stepX || 1 : props.zoomStepX || V.stepX;\n\n      if (rangeTextType instanceof Function) {\n        rangeText = rangeTextType(start, end);\n      } else if (rangeText === undefined) {\n        var startStr = DATA_TYPES[rangeTextType](start),\n            endStr = DATA_TYPES[rangeTextType](end);\n        rangeText = startStr === endStr ? startStr : startStr + ' - ' + endStr;\n      }\n\n      el.innerText = rangeText;\n    }\n\n    function recalcTotals() {\n      TOTALS = new Array(AXL);\n\n      for (var s = 0; s < AYL; s++) {\n        for (var i = 0, v; i < AXL; i++) {\n          v = AY[s].data[i] * A['on' + s];\n          TOTALS[i] = s === 0 ? v : TOTALS[i] + v;\n        }\n      }\n    }\n\n    function minMax(start, end) {\n      var min = Infinity,\n          max = -Infinity,\n          x1 = Math.max(0, start),\n          x2 = Math.min(AXL, end);\n\n      function compare(u) {\n        if (u > max) max = u;\n        if (u < min) min = u;\n      }\n\n      for (var y = 0, S; y < AYL; y++) {\n        S = AY[y];\n\n        if (S.off && !TYPES.multi_yaxis) {\n          S.max = 0;\n          S.min = 0;\n          S.d = 0;\n          continue;\n        }\n\n        if (TYPES.stacked || TYPES.bar || TYPES.percentage) {\n          if (V.autoScale) {\n            S.max = querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity);\n            S.min = 0;\n          } else {\n            S.max = props.maxY === undefined ? querySTree(STREE_MAX[y], AXL, 0, AXL, Math.max, -Infinity) : props.maxY;\n            S.min = props.minY || 0;\n          }\n\n          S.d = S.max;\n        } else if (TYPES.multi_yaxis) {\n          if (V.autoScale) {\n            S.min = querySTree(STREE_MIN[y], AXL, x1, x2, Math.min, Infinity);\n            S.max = querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity);\n          } else {\n            S.min = props.minY === undefined ? querySTree(STREE_MIN[y], AXL, 0, AXL, Math.min, Infinity) : props.minY;\n            S.max = props.maxY === undefined ? querySTree(STREE_MAX[y], AXL, 0, AXL, Math.max, -Infinity) : props.maxY;\n          }\n\n          S.d = S.max - S.min;\n        } else {\n          compare(querySTree(STREE_MIN[y], AXL, x1, x2, Math.min, Infinity));\n          compare(querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity));\n        }\n      }\n\n      min = !V.autoScale && props.minY !== undefined ? props.minY : min;\n      max = !V.autoScale && props.maxY !== undefined ? props.maxY : max;\n      if (min === Infinity && V.localMM) return V.localMM;\n      return {\n        min: min,\n        max: max,\n        d: max - min\n      };\n    }\n\n    function recalcMinMax(name, start, end) {\n      var prevMM, MM;\n      if (V.autoScale) MM = minMax(start, end);else {\n        MM = V[name + 'MM'];\n        if (!MM) MM = minMax(0, AXL);\n      }\n\n      if (TYPES.multi_yaxis || TYPES.stacked || TYPES.bar || TYPES.area) {\n        if (!A[name + 'DY0']) {\n          for (var i = 0; i < AYL; i++) {\n            var s = AY[i];\n            A[name + 'MinY' + i] = s.min;\n            A[name + 'DY' + i] = s.d;\n          }\n        } else {\n          for (var i = 0; i < AYL; i++) {\n            var s = AY[i];\n            prevMM = s[name + 'MM'];\n\n            if (s.min !== prevMM.min || s.d !== prevMM.d) {\n              animate(name + 'DY' + i, prevMM.d, s.d, ANIMATE_DURATION);\n              animate(name + 'MinY' + i, prevMM.min, s.min, ANIMATE_DURATION);\n            }\n          }\n        }\n\n        for (var i = 0; i < AYL; i++) {\n          var s = AY[i];\n          s[name + 'MM'] = {\n            min: s.min,\n            max: s.max,\n            d: s.d\n          };\n        }\n      } else {\n        prevMM = V[name + 'MM'];\n\n        if (!prevMM || V.movingBrush) {\n          A[name + 'MinY'] = MM.min;\n          A[name + 'DY'] = MM.d;\n        } else {\n          if (MM.min !== prevMM.min || MM.d !== prevMM.d) {\n            animate(name + 'DY', prevMM.d, MM.d, ANIMATE_DURATION);\n            animate(name + 'MinY', prevMM.min, MM.min, ANIMATE_DURATION);\n          }\n        }\n\n        V[name + 'MM'] = MM;\n      }\n    }\n\n    function render(time) {\n      if (AXL < 2 || V.isDestroyed) return;\n      doAnimations(time);\n      requestAnimationFrame(render);\n      if (V.needMeasure) measureUI();\n      var localRangeChanged = V.prevLocalStart !== V.localStart || V.prevLocalEnd !== V.localEnd,\n          isZoomed = V.prevGlobalStart !== V.globalStart || V.prevGlobalEnd !== V.globalEnd,\n          seriesCountChanged = V.seriesCount !== V.prevSeriesCount;\n      if (!STATE.repaint) return;\n\n      if (TYPES.percentage || TYPES.pie) {\n        if (!TOTALS || V.forceUpdate || V.isOnOffAnimating || seriesCountChanged) recalcTotals();\n      } else {\n        if (seriesCountChanged || isZoomed || V.forceUpdate) recalcMinMax('global', xToIdxUp(V.globalStart), xToIdxUp(V.globalEnd));\n        if (localRangeChanged || seriesCountChanged || isZoomed || V.forceUpdate) recalcMinMax('local', xToIdxUp(V.localStart), xToIdxUp(V.localEnd));\n      }\n\n      if (localRangeChanged || isZoomed || V.forceUpdate) updateRangeText(UI.localRange);\n      V.prevSeriesCount = V.seriesCount;\n      V.prevLocalStart = V.localStart;\n      V.prevLocalEnd = V.localEnd;\n      V.prevGlobalStart = V.globalStart;\n      V.prevGlobalEnd = V.globalEnd;\n\n      if (!V.hidden) {\n        if (!parent) ctx.clearRect(0, UI.main.y - 5, UI.main.width, UI.chart.height);\n        renderMain();\n        renderPreview();\n        renderAxis();\n      }\n\n      STATE.repaint = false;\n      V.forceUpdate = false;\n      if (V.zoomedChart) V.zoomedChart.repaint();\n    }\n\n    function animate(name, from, to, duration, update, ease, cb) {\n      update ? update(from) : A[name] = from;\n      animations[name] = {\n        ease: ease || EASE.outQuad,\n        from: from,\n        to: to,\n        duration: duration,\n        update: update,\n        cb: cb\n      };\n    }\n\n    function whereAmI(x, y_) {\n      var y = y_ - UI.chart.topPadding,\n          area = AREA.HEADER;\n      if (y >= UI.main.y && y < UI.xAxis.y) area = AREA.MAIN;else if (y >= UI.xAxis.y && y < UI.preview.y) area = AREA.XAXIS;else if (y >= UI.preview.y) {\n        var start = valToX(V.localStart),\n            end = valToX(V.localEnd);\n        if (x >= start - UI.preview.hitSlop && x <= start + UI.preview.handleW + UI.preview.hitSlop / 2) area = AREA.BRUSH_LEFT;else if (x > start + UI.preview.handleW && x < end - UI.preview.handleW - UI.preview.hitSlop / 2) area = AREA.BRUSH_CENTER;else if (x >= end - UI.preview.handleW - UI.preview.hitSlop / 2 && x < end + UI.preview.hitSlop) area = AREA.BRUSH_RIGHT;else area = AREA.PREVIEW;\n      }\n      return area;\n    }\n\n    function updateCheckbox(i, off, series_) {\n      if (!V.showButtons) return;\n      var to = off ? 0 : 1,\n          buttonColor = (currentTheme.buttons || {}).color || '#fff',\n          series = series_ || AY;\n      UI['checkbox' + i].attr('class', typeof styles !== 'undefined' ? styles['checkbox'] : 'checkbox ' + (off ? 'off' : 'on')).stylo({\n        backgroundColor: off ? 'transparent' : series[i].color,\n        borderColor: series[i].color\n      });\n      UI['chk' + i].stylo({\n        transform: 'scale(' + to + ')',\n        opacity: to,\n        fill: buttonColor\n      }, true);\n      UI['name' + i].stylo({\n        transform: 'translate3d(' + (to - 1) * 8 + 'px, 0, 0)',\n        color: off ? series[i].color : buttonColor\n      });\n    }\n\n    function toggleCheckbox(i, off) {\n      var s = AY[i];\n      s.off = off !== undefined ? off : !s.off;\n      s.off ? --V.seriesCount : ++V.seriesCount;\n      var from = s.off ? 1 : 0,\n          to = s.off ? 0 : 1;\n      updateCheckbox(i, s.off);\n\n      if (TYPES.stacked || TYPES.bar || TYPES.percentage || TYPES.pie) {\n        V.isOnOffAnimating = true;\n        animate('on' + i, from, to, ON_OFF_DURATION, 0, s.off ? EASE.outQuad : EASE.inQuad, function () {\n          V.isOnOffAnimating = false;\n          V.forceUpdate = true;\n        });\n        A['alphaY' + i] = 1;\n      } else {\n        animate('alphaY' + i, from, to, ON_OFF_DURATION);\n      }\n\n      if (V.zoomedChart) V.zoomedChart.toggleCheckbox(i, off);\n      toggleLegend(false);\n    }\n\n    this.toggleCheckbox = toggleCheckbox;\n\n    function toggleLegend(on) {\n      var pieMode = TYPES.pie || TYPES.percentage && V.isZoomed;\n      if (!pieMode && !(on ^ V.legendIsVisible)) return;\n      if (pieMode && isNaN(V.segment)) return hideLegend();\n\n      if (on) {\n        var y,\n            p,\n            x = V.localStart + (V.vLineX - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart),\n            idx = TYPES.bar ? xToIdxDown(x) : xToIdx(x),\n            scaleX = UI.preview.width / (V.localEnd - V.localStart),\n            dy = TYPES.linear ? UI.grid.markerRadius + UI.grid.markerLineWidth : 0,\n            scaleY = (UI.main.height - UI.main.vPadding - dy) / A.localDY,\n            side = 1,\n            sum = 0;\n\n        if (V.showLegendTitle) {\n          UI.xval.innerText = DATA_TYPES[props.xAxisType](AX[idx]);\n          UI.xval.stylo({\n            display: 'block'\n          });\n        } else UI.xval.stylo({\n          display: 'none'\n        });\n\n        V.highlightedX = V.vLineX;\n        ctx.fillStyle = UI.grid.markerFillColor;\n        ctx.lineWidth = UI.grid.markerLineWidth;\n        ctx.globalAlpha = 1;\n        UI.date.stylo({\n          display: pieMode ? 'none' : 'flex'\n        });\n\n        for (var s = 0, pp = 0; s < AYL; s++) {\n          var S = AY[s],\n              v = pieMode ? S.val : S.data[idx];\n          UI['label' + s].stylo({\n            display: S.off || pieMode && s !== V.segment ? 'none' : 'flex',\n            paddingTop: pieMode ? 0 : 5\n          });\n          if (S.off) continue;\n          sum += v;\n          if (TYPES.multi_yaxis) scaleY = (UI.main.height - UI.main.vPadding - dy) / A['localDY' + s];\n          UI['labelName' + s].innerText = S.name;\n          UI['labelValue' + s].stylo({\n            color: S.color\n          }).innerText = format(v);\n\n          if (TYPES.percentage || TYPES.pie) {\n            p = v / TOTALS[idx];\n            if (s === AYL - 1) p = 1 - pp;\n            pp += p;\n            UI['labelPercent' + s].stylo({\n              display: pieMode ? 'none' : 'flex'\n            }).innerText = Math.round(p * 100) + '%';\n          }\n\n          if (!(TYPES.pie || TYPES.bar || TYPES.percentage)) {\n            ctx.strokeStyle = S.color;\n            ctx.beginPath();\n            ctx.arc(UI.chart.hPadding + (AX[idx] - V.localStart) * scaleX, UI.xAxis.y - (S.data[idx] - A['localMinY' + (TYPES.multi_yaxis ? s : '')]) * scaleY, UI.grid.markerRadius, 0, Math.PI * 2);\n            ctx.stroke();\n            ctx.fill();\n          }\n        }\n\n        if (TYPES.stacked) {\n          UI.labelTotal.stylo({\n            display: V.seriesCount > 1 ? 'flex' : 'none'\n          });\n          UI.labelValueTotal.innerHTML = format(sum);\n        }\n\n        UI.legend.measure();\n\n        if (pieMode) {\n          x = V.pieX + UI.main.width / 2;\n          y = V.pieY + UI.main.height / 2;\n        } else {\n          side = V.vLineX < UI.main.width / 2 ? 0 : 1;\n          x = applyRange(V.vLineX - UI.grid.legendShift - side * (UI.legend.w - 2 * UI.grid.legendShift), 2, UI.main.width - UI.legend.w - 2);\n          if (props.legendPosition === 'top') y = UI.chart.topPadding;else if (props.legendPosition === 'bottom') y = UI.xAxis.y - UI.legend.h + 40;else y = applyRange(V.vLineY - UI.legend.h - (IS_MOBILE ? 50 : 10), UI.chart.topPadding, UI.xAxis.y - UI.legend.h);\n        }\n\n        UI.legend.stylo({\n          opacity: 1,\n          transform: 'translate3d(' + x + 'px, ' + y + 'px, 0)'\n        }, true);\n        if (V.legendTimer) clearTimeout(V.legendTimer);\n        V.legendTimer = setTimeout(hideLegend, LEGEND_TIMER);\n      } else hideLegend();\n\n      V.legendIsVisible = on;\n    }\n\n    function resetCursor() {\n      UI.canvas.stylo({\n        cursor: 'auto'\n      });\n    }\n\n    function dismiss() {\n      if (parent) return;\n      if (hideLegend()) repaint();\n      STATE.draggingArea = 0;\n      resetCursor();\n    }\n\n    this.dismiss = dismiss;\n\n    function applyRange(v, from, to) {\n      return Math.max(from, Math.min(v, to));\n    }\n\n    function updateZoomedChart() {\n      if (V.zoomedChart) V.zoomedChart.setProgress(V);\n    }\n\n    function hideLegend() {\n      var repaint = V.vLineX !== undefined;\n      if (!UI.legend) return;\n      V.vLineX = undefined;\n      V.highlightedX = -1;\n      UI.legend.stylo({\n        transform: 'translate3d(0, -1000px, 0)'\n      });\n\n      if (V.legendTimer) {\n        clearTimeout(V.legendTimer);\n        V.legendTimer = undefined;\n      }\n\n      return repaint;\n    }\n\n    function stop(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    function flerken(o, className) {\n      var el;\n      if ((typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object') el = o;else {\n        el = byId(o === ID ? ID : ID + '-' + o);\n        className = o === ID ? 'chart' : o.replace(/[\\d]+/g, '');\n        if (typeof styles !== 'undefined') className = styles[className];\n      }\n\n      el.on = function (evt, cb) {\n        evt.split(' ').map(function (name) {\n          el.addEventListener(name, function (e) {\n            var touch = e.touches && e.touches.length ? e.touches[0] : e,\n                x = (touch.clientX || touch.pageX) - UI.box.x,\n                y = (touch.clientY || touch.pageY) - UI.box.y;\n            cb(e, x, y, whereAmI(x, y), this);\n          });\n        });\n        return el;\n      };\n\n      el.attr = function (name, value) {\n        el.setAttribute(name, value);\n        return el;\n      };\n\n      el.append = function (name) {\n        var n = document.createElement(name);\n        return flerken(el.appendChild(n), name);\n      };\n\n      el.measure = function () {\n        var s = el.getBoundingClientRect();\n        el.x = s.left;\n        el.y = s.top;\n        el.w = s.width;\n        el.h = s.height;\n        return el;\n      };\n\n      el.stylo = function (s, raw) {\n        var v;\n\n        for (var k in s) {\n          v = raw ? s[k] : s[k] + (isNaN(s[k]) ? '' : 'px');\n          el.style[k] = v;\n\n          if (k === 'transform') {\n            el.style['webkitTransform'] = v;\n            el.style['mozTransform'] = v;\n            el.style['oTransform'] = v;\n            el.style['msTransform'] = v;\n          }\n        }\n\n        return el;\n      };\n\n      el.shake = function () {\n        el.classList.add('shake');\n        setTimeout(function () {\n          el.classList.remove('shake');\n        }, 200);\n      };\n\n      el.line = function (x1, y1, x2, y2, w, color, alpha) {\n        if (!isNaN(alpha)) ctx.globalAlpha = alpha;\n        ctx.strokeStyle = color;\n        ctx.lineWidth = w;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n      };\n\n      el.rect = function (x, y, w, h, radius, left, right, clip) {\n        var r = radius || 0,\n            rightR = right ? r : 0,\n            leftR = left ? r : 0;\n        ctx.beginPath();\n        ctx.moveTo(x + leftR, y);\n        ctx.arcTo(x + w, y, x + w, y + h, rightR);\n        ctx.arcTo(x + w, y + h, x, y + h, rightR);\n        ctx.arcTo(x, y + h, x, y, leftR);\n        ctx.arcTo(x, y, x + w, y, leftR);\n        if (clip) return ctx.clip();\n        ctx.closePath();\n        ctx.fill();\n      };\n\n      el.startLine = function (alpha, strokeStyle, fillStyle, lw) {\n        ctx.globalAlpha = alpha;\n        if (ctx.strokeStyle) ctx.strokeStyle = strokeStyle;\n        if (ctx.fillStyle) ctx.fillStyle = fillStyle;\n        ctx.lineWidth = lw;\n        ctx.beginPath();\n        ctx.lineCap = 'butt';\n        ctx.lineJoin = 'bevel';\n      };\n\n      UI[o === ID ? 'box' : o] = el;\n      return el.attr('class', className).measure();\n    }\n\n    function hide() {\n      V.hidden = true;\n    }\n\n    this.hide = hide;\n\n    function zoomIn(x) {\n      if (V.inProgress) return;\n      V.inProgress = true;\n      var selectedX = V.localStart + (x - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart),\n          selectedIndex = xToIdx(selectedX),\n          currentGlobalStart = V.globalStart,\n          currentGlobalEnd = V.globalEnd,\n          currentLocalStart = V.localStart,\n          currentLocalEnd = V.localEnd,\n          xVal = AX[selectedIndex];\n      if (props.xAxisType === 'date') roundDate(xVal);\n      V._globalStart = V.globalStart;\n      V._globalEnd = V.globalEnd;\n      V._localStart = V.localStart;\n      V._localEnd = V.localEnd;\n\n      function doZoom() {\n        var newGlobalStart, newGlobalEnd, newLocalStart, newLocalEnd, zoomInterval, stepX;\n\n        if (V.zoomedChart) {\n          var data = V.zoomedChart.getAxesData(),\n              zoomProps = V.zoomedChart.getProps();\n          stepX = zoomProps.stepX || V.zoomStepX || V.stepX;\n          zoomInterval = props.zoomInterval || zoomProps.zoomInterval;\n\n          if (zoomInterval) {\n            newGlobalStart = selectedX - zoomInterval / 2;\n            newGlobalEnd = newGlobalStart + zoomInterval;\n            newLocalStart = selectedX;\n            newLocalEnd = newLocalStart + stepX;\n          } else {\n            newGlobalStart = data.X.min;\n            newGlobalEnd = data.X.max;\n            newLocalStart = zoomProps.startX || newGlobalStart + Math.floor(data.X.d / 2 / stepX) * stepX;\n            newLocalEnd = newLocalStart + stepX;\n          }\n        } else {\n          stepX = V.zoomStepX || V.stepX;\n          zoomInterval = props.zoomInterval || 7 * stepX;\n          newLocalStart = props.startX || xVal;\n          if (newLocalStart + stepX >= X.max) newLocalStart -= stepX;\n          newLocalEnd = newLocalStart + stepX;\n          newGlobalStart = applyRange(xVal - (zoomInterval - stepX) / 2, X.min, X.max);\n          newGlobalEnd = applyRange(newGlobalStart + zoomInterval, X.min, X.max);\n          if (newGlobalEnd - newGlobalStart) newGlobalStart = applyRange(newGlobalEnd - zoomInterval, X.min, X.max);\n        }\n\n        updateRangeText(UI.zoomedRange, newLocalStart, newLocalEnd);\n        V.isZooming = true;\n        animate('zoomIn', 0, 1, TYPES.area ? 2 * ZOOM_IN_DURATION : ZOOM_IN_DURATION, function (v) {\n          var p = Math.min(1, v),\n              p_ = 1 - p;\n          V.progress = v;\n          V.globalStart = currentGlobalStart - p * (currentGlobalStart - newGlobalStart);\n          V.globalEnd = currentGlobalEnd - p * (currentGlobalEnd - newGlobalEnd);\n          V.localStart = currentLocalStart - p * (currentLocalStart - newLocalStart);\n          V.localEnd = currentLocalEnd - p * (currentLocalEnd - newLocalEnd);\n          UI.title.stylo({\n            opacity: p_,\n            transform: 'scale(' + p_ + ', ' + p_ + ')'\n          }, true);\n          UI.zoom.stylo({\n            opacity: p,\n            transform: 'scale(' + p + ', ' + p + ')'\n          }, true);\n          UI.localRange.stylo({\n            opacity: p_,\n            transform: 'scale(' + p_ + ', ' + p_ + ')'\n          }, true);\n          UI.zoomedRange.stylo({\n            opacity: p,\n            transform: 'scale(' + p + ', ' + p + ')'\n          }, true);\n          updateZoomedChart();\n        }, TYPES.area ? EASE.outBack : EASE.outCubic, function () {\n          V.isZooming = false;\n          V.isZoomed = true;\n          V.inProgress = false;\n          V.forceUpdate = true;\n          resize();\n          if (V.zoomedChart) V.zoomedChart.wakeUp();\n        });\n        V.selectedIndex = selectedIndex;\n        hideLegend();\n      }\n\n      if (!props.onZoomIn || TYPES.pie) {\n        if (TYPES.area) return doZoom();\n        V.inProgress = false;\n        return;\n      }\n\n      props.onZoomIn(AX[selectedIndex]).then(function (data) {\n        V.zoomedChart = new Charty(ID, data, self, UI, ctx);\n        doZoom();\n        repaint();\n      }, function (err) {\n        V.inProgress = false;\n        error('Error loading data: ' + JSON.stringify(err) + '\\n\\nx: ' + AX[selectedIndex]);\n      });\n    }\n\n    this.setProgress = function (V_) {\n      SHARED_PROPS.forEach(function (prop) {\n        V[prop] = V_[prop];\n      });\n      V.progress = 1 - V_.progress;\n      repaint();\n    };\n\n    this.getTheme = function () {\n      return currentTheme;\n    };\n\n    function zoomOut(x) {\n      if (!V.isZoomed) return zoomIn();\n      var currentGlobalStart = V.globalStart,\n          currentGlobalEnd = V.globalEnd,\n          currentLocalStart = V.localStart,\n          currentLocalEnd = V.localEnd;\n      V.isZooming = true;\n      animate('zoomOut', 1, 0, ZOOM_OUT_DURATION, function (v) {\n        var v_ = 1 - v;\n        V.globalStart = currentGlobalStart - v_ * (currentGlobalStart - V._globalStart);\n        V.globalEnd = currentGlobalEnd - v_ * (currentGlobalEnd - V._globalEnd);\n        V.localStart = currentLocalStart - v_ * (currentLocalStart - V._localStart);\n        V.localEnd = currentLocalEnd - v_ * (currentLocalEnd - V._localEnd);\n        V.progress = v;\n        UI.title.stylo({\n          opacity: v_,\n          transform: 'scale(' + v_ + ', ' + v_ + ')'\n        }, true);\n        UI.zoom.stylo({\n          opacity: v,\n          transform: 'scale(' + v + ', ' + v + ')'\n        }, true);\n        UI.localRange.stylo({\n          opacity: v_,\n          transform: 'scale(' + v_ + ', ' + v_ + ')'\n        }, true);\n        UI.zoomedRange.stylo({\n          opacity: v,\n          transform: 'scale(' + v + ', ' + v + ')'\n        }, true);\n        updateRangeText(UI.localRange);\n        updateZoomedChart();\n      }, EASE.inCubic, function () {\n        V.isZooming = false;\n        V.isZoomed = false;\n        V.forceUpdate = true;\n        resize();\n\n        if (V.zoomedChart) {\n          V.zoomedChart.destroy();\n          V.zoomedChart = undefined;\n        }\n\n        dismiss();\n        wakeUp();\n      });\n\n      if (V.zoomedChart) {\n        var series = V.zoomedChart.getSeries();\n        series.map(function (S, i) {\n          var off = S.off;\n\n          if (AY[i] && AY[i].name === S.name) {\n            AY[i].off = off;\n            A['alphaY' + i] = off ? 0 : 1;\n            A['on' + i] = off ? 0 : 1;\n          }\n        });\n        renderCtrls();\n        updateTheme();\n        togglePreview(V.showPreview);\n      }\n\n      hideLegend();\n    }\n\n    this.setProps = function (props_) {\n      props = Object.assign({}, props, props_);\n      updateVars();\n      dismiss();\n      V.forceUpdate = true;\n      V.needMeasure = true;\n      UI.title.innerText = props.title || '';\n      repaint();\n    };\n\n    this.setShowButtons = function (on) {\n      V.showButtons = on;\n      renderCtrls();\n      updateTheme();\n    };\n\n    this.setStartX = function (x) {\n      V.localStart = applyRange(x, V.globalStart, V.globalEnd);\n    };\n\n    this.setEndX = function (x) {\n      V.localEnd = applyRange(x, V.globalStart, V.globalEnd);\n    };\n\n    this.setAutoScale = function (on) {\n      V.localMM = undefined;\n      V.globalMM = undefined;\n      V.autoScale = on;\n    };\n\n    this.setShowPreview = function (on) {\n      V.showPreview = on;\n      if (V.zoomedChart) V.zoomedChart.togglePreview(on);\n      togglePreview(on);\n    };\n\n    this.restart = function () {\n      start(true);\n\n      if (!V.zoomedChart) {\n        renderLegend();\n        renderCtrls();\n        updateTheme();\n      }\n    };\n\n    function wakeUp() {\n      V.hidden = false;\n      V.forceUpdate = true;\n      repaint();\n    }\n\n    function resize() {\n      V.needMeasure = true;\n    }\n\n    function scroll() {\n      V.needMeasure = true;\n    }\n\n    this.wakeUp = wakeUp;\n\n    this.destroy = function () {\n      V.isDestroyed = true;\n      unhookEvents();\n    };\n\n    function moveBrush(newLocalStart, newLocalEnd) {\n      if (V.movingBrush) return;\n      if (newLocalStart === V.localStart && newLocalEnd === V.localEnd) return;\n      if (newLocalStart >= newLocalEnd || newLocalEnd <= newLocalStart) return;\n      V.movingBrush = true;\n      var start = V.localStart,\n          end = V.localEnd;\n      animate('snapX', 0, 1, SNAP_DURATION, function (p) {\n        V.localStart = applyRange(start - p * (start - newLocalStart), X.min, X.max);\n        V.localEnd = applyRange(end - p * (end - newLocalEnd), X.min, X.max);\n        updateZoomedChart();\n      }, 0, function () {\n        V.movingBrush = false;\n        V.forceUpdate = true;\n        updateRangeText(UI.zoomedRange);\n      });\n      updateZoomedChart();\n    }\n\n    function updateCursor(area) {\n      if (!IS_MOBILE && !STATE.draggingArea) {\n        if (area === AREA.BRUSH_LEFT || area === AREA.BRUSH_RIGHT) UI.canvas.stylo({\n          cursor: 'ew-resize'\n        });else if (area === AREA.BRUSH_CENTER) UI.canvas.stylo({\n          cursor: 'move'\n        });else resetCursor();\n      }\n    }\n\n    function unhookEvents() {\n      if (!self.isHooked) return;\n      window.removeEventListener('resize', resize);\n      window.removeEventListener('scroll', scroll);\n      document.removeEventListener('mousemove', dismiss);\n      self.isHooked = false;\n    }\n\n    function hookEvents() {\n      if (self.isHooked) unhookEvents();\n      self.isHooked = true;\n      document.addEventListener('mousemove', dismiss);\n      window.addEventListener('resize', resize);\n      window.addEventListener('scroll', scroll);\n      UI.legend.on('touchmove mousemove', stop);\n      UI.legend.on('touchstart mousedown', function (e, x) {\n        if (!isNaN(V.vLineX) && !V.zoomedChart) zoomIn(V.vLineX);\n      });\n      UI.canvas.on('touchmove mousemove', function (e, x, y, area) {\n        for (var c = 0, cl = CHARTS.length; c < cl; c++) {\n          if (c !== myIdx) CHARTS[c].dismiss();\n        }\n\n        V.vLineX = undefined;\n        V.vLineY = undefined;\n        V.pieX = undefined;\n        V.pieY = undefined;\n\n        if (!V.isZoomed || !TYPES.area) {\n          if (area === AREA.MAIN) {\n            V.vLineX = x;\n            V.vLineY = y;\n          }\n\n          if (!isNaN(V.vLineX)) V.legendIsVisible = false;\n          updateZoomedChart();\n        }\n\n        if (TYPES.pie || V.isZoomed && TYPES.area) {\n          if (area === AREA.MAIN) {\n            V.pieX = x - UI.main.width / 2;\n            V.pieY = y - UI.main.height / 2 - UI.chart.topPadding;\n          }\n        }\n\n        if (area >= AREA.XAXIS) hideLegend();\n        repaint();\n        if (!IS_MOBILE || STATE.draggingArea >= AREA.PREVIEW) stop(e);\n        updateCursor(area);\n        var width = V.localEnd - V.localStart,\n            newLocalStart,\n            newLocalEnd,\n            deltaX,\n            xVal,\n            deltaStepX,\n            stepX = (V.zoomedChart ? V.zoomedChart.getProps().stepX : V.stepX) || 1,\n            minBrushSize = V.isZoomed || TYPES.pie ? stepX : Math.max(stepX, V.minBrushSize);\n        if (V.isZoomed && props.zoomStepX) stepX = props.zoomStepX;\n\n        if (STATE.draggingArea === AREA.BRUSH_LEFT) {\n          xVal = xToVal(x);\n          newLocalStart = applyRange(xVal, V.globalStart, V.localEnd - minBrushSize);\n          deltaX = V.localStart - newLocalStart;\n\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) {\n            V.localStart = newLocalStart;\n          } else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.ceil(deltaX / stepX);\n              moveBrush(V.localStart - deltaStepX, Math.min(V.localEnd, V.globalEnd));\n            }\n          }\n        } else if (STATE.draggingArea === AREA.BRUSH_RIGHT) {\n          xVal = (x + UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n          newLocalEnd = applyRange(xVal, V.localStart + minBrushSize, V.globalEnd);\n          deltaX = V.localEnd - newLocalEnd;\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) V.localEnd = newLocalEnd;else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.floor(deltaX / stepX);\n              moveBrush(Math.max(V.globalStart, V.localStart), V.localEnd - deltaStepX);\n            }\n          }\n        } else if (STATE.draggingArea === AREA.BRUSH_CENTER) {\n          xVal = (x - V.deltaDragX - UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n          newLocalStart = applyRange(xVal, V.globalStart, V.globalEnd - width);\n          newLocalEnd = applyRange(newLocalStart + width, V.globalStart, V.globalEnd);\n          deltaX = V.localEnd - newLocalEnd;\n\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) {\n            V.localStart = newLocalStart;\n            V.localEnd = newLocalEnd;\n          } else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.round(deltaX / stepX);\n              moveBrush(V.localStart - deltaStepX, V.localEnd - deltaStepX);\n            }\n          }\n        }\n      });\n      UI.zoom.on('touchstart mousedown', function () {\n        if (V.isZoomed) {\n          restorePreview(props.showPreview !== false);\n          zoomOut();\n        }\n      });\n      UI.canvas.on('touchstart mousedown', function (e, x, y, area) {\n        STATE.draggingArea = area;\n\n        if (area > AREA.PREVIEW) {\n          V.deltaDragX = x - valToX(V.localStart) - UI.preview.handleW / 2;\n        } else if (area === AREA.PREVIEW) {\n          var width = V.localEnd - V.localStart,\n              xVal = xToVal(x),\n              newLocalStart = xVal - width / 2,\n              newLocalEnd = xVal + width / 2,\n              dxStart = V.globalStart - newLocalStart,\n              dxEnd = newLocalEnd - V.globalEnd;\n\n          if (dxStart > 0) {\n            newLocalStart = V.globalStart;\n            newLocalEnd = V.globalStart + width;\n          } else if (dxEnd > 0) {\n            newLocalStart = V.globalEnd - width;\n            newLocalEnd = V.globalEnd;\n          }\n\n          moveBrush(newLocalStart, newLocalEnd);\n        }\n      });\n      UI.canvas.on('touchend touchcancel mouseup', function (e, x, y, area) {\n        if (!IS_MOBILE && !isNaN(V.vLineX) && !V.zoomedChart) zoomIn(V.vLineX);\n        STATE.draggingArea = 0;\n        updateCursor(area);\n      });\n    }\n  }\n\n  return Charty;\n}();\n/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n\nvar RESTARTING_PROPS = ['data', 'type', 'colors', 'names'];\n\nvar Charty$1 = function (_Component) {\n  inherits(Charty$$1, _Component);\n\n  function Charty$$1() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Charty$$1);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Charty$$1.__proto__ || Object.getPrototypeOf(Charty$$1)).call.apply(_ref, [this].concat(args))), _this), _this.setRef = function (el) {\n      _this.el = el;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(Charty$$1, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.charty = new Charty(this.el, this.props);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this2 = this;\n\n      if (!this.charty) return true;\n      this.charty.setProps(nextProps);\n      if (nextProps.theme !== this.props.theme) this.charty.setTheme(nextProps.theme);\n      if (nextProps.showPreview !== this.props.showPreview) this.charty.setShowPreview(nextProps.showPreview);\n      if (nextProps.showButtons !== this.props.showButtons) this.charty.setShowButtons(nextProps.showButtons);\n      if (nextProps.startX !== this.props.startX) this.charty.setStartX(nextProps.startX);\n      if (nextProps.endX !== this.props.endX) this.charty.setEndX(nextProps.endX);\n      if (nextProps.autoScale !== this.props.autoScale) this.charty.setAutoScale(nextProps.autoScale);\n      var idx = RESTARTING_PROPS.findIndex(function (prop) {\n        return _this2.props[prop] !== nextProps[prop];\n      });\n      if (idx >= 0) this.charty.restart();\n      return false;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.charty) {\n        this.charty.destroy();\n        this.charty = undefined;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        ref: this.setRef,\n        style: this.props.style\n      });\n    }\n  }]);\n  return Charty$$1;\n}(Component);\n\nCharty$1.propTypes = {\n  type: PropTypes.string,\n  title: PropTypes.string,\n  theme: PropTypes.object,\n  animated: PropTypes.bool,\n  showLegend: PropTypes.bool,\n  showLegendTitle: PropTypes.bool,\n  showButtons: PropTypes.bool,\n  showPreview: PropTypes.bool,\n  showRangeText: PropTypes.bool,\n  rangeTextType: PropTypes.string,\n  xAxisType: PropTypes.string,\n  yAxisType: PropTypes.string,\n  xAxisStep: PropTypes.number,\n  legendPosition: PropTypes.string,\n  data: PropTypes.object,\n  names: PropTypes.object,\n  colors: PropTypes.object,\n  stepX: PropTypes.number,\n  startX: PropTypes.number,\n  endX: PropTypes.number,\n  onZoomIn: PropTypes.func,\n  zoomInterval: PropTypes.number,\n  zoomStepX: PropTypes.number,\n  autoScale: PropTypes.bool,\n  minY: PropTypes.number,\n  maxY: PropTypes.number\n};\nexport default Charty$1;","/* eslint-disable one-var */\nimport React, { Component } from 'react'\nimport Charty from 'react-charty'\n\nconst LIGHT_THEME = {\n    name: 'light',\n    grid: { color: '#182D3B', alpha: 0.1, markerFillColor: '#fff' },\n    legend: { background: '#fff', color: '#000' },\n    preview: { maskColor: '#E2EEF9', maskAlpha: 0.6, brushColor: '#C0D1E1', brushBorderColor: '#fff', brushBorderAlpha: 1, handleColor: '#fff' },\n    xAxis: { textColor: '#8E8E93', textAlpha: 1 },\n    yAxis: { textColor: '#8E8E93', textAlpha: 1 },\n    title: { color: '#000' },\n    localRange: { color: '#000' },\n    zoomedRange: { color: '#000' },\n    zoomText: { color: '#108BE3' },\n    zoomIcon: { fill: '#108BE3' },\n    buttons: { color: '#fff' },\n    pie: { textColor: '#fff' },\n    body: { backgroundColor: '#fff', color: '#000' },\n    noteColor: '#108BE3',\n    octoColor: '#fff'\n  },\n  DARK_THEME = {\n    name: 'dark',\n    grid: { color: '#fff', alpha: 0.1, markerFillColor: '#242f3e' },\n    legend: { background: '#1c2533', color: '#fff' },\n    preview: { maskColor: '#304259', maskAlpha: 0.6, brushColor: '#56626D', brushBorderAlpha: 0, handleColor: '#fff' },\n    xAxis: { textColor: '#A3B1C2', textAlpha: 0.6 },\n    yAxis: { textColor: '#A3B1C2', textAlpha: 0.6 },\n    title: { color: '#fff' },\n    localRange: { color: '#fff' },\n    zoomedRange: { color: '#fff' },\n    zoomText: { color: '#108BE3' },\n    zoomIcon: { fill: '#108BE3' },\n    buttons: { color: '#fff' },\n    pie: { textColor: '#fff' },\n    body: { backgroundColor: '#262f3d', color: '#fff' },\n    noteColor: '#108BE3',\n    octoColor: '#fff'\n  },\n  MATRIX_THEME = {\n    name: 'matrix',\n    grid: { color: '#00ff41', alpha: 0.2, markerFillColor: '#0d0208' },\n    legend: { background: '#003b00', color: '#00ff41' },\n    preview: { maskColor: '#003b00', maskAlpha: 0.6, brushColor: '#009f11', brushBorderAlpha: 0, handleColor: '#00ff41' },\n    xAxis: { textColor: '#00ff41', textAlpha: 0.6 },\n    yAxis: { textColor: '#00ff41', textAlpha: 0.6 },\n    title: { color: '#008f11' },\n    localRange: { color: '#008f11' },\n    zoomedRange: { color: '#008f11' },\n    zoomText: { color: '#008f11' },\n    zoomIcon: { fill: '#008f11' },\n    buttons: { color: '#0d0208' },\n    pie: { textColor: '#0d0208' },\n    colors: {\n      'Joined': '#00ff41', 'Left': '#008f11', 'Views': '#00ff41', 'Shares': '#008f11', 'Clicks': '#008f11',\n      'Kiwi': '#00ff41', 'Apricots': '#008f11', 'Lemons': '#005b00', 'Mango': '#7ec251', 'Oranges': '#145105',\n      'Pears': '#66e82f', 'Apples': '#0acb3b',\n      'Adventure': '#03c835', 'Western': '#008f11', 'Action': '#00ff41', 'Multiple Genres': '#66e82f', 'Drama': '#0acb3b',\n      'Comedy': '#008f11', 'Thriller/Suspense': '#005b00', 'Concert/Performance': '#7ec251', 'Horror': '#145105',\n      'Romantic Comedy': '#12842f', 'Musical': '#079d2e'\n    },\n    fillColors: {\n      'Joined': '#00ff4177', 'Left': '#00000000'\n    },\n    body: { backgroundColor: '#0d0208', color: '#00ff41' },\n    noteColor: '#008f11',\n    octoColor: '#00ff41'\n  },\n  THEMES = [DARK_THEME, MATRIX_THEME, LIGHT_THEME],\n  IS_MOBILE = window.orientation !== undefined,\n  BOX_OFFICE_DATA = {\n    type: 'pie',\n    data: {\n      x: [2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018],\n      y0: [418894996, 375827476, 405950482, 350025489, 412599414, 356749803, 334756601, 363440937, 480825172, 299653307, 323532944],\n      y10: [2829762, 22654, 11748762, 10677132, 13353944, 17940856, 284339, 3501919, 17013981, 6864560, 3667257],\n      y1: [228907497, 272137386, 228669559, 267026649, 278874194, 297981308, 318724501, 349637236, 285649087, 368643283, 447980568],\n      y12: [70848, 85951, 148783, 190518, 238718, 263510, 628663, 286179, 330890, 514394, 525514],\n      y2: [151729266, 244595555, 213973344, 187934565, 209883469, 164612977, 201036506, 245573737, 157334842, 147887868, 176581251],\n      y3: [292402573, 191387857, 174406757, 188043157, 131991738, 199227435, 155477200, 153408009, 162978825, 87443925, 94998758],\n      y4: [106796214, 128751724, 116501895, 117123096, 186711044, 138499493, 118634566, 129240950, 82084039, 77766071, 67312441],\n      y11: [10533274, 2660484, 396482, 12035978, 3561192, 7980550, 385326, 136417, 3145782, 332699, 298642],\n      y5: [42770147, 77957339, 67327194, 50987000, 44842994, 57311383, 31198061, 44403863, 56039563, 115877974, 98962594],\n      y6: [46079258, 85649416, 65577463, 72861475, 42739101, 24261722, 32398230, 8790834, 15862326, 9586948, 26458555],\n      y7: [36236267, 5244119, 22114278, 10679542, 27725964, 43935184, 30866923, 8178513, 28773877, 99237710, 45842523],\n      y8: [12177214, 24992506, 11895704, 10392818, 16624104, 6064807, 10774221, 7720431, 5870460, 5006181, 11765171]\n    },\n    names: {\n      y0: 'Adventure',\n      y1: 'Action',\n      y2: 'Drama',\n      y3: 'Comedy',\n      y4: 'Thriller/Suspense',\n      y5: 'Horror',\n      y6: 'Romantic Comedy',\n      y7: 'Musical',\n      y8: 'Documentary',\n      y10: 'Western',\n      y11: 'Concert/Performance',\n      y12: 'Multiple Genres'\n    },\n    colors: {\n      y0: '#2373DB',\n      y1: '#EC2049',\n      y2: '#F26B38',\n      y3: '#F7DB4F',\n      y4: '#A7226E',\n      y5: '#474747',\n      y6: '#FC9D9A',\n      y7: '#FF4E50',\n      y8: '#5FB641',\n      y10: '#FC913A',\n      y11: '#C8C8A9',\n      y12: '#2F9599'\n    }\n  }\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      themeIdx: 0,\n      data: []\n    }\n  }\n\n  async componentDidMount() {\n    const dataFiles = [1,2,3,4,5].map((id) => fetch(`data/${id}/overview.json`)),\n      results = await Promise.all(dataFiles),\n      data = await Promise.all(results.map((r) => r.json()));\n\n    this.setState({\n      isLoaded: true,\n      data\n    })\n\n    var themeName = window.location.hash.substr(1),\n      idx = THEMES.findIndex((theme) => theme.name === themeName),\n      themeIdx = Math.max(0, idx)\n\n    this.setState({ themeIdx })\n    this.setTheme(themeIdx)\n  }\n\n  setTheme = (themeIdx) => {\n    var theme = THEMES[themeIdx]\n    document.body.style.backgroundColor = theme.body.backgroundColor\n    document.body.style.color = theme.body.color\n    document.querySelectorAll('.note').forEach((el) => {\n      el.style.color = theme.noteColor\n    })\n    document.getElementById('octo').style.fill = theme.octoColor\n  }\n\n  switchTheme = () => {\n    var themeIdx = this.state.themeIdx\n    themeIdx++\n\n    if (themeIdx === THEMES.length)\n      themeIdx = 0\n\n    this.setState({ themeIdx })\n    this.setTheme(themeIdx)\n  }\n\n  onZoomIn = async (id, x) => {\n    var d = new Date(x),\n      month = '' + (d.getMonth() + 1),\n      day = '' + d.getDate(),\n      year = d.getFullYear()\n\n    if (month.length < 2) month = '0' + month\n    if (day.length < 2) day = '0' + day\n\n    var file = 'data/' + id + '/' + year + '-' + month + '/' + day + '.json',\n      response = await fetch(file)\n\n    return response.json()\n  }\n\n  render () {\n    if (!this.state.isLoaded)\n      return null;\n\n    const width = IS_MOBILE ? '100%' : '50%',\n      theme = THEMES[this.state.themeIdx],\n      data = this.state.data,\n      style = { width, marginTop: 20 }\n\n    return (\n      <React.Fragment>\n        <h3 className=\"note\" onClick={this.switchTheme}>Switch theme</h3>\n        <h4 className=\"note\">(click on the {IS_MOBILE ? 'legend' : 'chart'} to zoom in)</h4>\n        <div className=\"container\">\n          <Charty title=\"Followers\" theme={theme} style={style} {...data[0]} onZoomIn={(x) => this.onZoomIn(1, x)} />\n          <Charty title=\"Fruits\" theme={theme} style={style} {...data[4]} />\n          <Charty title=\"Interactions\" theme={theme} style={style} {...data[1]} onZoomIn={(x) => this.onZoomIn(2, x)} />\n          <Charty title=\"Messages\" theme={theme} style={style} {...data[2]} onZoomIn={(x) => this.onZoomIn(3, x)} />\n          <Charty title=\"Views\" theme={theme} style={style} {...data[3]} onZoomIn={(x) => this.onZoomIn(4, x)} />\n          <Charty title=\"Box Office Ticket Sales\" theme={theme} style={style} {...BOX_OFFICE_DATA} stepX={1} startX={2017} endX={2018} />\n        </div>\n        <h3 className=\"bottom note\" onClick={this.switchTheme}>Switch theme</h3>\n      </React.Fragment>\n    )\n  }\n}\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}