{"version":3,"sources":["../../dist/index.es.js","App.js","index.js"],"names":["styles","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","_typeof","Symbol","iterator","obj","constructor","prototype","instance","Constructor","TypeError","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","self","call","ReferenceError","Charty","CHARTY","CTRLS","LEGEND","DEFAULT_THEME","grid","color","alpha","markerFillColor","legend","background","preview","maskColor","maskAlpha","brushColor","brushBorderColor","brushBorderAlpha","handleColor","xAxis","textColor","textAlpha","yAxis","title","localRange","zoomedRange","zoomText","zoomIcon","fill","buttons","pie","CHART_HEIGHT","MAIN_AREA_HEIGHT","PI_RAD","Math","PI","FONT","WDAYS","LONG_WDAYS","MONTHS","DPR","window","devicePixelRatio","LONG_TAP_DURATION","ANIMATE_DURATION","ON_OFF_DURATION","ZOOM_IN_DURATION","ZOOM_OUT_DURATION","SNAP_DURATION","LEGEND_TIMER","AREA","HEADER","MAIN","XAXIS","PREVIEW","BRUSH_CENTER","BRUSH_LEFT","BRUSH_RIGHT","IS_MOBILE","undefined","orientation","CHARTS","PIE_VISIBLE","SHARED_PROPS","EASE","inQuad","t","b","c","d","outQuad","inCubic","outCubic","outSine","sin","outBack","s","DATA_TYPES","time","v","Date","h","getHours","m","getMinutes","unixToTime","date","unixToD","shortDate","longDate","unixToDate","longDateWeekDay","float1","parseFloat","toFixed","float2","number","format","round","n","toString","replace","_d","getDate","getMonth","getFullYear","full","longWdays","getDay","byId","id","getElementById","initSTree","a","tl","al","p","floor","log","pow","Array","getRightChildIdx","idx","getLeftChildIdx","buildSTree","T","cmp","buildSTree_","leftIdx","rightIdx","middleIdx","isNaN","querySTree","len","fail","querySTree_","qLeftIdx","qRightIdx","ID_","parent","UI_","ctx_","ID","AYL","AX","AXL","TOTALS","parentSeries","currentTheme","V","progress","needMeasure","yPos","ctx","IDs","AY","X","TYPES","PERCENTS","STREE_MIN","STREE_MAX","animations","A","STATE","myIdx","UI","chart","topPadding","hPadding","height","segmentShift","vPadding","radius","lineWidth","handleW","handleTick","minBrushSize","hitSlop","legendShift","markerRadius","markerLineWidth","textWidth","fadeTime","textCount","main","this","updateTheme","theme_","theme","stylo","updateColors","S","colors","name","_color","fillColor","fillColors","_fillColor","map","series","updateCheckbox","off","zoomedChart","getSeries","stepGridX","stepGridY","repaint","parse","_IDs","_","tag","y","k","join","indexOf","push","setTheme","getTheme","renderLegend","innerHTML","flerken","renderCtrls","showButtons","ctrls","on","e","stop","tapStarted","now","tapTimer","clearTimeout","setTimeout","toggleCheckbox","seriesCount","prevSeriesCount","el","shake","togglePreview","on_","showPreview","animate","transform","error","msg","updateVars","showLegend","showMainArea","showBrush","showRangeText","showLegendTitle","stepX","zoomStepX","autoScale","start","restart","data","previewA","x","forEach","keys","names","min","max","globalStart","globalEnd","localStart","startX","localEnd","endX","prevStepGridX","localMM","globalMM","linear","line","multi_yaxis","percentage","innerText","canvas","getContext","isHooked","unhookEvents","addEventListener","dismiss","resize","scroll","vLineX","zoomIn","area","cl","vLineY","pieX","pieY","isZoomed","legendIsVisible","updateZoomedChart","width","hideLegend","draggingArea","updateCursor","newLocalStart","newLocalEnd","deltaX","deltaStepX","getProps","applyRange","xToVal","abs","ceil","moveBrush","deltaDragX","zoom","currentGlobalStart","currentGlobalEnd","currentLocalStart","currentLocalEnd","isZooming","v_","_globalStart","_globalEnd","_localStart","_localEnd","opacity","updateRangeText","forceUpdate","destroy","wakeUp","zoomOut","valToX","xVal","dxStart","dxEnd","measureUI","render","xToIdx","xToIdxUp","xToIdxDown","renderHandle","rect","renderPreview","minH","minHeight","w","clearRect","save","globalAlpha","renderSeries","fillStyle","fillRect","restore","hw","end","strokeStyle","bar","strokeRect","renderBrush","renderXText","prevStep","scaleX","u","xAxisType","Function","fillText","renderYText","scaleY","localMin","localMax","localD","minLocalD","lowerMin","y_","val","a0","a1","yAxisType","measureText","buildColorStyle","gradient","createLinearGradient","addColorStop","renderPieLegend","R","masterA","percent","fontSize","r","text","font","ts","cos","angle","dx","dy","renderPie","startIdx","endIdx","R_","segment","values","totals","translate","sectorR","sqrt","sectorA","atan2","z","startA","dr","beginPath","moveTo","arc","vStart","vEnd","offsetY","offsetX","isPreview","startIdx_","selectedIdx","selectX","selectY","selectH","barWidth","STACK","stacked","highlightedX","stack","renderBars","_p","_height","filled","selectedIndex","sector","centered","da","rotate","startLine","tan","lineTo","renderArea","stroke","renderLinear","renderMain","toggleLegend","renderGrid","ww","innerWidth","wh","innerHeight","pageYOffset","box","measure","prevW","prevH","attr","scale","_start","_end","rangeText","zoomedProps","rangeTextType","startStr","endStr","minMax","Infinity","x1","x2","compare","maxY","minY","recalcMinMax","prevMM","MM","movingBrush","isDestroyed","completed","started","animated","update","to","cb","ease","from","duration","doAnimations","requestAnimationFrame","localRangeChanged","prevLocalStart","prevLocalEnd","prevGlobalStart","prevGlobalEnd","seriesCountChanged","isOnOffAnimating","recalcTotals","hidden","xAxisStep","prevStepGridY","renderAxis","series_","buttonColor","backgroundColor","borderColor","pieMode","localDY","side","sum","xval","display","pp","paddingTop","labelTotal","labelValueTotal","legendPosition","legendTimer","resetCursor","cursor","setProgress","stopPropagation","preventDefault","o","className","evt","split","touch","touches","clientX","pageX","clientY","pageY","whereAmI","value","setAttribute","append","getBoundingClientRect","left","top","raw","classList","add","remove","y1","y2","right","clip","rightR","leftR","arcTo","closePath","lw","lineCap","lineJoin","inProgress","selectedX","setHours","setMinutes","setSeconds","setMilliseconds","getTime","roundDate","onZoomIn","doZoom","then","err","JSON","stringify","newGlobalStart","newGlobalEnd","zoomInterval","getAxesData","zoomProps","p_","removeEventListener","getDefaultTheme","getVars","hide","V_","prop","setProps","props_","assign","setShowButtons","setShowMainArea","setShowBrush","setStartX","setEndX","setAutoScale","setShowPreview","RESTARTING_PROPS","Charty$1","_Component","Charty$$1","_ref","_temp","_this","_len","arguments","args","_key","__proto__","getPrototypeOf","apply","concat","setRef","subClass","superClass","create","setPrototypeOf","charty","nextProps","nextState","_this2","findIndex","propTypes","string","object","bool","func","THEMES","body","noteColor","octoColor","BOX_OFFICE_DATA","y0","y10","y12","y3","y4","y11","y5","y6","y7","y8","App","themeIdx","querySelectorAll","switchTheme","state","setState","month","day","year","file","fetch","response","json","isLoaded","dataFiles","Promise","all","results","themeName","location","hash","substr","marginTop","Fragment","onClick","Component","ReactDOM"],"mappings":"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","file":"static/js/main.28d0baad.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \"/*\\n *  Copyright (c) 2019-present, Aleksandr Telegin\\n *\\n * This source code is licensed under the MIT license.\\n */\\n\\n.styles_chart__3TN3X {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.styles_chart__3TN3X .styles_header__3PFGX{\\n  height: 50px;\\n  position: relative;\\n}\\n.styles_chart__3TN3X .styles_title__1cca0 {\\n  font-size: 16px;\\n  margin: 15px 0 0 20px;\\n  position: absolute;\\n  transform-origin: top left;\\n  -webkit-transform-origin: bottom left;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD {\\n  opacity: 0;\\n  position: absolute;\\n  transform-origin: bottom left;\\n  -webkit-transform-origin: bottom left;\\n  margin: 15px 0 0 20px;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD svg {\\n  width: 16px;\\n  height: 16px;\\n  display: inline-block;\\n  position: relative;\\n  margin: 0 4px 0 0;\\n  top: 5px;\\n}\\n.styles_chart__3TN3X .styles_zoom__1MrWD svg path {\\n  fill: #108BE3;\\n}\\n.styles_chart__3TN3X .styles_date__3jLQg {\\n  position: relative;\\n  display: flex;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_date__3jLQg a {\\n  position: absolute;\\n  right: 0;\\n}\\n.styles_chart__3TN3X .styles_zoomText__OFj8g {\\n  font-weight: normal;\\n  font-size: 16px;\\n  color: #108BE3;\\n  padding: 0 0 20px;\\n}\\n.styles_chart__3TN3X .styles_localRange__3BkLX {\\n  font-size: 12px;\\n  top: 0;\\n  padding: 17px 20px 0 0;\\n  margin: 0;\\n  right: 0;\\n  transform-origin: top right;\\n  -webkit-transform-origin: bottom left;\\n  position: absolute;\\n}\\n.styles_chart__3TN3X .styles_zoomedRange__2Eoyo {\\n  font-size: 12px;\\n  top: 0;\\n  padding: 17px 20px 0 0;\\n  margin: 0;\\n  right: 0;\\n  position: absolute;\\n  opacity: 0;\\n  transform-origin: bottom right;\\n  -webkit-transform-origin: bottom left;\\n}\\n.styles_chart__3TN3X .styles_ctrls__1QGXt {\\n  padding: 0 6px;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  transition: transform .3s ease;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb {\\n  margin: 10px 0 0 10px;\\n  padding: 9px 12px 9px 30px;\\n  cursor: pointer;\\n  position: relative;\\n  border-radius: 7px;\\n  border-width: 1px;\\n  border-style: solid;\\n  font-size: 14px;\\n  min-width: auto;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb.styles_shake__cxUqQ {\\n  -webkit-animation: styles_shake__cxUqQ .3s ease alternate;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb svg {\\n  width: 14px;\\n  height: 14px;\\n  position: absolute;\\n  left: 10px;\\n  bottom: 10px;\\n}\\n.styles_chart__3TN3X .styles_checkbox__n3Wwb span.styles_name__13yyl {\\n  font-weight: normal;\\n  display: inline-block;\\n  transition: transform .15s ease, opacity .15s ease;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG {\\n  position: absolute;\\n  padding: 8px 10px;\\n  border-radius: 10px;\\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.4);\\n  white-space: nowrap;\\n  max-width: 300px;\\n  z-index: 9999;\\n  transform: translate3d(0, -200px, 0);\\n  -webkit-transform-origin: bottom left;\\n  top: 0;\\n  font-size: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 155px;\\n  opacity: 0;\\n  transition: opacity .3s ease;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 200px;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_xval__2fECb {\\n  font-weight: bold;\\n  margin: 0 22px 5px 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_label__1nh3o, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: row;\\n  padding: 5px 0 0 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelTotal__17ztL {\\n  display: none;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelPercent__3drGS {\\n  display: none;\\n  font-weight: bold;\\n  font-size: 12px;\\n  text-align: right;\\n  min-width: 30px;\\n  padding: 0 10px 0 0;\\n  flex-shrink: 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelName__2M57m, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelNameTotal__3VUst {\\n  font-size: 12px;\\n  padding: 0 10px 0 0;\\n}\\n.styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValue__3m_Aj, .styles_chart__3TN3X .styles_legend__1RMVG .styles_labelValueTotal__1ihZO {\\n  font-weight: bold;\\n  font-size: 12px;\\n  flex: 1;\\n  text-align: right;\\n}\\n\";\nvar styles = {\n  \"chart\": \"styles_chart__3TN3X\",\n  \"header\": \"styles_header__3PFGX\",\n  \"title\": \"styles_title__1cca0\",\n  \"zoom\": \"styles_zoom__1MrWD\",\n  \"date\": \"styles_date__3jLQg\",\n  \"zoomText\": \"styles_zoomText__OFj8g\",\n  \"localRange\": \"styles_localRange__3BkLX\",\n  \"zoomedRange\": \"styles_zoomedRange__2Eoyo\",\n  \"ctrls\": \"styles_ctrls__1QGXt\",\n  \"checkbox\": \"styles_checkbox__n3Wwb\",\n  \"shake\": \"styles_shake__cxUqQ\",\n  \"name\": \"styles_name__13yyl\",\n  \"legend\": \"styles_legend__1RMVG\",\n  \"xval\": \"styles_xval__2fECb\",\n  \"label\": \"styles_label__1nh3o\",\n  \"labelTotal\": \"styles_labelTotal__17ztL\",\n  \"labelPercent\": \"styles_labelPercent__3drGS\",\n  \"labelName\": \"styles_labelName__2M57m\",\n  \"labelNameTotal\": \"styles_labelNameTotal__3VUst\",\n  \"labelValue\": \"styles_labelValue__3m_Aj\",\n  \"labelValueTotal\": \"styles_labelValueTotal__1ihZO\"\n};\nstyleInject(css);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n\nvar Charty = function () {\n  var CHARTY = '<div id=|header>\\\n      <h3 id=|title></h3>\\\n      <h3 id=|zoom>\\\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\\n          <path id=|zoomIcon d=\"M13 10h-8v-2h8v2zm8.172 14l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z\"/>\\\n        </svg>\\\n        <span id=|zoomText>Zoom Out</span>\\\n      </h3>\\\n      <h4 id=|localRange></h4>\\\n      <h4 id=|zoomedRange></h4>\\\n    </div>\\\n    <canvas id=|canvas></canvas>\\\n    <div id=|ctrls></div>\\\n    <div id=|legend></div>',\n      CTRLS = '[<label id=|checkbox{i} style=\"background: {color}; border-color: {color}\">\\\n        <span id=|name{i} style=\"color:#fff\">{name}</span>\\\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\\n          <path id=|chk{i} d=\"m9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z\"/>\\\n        </svg>\\\n      </label>]',\n      LEGEND = '<div id=|date><span id=|xval></span></div>\\\n      [<div id=|label{i}>\\\n        <div id=|labelPercent{i}></div>\\\n        <div id=|labelName{i}></div>\\\n        <div id=|labelValue{i} style=\"color:{color}\"></div>\\\n      </div>]\\\n      <div id=|labelTotal>\\\n        <div id=|labelNameTotal>All</div>\\\n        <div id=|labelValueTotal></div>\\\n      </div>',\n      DEFAULT_THEME = {\n    grid: {\n      color: '#182D3B',\n      alpha: 0.1,\n      markerFillColor: '#fff'\n    },\n    legend: {\n      background: '#fff',\n      color: '#000'\n    },\n    preview: {\n      maskColor: '#E2EEF9',\n      maskAlpha: 0.6,\n      brushColor: '#C0D1E1',\n      brushBorderColor: '#fff',\n      brushBorderAlpha: 1,\n      handleColor: '#fff'\n    },\n    xAxis: {\n      textColor: '#8E8E93',\n      textAlpha: 1\n    },\n    yAxis: {\n      textColor: '#8E8E93',\n      textAlpha: 1\n    },\n    title: {\n      color: '#000'\n    },\n    localRange: {\n      color: '#000'\n    },\n    zoomedRange: {\n      color: '#000'\n    },\n    zoomText: {\n      color: '#108BE3'\n    },\n    zoomIcon: {\n      fill: '#108BE3'\n    },\n    buttons: {\n      color: '#fff'\n    },\n    pie: {\n      textColor: '#fff'\n    }\n  },\n      CHART_HEIGHT = 400,\n      MAIN_AREA_HEIGHT = 354,\n      PI_RAD = Math.PI / 180,\n      FONT = 'BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n      WDAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n      LONG_WDAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      DPR = window.devicePixelRatio,\n      LONG_TAP_DURATION = 700,\n      ANIMATE_DURATION = 220,\n      ON_OFF_DURATION = 150,\n      ZOOM_IN_DURATION = 300,\n      ZOOM_OUT_DURATION = 300,\n      SNAP_DURATION = 200,\n      LEGEND_TIMER = 10000,\n      AREA = {\n    HEADER: 1,\n    MAIN: 2,\n    XAXIS: 3,\n    PREVIEW: 4,\n    BRUSH_CENTER: 5,\n    BRUSH_LEFT: 6,\n    BRUSH_RIGHT: 7\n  },\n      IS_MOBILE = window.orientation !== undefined,\n      CHARTS = [],\n      PIE_VISIBLE = 0.99,\n      SHARED_PROPS = ['globalStart', 'globalEnd', 'localStart', 'localEnd', 'vLineX', 'vLineY', 'legendIsVisible', 'isZoomed', 'isZooming'],\n      EASE = {\n    inQuad: function inQuad(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    outQuad: function outQuad(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    inCubic: function inCubic(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    outCubic: function outCubic(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    outSine: function outSine(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    outBack: function outBack(t, b, c, d, s) {\n      if (!s) s = 1.5;\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    }\n  },\n      DATA_TYPES = {\n    time: function time(v) {\n      return unixToTime(v);\n    },\n    date: function date(v) {\n      return unixToD(v);\n    },\n    shortDate: function shortDate(v) {\n      return unixToD(v);\n    },\n    longDate: function longDate(v) {\n      return unixToDate(v);\n    },\n    longDateWeekDay: function longDateWeekDay(v) {\n      return unixToD(v, true, true);\n    },\n    float1: function float1(v) {\n      return parseFloat(v).toFixed(1);\n    },\n    float2: function float2(v) {\n      return parseFloat(v).toFixed(2);\n    },\n    number: function number(v) {\n      return format(v);\n    },\n    undefined: function undefined(v) {\n      return Math.round(v);\n    }\n  };\n\n  function roundDate(ts) {\n    var d = new Date(ts);\n    d.setHours(0);\n    d.setMinutes(0);\n    d.setSeconds(0);\n    d.setMilliseconds(0);\n    return d.getTime();\n  }\n\n  function format(n) {\n    if (n === undefined) return '';\n    return Math.round(n).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n  }\n\n  function unixToDate(time, _d) {\n    var d = _d || new Date(time);\n    return d.getDate() + ' ' + MONTHS[d.getMonth()] + ' ' + d.getFullYear();\n  }\n\n  function unixToD(time, full, longWdays) {\n    var d = new Date(time);\n    if (full) return (longWdays ? LONG_WDAYS[d.getDay()] : WDAYS[d.getDay()]) + ', ' + unixToDate(0, d);\n    return MONTHS[d.getMonth()] + ' ' + d.getDate();\n  }\n\n  function unixToTime(time) {\n    var d = new Date(time),\n        h = '' + d.getHours(),\n        m = '' + d.getMinutes();\n    if (h.length < 2) h = '0' + h;\n    if (m.length < 2) m = '0' + m;\n    return h + ':' + m;\n  }\n\n  function byId(id) {\n    return document.getElementById(id);\n  }\n\n  function initSTree(a) {\n    var al = a.length,\n        tl;\n    if ((al & al - 1) === 0) tl = 2 * al - 1;else {\n      var p = Math.floor(Math.log(al) / Math.log(2)),\n          power = Math.pow(2, p + 1);\n      tl = 2 * power - 1;\n    }\n    return new Array(tl);\n  }\n\n  function getRightChildIdx(idx) {\n    return 2 * idx + 2;\n  }\n\n  function getLeftChildIdx(idx) {\n    return 2 * idx + 1;\n  }\n\n  function buildSTree_(T, a, leftIdx, rightIdx, p, cmp) {\n    if (leftIdx === rightIdx) {\n      var v = a[leftIdx];\n      T[p] = isNaN(v) ? 0 : v;\n      return;\n    }\n\n    var middleIdx = Math.floor((leftIdx + rightIdx) / 2);\n    buildSTree_(T, a, leftIdx, middleIdx, getLeftChildIdx(p), cmp);\n    buildSTree_(T, a, middleIdx + 1, rightIdx, getRightChildIdx(p), cmp);\n    T[p] = cmp(T[getLeftChildIdx(p)], T[getRightChildIdx(p)]);\n  }\n\n  function buildSTree(T, a, cmp) {\n    buildSTree_(T, a, 0, a.length - 1, 0, cmp);\n  }\n\n  function querySTree_(T, qLeftIdx, qRightIdx, leftIdx, rightIdx, p, cmp, fail) {\n    if (qLeftIdx <= leftIdx && qRightIdx >= rightIdx) return T[p];\n    if (qLeftIdx > rightIdx || qRightIdx < leftIdx) return fail;\n    var middleIdx = Math.floor((leftIdx + rightIdx) / 2),\n        leftResult = querySTree_(T, qLeftIdx, qRightIdx, leftIdx, middleIdx, getLeftChildIdx(p), cmp, fail),\n        rightResult = querySTree_(T, qLeftIdx, qRightIdx, middleIdx + 1, rightIdx, getRightChildIdx(p), cmp, fail);\n    return cmp(leftResult, rightResult);\n  }\n\n  function querySTree(T, len, leftIdx, rightIdx, cmp, fail) {\n    return querySTree_(T, leftIdx, rightIdx, 0, len - 1, 0, cmp, fail);\n  }\n\n  function Charty(ID_, props, parent, UI_, ctx_) {\n    var ID = (typeof ID_ === 'undefined' ? 'undefined' : _typeof(ID_)) === 'object' ? ID_.id : ID_;\n    if (!ID) ID = ID_.id = 'charty-' + CHARTS.length;\n    var V = {\n      progress: 0,\n      needMeasure: true,\n      yPos: []\n    },\n        ctx = ctx_,\n        IDs = [],\n        AY = [],\n        AYL,\n        AX,\n        AXL,\n        X = {},\n        TYPES = {},\n        TOTALS,\n        PERCENTS = [],\n        STREE_MIN = [],\n        STREE_MAX = [],\n        animations = {},\n        A = {},\n        STATE = {},\n        myIdx = CHARTS.length,\n        parentSeries,\n        currentTheme,\n        UI = UI_ || {\n      chart: {\n        topPadding: 50,\n        hPadding: 15,\n        height: CHART_HEIGHT\n      },\n      pie: {\n        segmentShift: 5\n      },\n      preview: {\n        height: 46,\n        vPadding: 1,\n        radius: 8,\n        lineWidth: 1,\n        handleW: 9,\n        handleTick: 10,\n        minBrushSize: 10,\n        hitSlop: 10\n      },\n      grid: {\n        lineWidth: 1,\n        legendShift: -10,\n        markerRadius: 3,\n        markerLineWidth: 4\n      },\n      xAxis: {\n        textWidth: 80,\n        height: 32,\n        fadeTime: 250\n      },\n      yAxis: {\n        textCount: 5,\n        fadeTime: 500\n      },\n      main: {\n        lineWidth: 2,\n        vPadding: 15\n      }\n    },\n        self = this;\n    CHARTS.push(self);\n    if (parent) parentSeries = parent.getSeries();\n\n    function updateTheme(theme_) {\n      var theme = currentTheme || theme_;\n\n      for (var id in theme) {\n        if (UI[id]) {\n          if (UI[id].stylo) UI[id].stylo(theme[id]);else for (var key in theme[id]) {\n            UI[id][key] = theme[id][key];\n          }\n        }\n      }\n\n      function updateColors(S) {\n        S.color = theme.colors && theme.colors[S.name] ? theme.colors[S.name] : S._color;\n        S.fillColor = theme.fillColors && theme.fillColors[S.name] ? theme.fillColors[S.name] : S._fillColor;\n      }\n\n      AY.map(function (S, i, series) {\n        updateColors(S);\n        updateCheckbox(i, S.off, series);\n      });\n      if (V.zoomedChart) V.zoomedChart.getSeries().map(function (S) {\n        updateColors(S);\n      });\n      V.stepGridX = undefined;\n      V.stepGridY = undefined;\n      repaint();\n    }\n\n    this.updateTheme = updateTheme;\n    this.setTheme = setTheme;\n\n    this.getDefaultTheme = function () {\n      return DEFAULT_THEME;\n    };\n\n    start();\n\n    function parse(T, _IDs) {\n      if (_IDs) IDs = _IDs;\n      return T.replace(/\\[([^\\]]+)\\]/g, function (_, tag) {\n        return AY.map(function (y, i) {\n          return tag.replace(/\\{(\\w+)\\}/g, function (_, k) {\n            return k === 'i' ? i : y[k];\n          });\n        }).join('');\n      }).replace(/\\|([^\\s>]+)/g, function (_, id) {\n        if (IDs.indexOf(id) < 0) IDs.push(id);\n        return ID + '-' + id;\n      });\n    }\n\n    function setTheme(theme_) {\n      if (theme_) {\n        currentTheme = theme_;\n\n        if (V.zoomedChart) {\n          V.zoomedChart.setTheme(theme_);\n          V.zoomedChart.updateTheme();\n        }\n\n        return updateTheme();\n      }\n\n      if (parent) currentTheme = parent.getTheme();else if (!currentTheme) currentTheme = props.theme || DEFAULT_THEME;\n    }\n\n    function renderLegend() {\n      UI.legend.innerHTML = parse(LEGEND, []);\n      IDs.map(flerken);\n    }\n\n    function renderCtrls() {\n      if (!V.showButtons) UI.ctrls.innerHTML = '';else {\n        UI.ctrls.innerHTML = parse(CTRLS, []);\n        IDs.map(flerken);\n        AY.map(function (S, i) {\n          UI['checkbox' + i].on('mousedown touchstart', function (e) {\n            stop(e);\n            V.tapStarted = Date.now();\n            if (V.tapTimer) clearTimeout(V.tapTimer);\n            V.tapTimer = setTimeout(function () {\n              V.tapTimer = 0;\n\n              for (var idx = 0; idx < AYL; idx++) {\n                var s = AY[idx];\n                if (!s.off && idx !== i || s.off && idx === i) toggleCheckbox(idx, idx !== i);\n              }\n\n              V.seriesCount = 1;\n              V.prevSeriesCount = 0;\n            }, LONG_TAP_DURATION);\n          }).on('mouseup touchend', function (e, a, b, c, el) {\n            stop(e);\n            if (!V.tapTimer) return;\n            clearTimeout(V.tapTimer);\n            V.tapTimer = 0;\n\n            for (var idx = 0; idx < AYL; idx++) {\n              if (idx !== i && !AY[idx].off) return toggleCheckbox(i);\n            }\n\n            el.shake();\n          });\n          updateCheckbox(i, S.off);\n        });\n      }\n    }\n\n    function togglePreview(on_) {\n      var off = on_ !== undefined ? !on_ : !V.showPreview;\n      animate('previewA', off ? 1 : 0, off ? 0 : 1, 2 * ON_OFF_DURATION);\n      var d = on_ ? 0 : UI.preview.height + 10;\n      UI.ctrls.stylo({\n        transform: 'translate3d(0, -' + d + 'px, 0)'\n      });\n      V.showPreview = !off;\n    }\n\n    this.togglePreview = togglePreview;\n\n    function restorePreview(on) {\n      self.togglePreview(on);\n    }\n\n    function error(msg) {\n      throw msg;\n    }\n\n    function updateVars() {\n      V.showLegend = props.showLegend !== false;\n      V.showButtons = props.showButtons !== false && AYL > 1;\n      V.showPreview = props.showPreview !== false;\n      V.showMainArea = props.showMainArea !== false;\n      V.showBrush = props.showBrush !== false;\n      V.showRangeText = props.showRangeText !== false;\n      V.showLegendTitle = props.showLegendTitle !== false;\n      V.stepX = props.stepX || 1;\n      V.zoomStepX = props.zoomStepX || 1;\n      V.autoScale = props.autoScale !== false;\n    }\n\n    function start(restart) {\n      var data = props.data;\n      AY = [];\n      X = {};\n      TYPES = {};\n      IDs = [ID];\n      A = {\n        previewA: V.showPreview ? 1 : 0\n      };\n      if (!data) return error('The data parameter is missing.');\n      if (!data.x || !(data.x instanceof Array)) return error('The x-axis data is missing.');\n      var type = props.type || 'line';\n      ['line', 'stacked', 'area', 'percentage', 'multi_yaxis', 'bar', 'pie'].forEach(function (t) {\n        TYPES[t] = type.indexOf(t) >= 0;\n      });\n      Object.keys(data).forEach(function (n) {\n        var d = data[n];\n        if (n === 'x') AX = d;else AY.push({\n          data: d,\n          color: (props.colors || {})[n],\n          fillColor: (props.fillColors || {})[n],\n          name: (props.names || {})[n],\n          type: props.type\n        });\n      });\n      AYL = AY.length;\n      AXL = AX.length;\n      X.min = AX[0];\n      X.max = AX[AXL - 1];\n      X.d = X.max - X.min;\n\n      if (V.globalStart !== X.min || V.globalEnd !== X.max) {\n        V.localStart = props.startX || 2 / 3 * X.d + X.min;\n        V.localEnd = props.endX || X.max;\n        V.globalStart = X.min;\n        V.globalEnd = X.max;\n        V.prevStepGridX = undefined;\n      }\n\n      V.localMM = undefined;\n      V.globalMM = undefined;\n      TYPES.linear = TYPES.line || TYPES.multi_yaxis;\n      updateVars();\n      A = {\n        previewA: V.showPreview ? 1 : 0\n      };\n\n      for (var i = 0, S; i < AYL; i++) {\n        var S = AY[i],\n            off = false;\n        S._color = S.color;\n        S._fillColor = S.fillColor;\n\n        if (!TYPES.percentage) {\n          STREE_MAX[i] = initSTree(S.data);\n          buildSTree(STREE_MAX[i], S.data, Math.max);\n          STREE_MIN[i] = initSTree(S.data);\n          buildSTree(STREE_MIN[i], S.data, Math.min);\n        }\n\n        if (parentSeries && parentSeries[i] && parentSeries[i].name === S.name) off = parentSeries[i].off;\n        S.off = off;\n        A['alphaY' + i] = off ? 0 : 1;\n        A['on' + i] = off ? 0 : 1;\n      }\n\n      V.minBrushSize = X.d * UI.preview.minBrushSize / 100;\n      V.seriesCount = AYL;\n      setTheme();\n\n      if (!restart) {\n        if (parent) {\n          parent.togglePreview(V.showPreview);\n        } else {\n          byId(ID).innerHTML = parse(CHARTY);\n          IDs.map(flerken);\n          togglePreview(V.showPreview);\n          UI.title.innerText = props.title;\n          ctx = UI.canvas.getContext('2d');\n          hookEvents();\n        }\n      }\n\n      renderLegend();\n      renderCtrls();\n      updateTheme();\n      V.forceUpdate = true;\n      repaint();\n      measureUI();\n\n      if (!restart) {\n        render();\n      }\n    }\n\n    function xToIdx(x) {\n      return applyRange(Math.round((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function xToIdxUp(x) {\n      return applyRange(Math.ceil((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function xToIdxDown(x) {\n      return applyRange(Math.floor((AXL - 1) * (x - X.min) / X.d), 0, AXL - 1);\n    }\n\n    function valToX(v) {\n      return (v - V.globalStart) / (V.globalEnd - V.globalStart) * UI.preview.width + UI.chart.hPadding;\n    }\n\n    function xToVal(x) {\n      return (x - UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n    }\n\n    function doAnimations(time) {\n      var a,\n          completed = true;\n\n      for (var name in animations) {\n        a = animations[name];\n        if (a.off) continue;\n        if (!a.started) a.started = time;\n\n        if (props.animated === false) {\n          a.update ? a.update(a.to) : A[name] = a.to;\n          a.cb && a.cb();\n          a.off = true;\n        } else {\n          var d = time - a.started,\n              v = a.ease(d, a.from, a.to - a.from, a.duration);\n          a.update ? a.update(v) : A[name] = v;\n\n          if (d > a.duration) {\n            a.update ? a.update(a.to) : A[name] = a.to;\n            a.cb && a.cb();\n            a.off = true;\n          } else completed = false;\n        }\n\n        repaint();\n        parent && parent.repaint();\n      }\n\n      if (completed) animations = {};\n    }\n\n    function renderHandle(x) {\n      UI.canvas.rect(x, UI.chart.height - (UI.preview.height + UI.preview.handleTick) / 2, 2, UI.preview.handleTick, 2, true, true);\n    }\n\n    function renderBrush(a) {\n      var hw = UI.preview.handleW,\n          start = valToX(V.localStart),\n          end = valToX(V.localEnd);\n      ctx.strokeStyle = UI.preview.brushColor;\n      ctx.globalAlpha = a;\n      ctx.lineWidth = 1;\n\n      if (TYPES.bar || TYPES.area || TYPES.pie) {\n        ctx.fillStyle = UI.preview.brushBorderColor;\n        ctx.globalAlpha = UI.preview.brushBorderAlpha;\n        UI.canvas.rect(start - hw - 1, UI.preview.y - 1, hw + 3, UI.preview.height + 3, UI.preview.radius + 1, true);\n        UI.canvas.rect(end - 1, UI.preview.y - 1, hw + 3, UI.preview.height + 3, UI.preview.radius + 1, false, true);\n      }\n\n      ctx.globalAlpha = a;\n      ctx.fillStyle = UI.preview.brushColor;\n      UI.canvas.rect(start - hw, UI.preview.y, hw, UI.preview.height, UI.preview.radius, true);\n      UI.canvas.rect(end, UI.preview.y, hw, UI.preview.height, UI.preview.radius, false, true);\n      ctx.strokeRect(start, UI.preview.y + UI.preview.vPadding / 2, end - start, UI.preview.height - UI.preview.vPadding);\n      ctx.fillStyle = UI.preview.handleColor || '#fff';\n      renderHandle(start - 6);\n      renderHandle(end + 4);\n    }\n\n    function renderPreview() {\n      var h = UI.preview.height,\n          minH = UI.preview.minHeight,\n          w = UI.preview.width,\n          a = A['previewA'];\n      if (!parent) ctx.clearRect(0, UI.xAxis.y + 5, UI.main.width, UI.xAxis.height + h);\n      if (!V.showPreview) return;\n      ctx.save();\n      UI.canvas.rect(UI.chart.hPadding, UI.preview.y + UI.preview.vPadding, w, minH, UI.preview.radius, !V.showBrush || valToX(V.localStart) > UI.chart.hPadding + UI.preview.handleW / 2, !V.showBrush || valToX(V.localEnd) < UI.main.width - UI.chart.hPadding - UI.preview.handleW / 2, true);\n      ctx.lineWidth = UI.preview.lineWidth;\n      ctx.globalAlpha = a;\n      renderSeries('global', a, w, h - 2 * UI.preview.vPadding, V.globalStart, V.globalEnd, 0, UI.chart.height - UI.preview.vPadding, UI.chart.hPadding, true);\n\n      if (V.showBrush) {\n        ctx.fillStyle = UI.preview.maskColor;\n        ctx.globalAlpha = a * UI.preview.maskAlpha;\n        ctx.fillRect(UI.chart.hPadding, UI.preview.y + UI.preview.vPadding, valToX(V.localStart) - UI.chart.hPadding, minH);\n        ctx.fillRect(valToX(V.localEnd), UI.preview.y + UI.preview.vPadding, UI.main.width + UI.preview.handleW - UI.chart.hPadding - valToX(V.localEnd), minH);\n      }\n\n      ctx.restore();\n      if (V.showBrush) renderBrush(a);\n    }\n\n    function renderAxis() {\n      if (TYPES.pie || !V.showMainArea) return;\n      var localD,\n          localMin,\n          localMax = 0,\n          minLocalD,\n          lowerMin,\n          p = Math.min(1, V.progress);\n      ctx.font = '11px ' + FONT;\n\n      if (TYPES.percentage) {\n        localMin = 0;\n        localMax = 100;\n      } else if (TYPES.stacked || TYPES.bar || TYPES.percentage) {\n        for (var i = 0, val; i < AYL; i++) {\n          val = AY[i].max * A['on' + i];\n          localMax = TYPES.stacked ? localMax + val : Math.max(localMax, val);\n        }\n\n        localMin = 0;\n      } else if (TYPES.multi_yaxis) {\n        localMin = Math.max(A['localMinY0'], A['localMinY1']);\n        localMax = localMin + Math.max(A['localDY0'], A['localDY1']);\n        minLocalD = Math.min(A['localDY0'], A['localDY1']);\n        lowerMin = Math.min(A['localMinY0'], A['localMinY1']);\n      } else {\n        localMax = V.localMM.max;\n        localMin = V.localMM.min;\n      }\n\n      localD = localMax - localMin;\n      var w = UI.main.width - 2 * UI.chart.hPadding,\n          scaleX = w / (V.localEnd - V.localStart),\n          scaleY = (UI.main.height - 22) / localD,\n          start = xToIdxDown(V.localStart - UI.chart.hPadding / scaleX),\n          end = xToIdxUp(V.localEnd + UI.chart.hPadding / scaleX),\n          y = UI.xAxis.y + UI.xAxis.height / 2,\n          stepGridX = props.xAxisStep ? props.xAxisStep : Math.pow(2, Math.ceil(Math.log(3 * UI.xAxis.textWidth * (end - start) / w))) || 1,\n          stepGridY = Math.round(localD / UI.yAxis.textCount) || 1,\n          d = 5 * Math.pow(10, stepGridY.toString().length - 2) || 1;\n      stepGridY = Math.max(1, Math.round(stepGridY / d) * d);\n\n      if (V.stepGridX !== stepGridX) {\n        if (V.stepGridX) {\n          if (V.stepGridX < stepGridX) animate('stepGridXA' + V.stepGridX, 1, 0, UI.xAxis.fadeTime);\n          V.prevStepGridX = V.stepGridX;\n        }\n\n        if (!V.prevStepGridX || stepGridX < V.prevStepGridX) animate('stepGridXA' + stepGridX, 0, 1, UI.xAxis.fadeTime);\n        if (stepGridX > V.prevStepGridX) A['stepGridXA' + stepGridX] = 1;\n        V.stepGridX = stepGridX;\n      }\n\n      if (V.prevStepGridX) renderXText(1, V.prevStepGridX, start, end, scaleX, y, 1 - p);\n      renderXText(0, stepGridX, start, end, scaleX, y, 1 - p);\n\n      if (V.stepGridY !== stepGridY) {\n        if (V.stepGridY) {\n          animate('stepGridYA' + V.stepGridY, 1, 0, UI.yAxis.fadeTime / 2, 0, 0, function () {\n            V.prevStepGridY = 0;\n            V.yPos = [];\n          });\n          V.prevStepGridY = V.stepGridY;\n        }\n\n        animate('stepGridYA' + stepGridY, 0, 1, UI.yAxis.fadeTime);\n        V.stepGridY = stepGridY;\n      }\n\n      if (V.prevStepGridY) renderYText(1, V.prevStepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, 1 - p);\n      renderYText(0, stepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, 1 - p);\n\n      if (TYPES.percentage) {\n        ctx.globalAlpha = UI.xAxis.textAlpha * (1 - p);\n        ctx.fillStyle = UI.yAxis.textColor;\n        ctx.fillText('100', UI.chart.hPadding, 12);\n      }\n    }\n\n    function renderXText(prevStep, stepGridX, start, end, scaleX, y, p) {\n      var a = A['stepGridXA' + stepGridX];\n\n      if (a === undefined) {\n        a = 1;\n      }\n\n      a = a * UI.xAxis.textAlpha * p;\n      if (a === 0) return;\n      start -= start % stepGridX;\n      ctx.fillStyle = UI.xAxis.textColor;\n      ctx.globalAlpha = a;\n\n      for (var i = start, x, u; i <= end; i += stepGridX) {\n        if (!prevStep && stepGridX < V.prevStepGridX && i % V.prevStepGridX === 0) continue;\n        if (prevStep && stepGridX > V.prevStepGridX && i % V.prevStepGridX === 0) continue;\n        if (prevStep && V.stepGridX > V.prevStepGridX && i % V.stepGridX === 0) continue;\n        x = UI.chart.hPadding + (AX[i] - V.localStart) * scaleX;\n        u = props.xAxisType instanceof Function ? props.xAxisType(AX[i]) : DATA_TYPES[props.xAxisType](AX[i]);\n        ctx.fillText(u, x, y);\n      }\n    }\n\n    function renderYText(prevStep, stepGridY, scaleY, localMin, localMax, localD, minLocalD, lowerMin, p) {\n      var u,\n          y = localMin,\n          y_,\n          yPos,\n          val,\n          c = 0,\n          a0 = TYPES.multi_yaxis ? A['alphaY0'] : 1,\n          a1 = TYPES.multi_yaxis ? A['alphaY1'] : 1,\n          a = A['stepGridYA' + stepGridY],\n          v;\n\n      while (y < localMax) {\n        y_ = c === 0 && stepGridY > 10 ? Math.ceil(y / 10) * 10 : y;\n        yPos = UI.xAxis.y - (y - localMin) * scaleY;\n\n        if (prevStep && c > 0) {\n          v = V.yPos[c];\n          if (v) yPos = yPos + (yPos - V.yPos[c]) * a;\n        }\n\n        val = '' + Math.floor(c === 0 ? localMin : y_);\n        ctx.globalAlpha = a * p * a0 * UI.yAxis.textAlpha;\n        ctx.fillStyle = TYPES.multi_yaxis ? AY[0].color : UI.yAxis.textColor;\n        u = props.yAxisType instanceof Function ? props.yAxisType(val) : DATA_TYPES[props.yAxisType](val);\n        ctx.fillText(u, UI.chart.hPadding, yPos - 5);\n\n        if (TYPES.multi_yaxis) {\n          ctx.fillStyle = AY[1].color || UI.yAxis.textColor;\n          val = Math.max(0, Math.floor(lowerMin + (y - localMin) / localD * minLocalD));\n          if (c > 0 && val > 50) val = Math.ceil(val / 10) * 10;\n          ctx.globalAlpha = a * p * a1;\n          u = props.yAxisType instanceof Function ? props.yAxisType(val) : DATA_TYPES[props.yAxisType](val);\n          ctx.fillText(u, UI.main.width - UI.chart.hPadding - ctx.measureText(u).width - 5, yPos - 5);\n        }\n\n        UI.canvas.line(UI.chart.hPadding, yPos, UI.main.width - UI.chart.hPadding, yPos, UI.grid.lineWidth, UI.grid.color, a * UI.grid.alpha * p);\n        if (!prevStep) V.yPos[c] = yPos;\n\n        if (c === 0 && stepGridY > 10) {\n          y_ = y_ + (stepGridY - y_ % stepGridY);\n          y = y_ - y < stepGridY * 0.6 ? y_ + stepGridY : y_;\n        } else y += stepGridY;\n\n        c++;\n      }\n    }\n\n    function buildColorStyle(color) {\n      var gradient;\n\n      if (color instanceof Object) {\n        if (color.type === 'linear_gradient_h') gradient = ctx.createLinearGradient(0, 0, UI.main.width, 0);\n        if (color.type === 'linear_gradient_v') gradient = ctx.createLinearGradient(0, 0, 0, UI.main.height);\n        color.colors.forEach(function (c, i, a) {\n          gradient.addColorStop(i / (a.length - 1), c);\n        });\n        return gradient;\n      }\n\n      return color;\n    }\n\n    function renderLinear(type, height, vStart, hPadding, offsetY, offsetX, startIdx, endIdx, scaleX, scaleY) {\n      height -= UI.grid.markerRadius + UI.grid.markerLineWidth;\n\n      for (var s = 0, idx, x, data, color, fillColor, startX; s < AYL; s++) {\n        data = AY[s].data;\n        color = buildColorStyle(AY[s].color);\n        fillColor = buildColorStyle(AY[s].fillColor);\n        UI.canvas.startLine((1 - V.progress) * A['alphaY' + s], color, fillColor, ctx.lineWidth);\n        idx = TYPES.multi_yaxis ? s : '';\n        scaleY = height / A[type + 'DY' + idx];\n\n        for (var i = startIdx; i <= endIdx; i++) {\n          x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n\n          if (i === startIdx) {\n            startX = x;\n            ctx.moveTo(x, offsetY - (data[i] - A[type + 'MinY' + idx]) * scaleY);\n          }\n\n          ctx.lineTo(x, offsetY - (data[i] - A[type + 'MinY' + idx]) * scaleY);\n        }\n\n        if (fillColor) {\n          ctx.stroke();\n          ctx.lineTo(x, offsetY);\n          ctx.lineTo(startX, offsetY);\n          ctx.fill();\n        } else ctx.stroke();\n      }\n    }\n\n    function renderBars(type, masterA, width, height, vStart, hPadding, offsetY, offsetX, isPreview, startIdx_, endIdx, scaleX) {\n      var selectedIdx,\n          x,\n          p = 1 - V.progress,\n          startIdx = xToIdxDown(vStart - hPadding / scaleX),\n          barWidth = UI.main.width / (endIdx - startIdx_ - 0.5),\n          max = 0,\n          alpha,\n          scaleY,\n          STACK = new Array(AXL),\n          selectX,\n          selectY,\n          selectH;\n\n      for (var s = 0, val; s < AYL; s++) {\n        val = A[type + 'DY' + s] * A['on' + s];\n        max = TYPES.stacked ? max + val : Math.max(max, val);\n      }\n\n      if (V.showLegend && V.vLineX >= 0) {\n        x = V.localStart + (V.highlightedX - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart);\n        selectedIdx = xToIdxDown(x);\n      }\n\n      for (var s = 0; s < AYL; s++) {\n        alpha = A['alphaY' + s] * p;\n        ctx.globalAlpha = masterA * (isPreview ? alpha : selectedIdx >= 0 ? 0.5 : alpha);\n        ctx.fillStyle = AY[s].color;\n        ctx.beginPath();\n        scaleY = (height + UI.main.vPadding / 2) / max;\n\n        for (var i = startIdx, val, stack; i <= endIdx; i++) {\n          val = AY[s].data[i] * A['on' + s];\n          stack = STACK[i] || 0;\n          x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n          ctx.rect(x, offsetY - stack * scaleY, barWidth, -val * scaleY);\n\n          if (selectedIdx === i) {\n            selectX = x;\n            selectY = offsetY - stack * scaleY;\n            selectH = -val * scaleY;\n          }\n\n          if (TYPES.stacked) STACK[i] = stack + val;\n        }\n\n        ctx.fill();\n\n        if (!isPreview && selectedIdx >= 0) {\n          ctx.globalAlpha = alpha * masterA;\n          ctx.fillRect(selectX, selectY, barWidth, selectH);\n        }\n      }\n    }\n\n    function renderArea(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview) {\n      var scaleX = width / (vEnd - vStart),\n          startIdx = xToIdxDown(vStart - hPadding / scaleX),\n          endIdx = xToIdxUp(vEnd + hPadding / scaleX),\n          STACK = new Array(AXL),\n          progress = isPreview ? 0 : V.progress,\n          R = Math.min(UI.main.height, UI.main.width) / 2 - 25,\n          p = Math.min(1, progress),\n          _p = 1 - progress;\n\n      if (p > 0 && !isPreview) {\n        vStart = V._localStart;\n        vEnd = V._localEnd;\n        scaleX = width / (vEnd - vStart);\n        startIdx = xToIdxDown(vStart - hPadding / scaleX);\n        endIdx = xToIdxUp(vEnd + hPadding / scaleX);\n      }\n\n      if (!isPreview) height += UI.main.vPadding;\n\n      var _height = height / (1 + progress),\n          scaleY = _height / 100,\n          angle = 0,\n          filled = false;\n\n      if (!isPreview) {\n        offsetX -= UI.main.width / 2;\n        offsetY -= R + 15;\n        ctx.save();\n        if (p < 1) UI.canvas.rect(p * (UI.main.width / 2 - R), 25 * p, 2 * R * p + (1 - p) * (UI.main.width - hPadding), 2 * R + 50 * _p, p * R, true, true, true);\n        ctx.translate(UI.main.width / 2, UI.main.height / 2);\n        if (!isPreview && p <= PIE_VISIBLE) ctx.transform(1 + p, 0, 0, 1 + p, 0, 0);\n        if (p > PIE_VISIBLE) renderPie(xToIdx(V.localStart), xToIdx(V.localEnd - V.zoomStepX), masterA, R);\n      }\n\n      if (p <= PIE_VISIBLE || isPreview) {\n        angle = 0;\n\n        for (var s = AYL - 1; s >= 0; s--) {\n          var S = AY[s],\n              selectedVal = S.data[V.selectedIndex] || 0,\n              percent = selectedVal / (TOTALS[V.selectedIndex] || 1),\n              sector = 180 * percent,\n              centered = false,\n              da = 0,\n              alpha = A['on' + s];\n\n          if (!isPreview) {\n            da = 180 * progress * percent * alpha * PI_RAD;\n            ctx.rotate(angle + da);\n          }\n\n          UI.canvas.startLine(alpha, 0, S.color, ctx.lineWidth);\n\n          for (var i = startIdx, val, x, y, startX, stack, dy; i <= endIdx; i++) {\n            stack = STACK[i] || 0;\n            val = 100 * S.data[i] / TOTALS[i] * alpha;\n            x = offsetX + hPadding + (AX[i] - vStart) * scaleX;\n            y = offsetY - _height + _p * stack * scaleY;\n            dy = isPreview ? 0 : Math.abs(x) / Math.tan((90 * _p + progress * sector) * PI_RAD);\n\n            if (i === startIdx) {\n              startX = x;\n              ctx.moveTo(x, _p * y + dy);\n            } else {\n              if (!centered && x >= 0 && progress > 0.5) {\n                centered = true;\n                ctx.lineTo(x * _p, _p * (_p * y + dy));\n              } else ctx.lineTo(x, _p * y + dy);\n            }\n\n            if (i === endIdx) {\n              if (!S.off && !filled) {\n                filled = true;\n                ctx.globalAlpha = masterA;\n                ctx.fillStyle = S.color;\n                ctx.fillRect(startX, -offsetY + 26, x - startX, 2 * offsetY);\n                if (V.seriesCount === 1) break;\n              } else {\n                ctx.lineTo(x, 2 * offsetY);\n                ctx.lineTo(startX, 2 * offsetY);\n              }\n            }\n\n            STACK[i] = stack + val;\n          }\n\n          ctx.fill();\n\n          if (!isPreview) {\n            ctx.rotate(-angle - da);\n            angle += 2 * da;\n          }\n\n          if (V.seriesCount === 1 && !S.off) break;\n        }\n      }\n\n      if (!isPreview) {\n        ctx.restore();\n        renderPieLegend(p, R, masterA);\n      }\n    }\n\n    function renderPieLegend(p, R, masterA) {\n      for (var s = AYL - 1; s >= 0; s--) {\n        var S = AY[s],\n            val = Math.round(S.percent * 100);\n        if (S.off) continue;\n        var fontSize = 13 + S.percent * 30,\n            r = val < 4 ? R + fontSize + 2 : R / 1.25,\n            text = val < 1 ? '<1%' : val + '%';\n        ctx.font = fontSize + 'px ' + FONT;\n        var ts = ctx.measureText(text),\n            x = UI.main.width / 2 + (1 - S.percent) * r * Math.cos(S.angle) - ts.width / 2 + 2 * S.dx,\n            y = UI.main.height / 2 + (1 - S.percent) * r * Math.sin(S.angle) + fontSize / 4 + 2 * S.dy;\n        ctx.globalAlpha = p * S.alpha * masterA;\n        ctx.fillStyle = val < 4 ? S.color : UI.pie.textColor;\n        ctx.fillText(text, x, y);\n      }\n    }\n\n    function renderPie(startIdx, endIdx, masterA, R_) {\n      var R = R_ || Math.min(UI.main.height, UI.main.width) / 2 - 25,\n          values = new Array(AYL),\n          totals = 0,\n          angle = 90 * PI_RAD,\n          segment,\n          progress = TYPES.pie ? 1 : V.progress;\n\n      for (var s = 0; s < AYL; s++) {\n        var S = AY[s],\n            a = A['on' + s];\n\n        for (var i = startIdx, val; i <= endIdx; i++) {\n          val = S.data[i];\n          values[s] = i === startIdx ? val : values[s] + val;\n          if (s === 0) totals += TOTALS[i];\n        }\n      }\n\n      if (!TYPES.area) {\n        ctx.save();\n        ctx.translate(UI.main.width / 2, UI.main.height / 2);\n      }\n\n      if (!isNaN(V.pieX)) {\n        var sectorR = Math.sqrt(V.pieX * V.pieX + V.pieY * V.pieY),\n            sectorA = Math.atan2(V.pieY, V.pieX);\n        sectorA -= 90 * PI_RAD;\n        if (sectorA < 0) sectorA += 2 * Math.PI;\n      }\n\n      for (s = AYL - 1; s >= 0; s--) {\n        var S = AY[s],\n            alpha = A['on' + s],\n            percent = values[s] / totals,\n            z = A['pieZoom' + s] || 0,\n            a = 360 * progress * percent * alpha * PI_RAD,\n            d = 0,\n            startA = angle - 90 * PI_RAD,\n            dx = z * UI.pie.segmentShift * Math.cos(90 * PI_RAD + startA + a / 2),\n            dy = z * UI.pie.segmentShift * Math.sin(90 * PI_RAD + startA + a / 2),\n            dr = z * UI.pie.segmentShift,\n            val = Math.round(percent * 100);\n        PERCENTS[s] = percent;\n        if (val >= 1 && sectorR <= R && sectorA >= startA && sectorA < startA + a) segment = s;\n        S.angle = angle + a / 2;\n        S.percent = alpha * percent;\n        S.alpha = alpha;\n        S.val = values[s];\n        S.dx = dx;\n        S.dy = dy;\n        S.z = z;\n        ctx.globalAlpha = masterA;\n        ctx.fillStyle = S.color;\n        ctx.beginPath();\n        ctx.moveTo(dx, dy);\n\n        if (V.seriesCount === 1 && !S.off) {\n          ctx.arc(0, 0, R + dr, angle, angle + 360 * PI_RAD);\n          ctx.fill();\n          break;\n        } else {\n          d = dr / (360 - 180 * percent);\n          ctx.arc(dx, dy, R + dr, angle + d, angle + a + PI_RAD * alpha - d);\n        }\n\n        ctx.fill();\n        angle += a;\n      }\n\n      if (!isNaN(segment)) {\n        if (V.segment !== segment) {\n          animate('pieZoom' + segment, 0, 1, ON_OFF_DURATION);\n          if (!isNaN(V.segment)) animate('pieZoom' + V.segment, 1, 0, ON_OFF_DURATION, 0);\n          V.segment = segment;\n        }\n      } else if (!isNaN(V.segment)) {\n        animate('pieZoom' + V.segment, 1, 0, ON_OFF_DURATION, 0);\n        V.segment = undefined;\n      }\n\n      if (!TYPES.area) {\n        ctx.restore();\n        renderPieLegend(progress, R, masterA);\n      }\n    }\n\n    function renderSeries(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview) {\n      var scaleX = width / (vEnd - vStart),\n          startIdx = xToIdx(vStart - hPadding / scaleX),\n          endIdx = xToIdx(vEnd + hPadding / scaleX),\n          scaleY;\n      ctx.globalAlpha = masterA;\n      if (TYPES.bar) renderBars(type, masterA, width, height, vStart, hPadding, offsetY, offsetX, isPreview, startIdx, endIdx, scaleX);else if (TYPES.area || TYPES.pie && isPreview) renderArea(type, masterA, width, height, vStart, vEnd, hPadding, offsetY, offsetX, isPreview);else if (TYPES.pie) renderPie(startIdx, endIdx, masterA);else if (TYPES.linear) renderLinear(type, height + 7, vStart, hPadding, offsetY, offsetX, startIdx, endIdx, scaleX, scaleY);\n    }\n\n    function renderMain() {\n      if (!V.showMainArea) return;\n      ctx.lineWidth = UI.main.lineWidth;\n      renderSeries('local', TYPES.percentage ? 1 : 1 - V.progress, UI.preview.width, UI.main.height - 1.5 * UI.main.vPadding, V.localStart, V.localEnd, UI.chart.hPadding, UI.main.height, false);\n      renderGrid();\n    }\n\n    function measureUI() {\n      var ww = window.innerWidth,\n          wh = window.innerHeight,\n          pageYOffset = window.pageYOffset;\n\n      if (pageYOffset !== V.pageYOffset) {\n        UI.box.measure();\n        V.pageYOffset = pageYOffset;\n      }\n\n      UI.chart.height = V.showMainArea ? CHART_HEIGHT : CHART_HEIGHT - MAIN_AREA_HEIGHT;\n\n      if (V.needMeasure || V.prevW !== ww || V.prevH !== wh) {\n        V.prevW = ww;\n        V.prevH = wh;\n        UI.box.measure();\n        if (UI.box.h < UI.chart.height) V.prevH = 0;\n        UI.main.height = UI.chart.height - UI.preview.height - UI.xAxis.height;\n        UI.main.y = 0;\n        UI.main.width = UI.box.w;\n        UI.xAxis.y = UI.main.y + UI.main.height;\n        UI.preview.y = UI.chart.height - UI.preview.height;\n        UI.preview.width = UI.box.w - 2 * UI.chart.hPadding;\n        UI.preview.minHeight = UI.preview.height - 2 * UI.preview.vPadding;\n        UI.canvas.attr('width', UI.main.width * DPR).attr('height', UI.chart.height * DPR).stylo({\n          width: UI.main.width,\n          height: UI.chart.height\n        });\n        ctx.scale(DPR, DPR);\n        repaint();\n      }\n\n      V.needMeasure = false;\n    }\n\n    function renderGrid() {\n      var showLegend = V.showLegend && !isNaN(V.vLineX);\n      showLegend && (!(TYPES.bar || TYPES.pie) || TYPES.area) && UI.canvas.line(V.vLineX, TYPES.area ? 16 : 4, V.vLineX, UI.main.height, UI.grid.lineWidth, UI.grid.color, UI.grid.alpha);\n      if (!V.zoomedChart) toggleLegend(showLegend || TYPES.area && V.isZoomed);\n    }\n\n    function repaint() {\n      STATE.repaint = true;\n      if (V.zoomedChart) V.zoomedChart.repaint();\n    }\n\n    this.repaint = repaint;\n\n    this.getSeries = function () {\n      return AY;\n    };\n\n    this.getProps = function () {\n      return props;\n    };\n\n    this.getVars = function () {\n      return V;\n    };\n\n    this.getAxesData = function () {\n      return {\n        AX: AX,\n        AY: AY,\n        X: X\n      };\n    };\n\n    function updateRangeText(el, _start, _end) {\n      if (V.isZooming) return;\n\n      if (!V.showRangeText) {\n        el.innerText = '';\n        return;\n      }\n\n      var start = _start === undefined ? V.localStart : _start,\n          end = _end === undefined ? V.localEnd : _end,\n          rangeText,\n          zoomedProps = V.zoomedChart ? V.zoomedChart.getProps() : undefined,\n          rangeTextType = zoomedProps ? zoomedProps.rangeTextType : props.rangeTextType;\n      if (props.xAxisType === 'date') end -= zoomedProps ? zoomedProps.zoomStepX || zoomedProps.stepX || 1 : props.zoomStepX || V.stepX;\n\n      if (rangeTextType instanceof Function) {\n        rangeText = rangeTextType(start, end);\n      } else if (rangeText === undefined) {\n        var startStr = DATA_TYPES[rangeTextType](start),\n            endStr = DATA_TYPES[rangeTextType](end);\n        rangeText = startStr === endStr ? startStr : startStr + ' - ' + endStr;\n      }\n\n      el.innerText = rangeText;\n    }\n\n    function recalcTotals() {\n      TOTALS = new Array(AXL);\n\n      for (var s = 0; s < AYL; s++) {\n        for (var i = 0, v; i < AXL; i++) {\n          v = AY[s].data[i] * A['on' + s];\n          TOTALS[i] = s === 0 ? v : TOTALS[i] + v;\n        }\n      }\n    }\n\n    function minMax(start, end) {\n      var min = Infinity,\n          max = -Infinity,\n          x1 = Math.max(0, start),\n          x2 = Math.min(AXL, end);\n\n      function compare(u) {\n        if (u > max) max = u;\n        if (u < min) min = u;\n      }\n\n      for (var y = 0, S; y < AYL; y++) {\n        S = AY[y];\n\n        if (S.off && !TYPES.multi_yaxis) {\n          S.max = 0;\n          S.min = 0;\n          S.d = 0;\n          continue;\n        }\n\n        if (TYPES.stacked || TYPES.bar || TYPES.percentage) {\n          if (V.autoScale) {\n            S.max = querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity);\n            S.min = 0;\n          } else {\n            S.max = props.maxY === undefined ? querySTree(STREE_MAX[y], AXL, 0, AXL, Math.max, -Infinity) : props.maxY;\n            S.min = props.minY || 0;\n          }\n\n          S.d = S.max;\n        } else if (TYPES.multi_yaxis) {\n          if (V.autoScale) {\n            S.min = querySTree(STREE_MIN[y], AXL, x1, x2, Math.min, Infinity);\n            S.max = querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity);\n          } else {\n            S.min = props.minY === undefined ? querySTree(STREE_MIN[y], AXL, 0, AXL, Math.min, Infinity) : props.minY;\n            S.max = props.maxY === undefined ? querySTree(STREE_MAX[y], AXL, 0, AXL, Math.max, -Infinity) : props.maxY;\n          }\n\n          S.d = S.max - S.min;\n        } else {\n          compare(querySTree(STREE_MIN[y], AXL, x1, x2, Math.min, Infinity));\n          compare(querySTree(STREE_MAX[y], AXL, x1, x2, Math.max, -Infinity));\n        }\n      }\n\n      min = !V.autoScale && props.minY !== undefined ? props.minY : min;\n      max = !V.autoScale && props.maxY !== undefined ? props.maxY : max;\n      if (min === Infinity && V.localMM) return V.localMM;\n      return {\n        min: min,\n        max: max,\n        d: max - min\n      };\n    }\n\n    function recalcMinMax(name, start, end) {\n      var prevMM, MM;\n      if (V.autoScale) MM = minMax(start, end);else {\n        MM = V[name + 'MM'];\n        if (!MM) MM = minMax(0, AXL);\n      }\n\n      if (TYPES.multi_yaxis || TYPES.stacked || TYPES.bar || TYPES.area) {\n        if (!A[name + 'DY0']) {\n          for (var i = 0; i < AYL; i++) {\n            var s = AY[i];\n            A[name + 'MinY' + i] = s.min;\n            A[name + 'DY' + i] = s.d;\n          }\n        } else {\n          for (var i = 0; i < AYL; i++) {\n            var s = AY[i];\n            prevMM = s[name + 'MM'];\n\n            if (prevMM && (s.min !== prevMM.min || s.d !== prevMM.d)) {\n              animate(name + 'DY' + i, prevMM.d, s.d, ANIMATE_DURATION);\n              animate(name + 'MinY' + i, prevMM.min, s.min, ANIMATE_DURATION);\n            }\n          }\n        }\n\n        for (var i = 0; i < AYL; i++) {\n          var s = AY[i];\n          s[name + 'MM'] = {\n            min: s.min,\n            max: s.max,\n            d: s.d\n          };\n        }\n      } else {\n        prevMM = V[name + 'MM'];\n\n        if (!prevMM || V.movingBrush) {\n          A[name + 'MinY'] = MM.min;\n          A[name + 'DY'] = MM.d;\n        } else {\n          if (MM.min !== prevMM.min || MM.d !== prevMM.d) {\n            animate(name + 'DY', prevMM.d, MM.d, ANIMATE_DURATION);\n            animate(name + 'MinY', prevMM.min, MM.min, ANIMATE_DURATION);\n          }\n        }\n\n        V[name + 'MM'] = MM;\n      }\n    }\n\n    function render(time) {\n      if (AXL < 2 || V.isDestroyed) return;\n      doAnimations(time);\n      requestAnimationFrame(render);\n      if (V.needMeasure) measureUI();\n      var localRangeChanged = V.prevLocalStart !== V.localStart || V.prevLocalEnd !== V.localEnd,\n          isZoomed = V.prevGlobalStart !== V.globalStart || V.prevGlobalEnd !== V.globalEnd,\n          seriesCountChanged = V.seriesCount !== V.prevSeriesCount;\n      if (!STATE.repaint) return;\n\n      if (TYPES.percentage || TYPES.pie) {\n        if (!TOTALS || V.forceUpdate || V.isOnOffAnimating || seriesCountChanged) recalcTotals();\n      } else {\n        if (seriesCountChanged || isZoomed || V.forceUpdate) recalcMinMax('global', xToIdxUp(V.globalStart), xToIdxUp(V.globalEnd));\n        if (localRangeChanged || seriesCountChanged || isZoomed || V.forceUpdate) recalcMinMax('local', xToIdxUp(V.localStart), xToIdxUp(V.localEnd));\n      }\n\n      if (localRangeChanged || isZoomed || V.forceUpdate) updateRangeText(UI.localRange);\n      V.prevSeriesCount = V.seriesCount;\n      V.prevLocalStart = V.localStart;\n      V.prevLocalEnd = V.localEnd;\n      V.prevGlobalStart = V.globalStart;\n      V.prevGlobalEnd = V.globalEnd;\n\n      if (!V.hidden) {\n        if (!parent) ctx.clearRect(0, UI.main.y - 5, UI.main.width, UI.chart.height);\n        renderMain();\n        renderPreview();\n        renderAxis();\n      }\n\n      STATE.repaint = false;\n      V.forceUpdate = false;\n      if (V.zoomedChart) V.zoomedChart.repaint();\n    }\n\n    function animate(name, from, to, duration, update, ease, cb) {\n      update ? update(from) : A[name] = from;\n      animations[name] = {\n        ease: ease || EASE.outQuad,\n        from: from,\n        to: to,\n        duration: duration,\n        update: update,\n        cb: cb\n      };\n    }\n\n    function whereAmI(x, y_) {\n      var y = y_ - UI.chart.topPadding,\n          area = AREA.HEADER;\n      if (y >= UI.main.y && y < UI.xAxis.y) area = AREA.MAIN;else if (y >= UI.xAxis.y && y < UI.preview.y) area = AREA.XAXIS;else if (y >= UI.preview.y) {\n        var start = valToX(V.localStart),\n            end = valToX(V.localEnd);\n        if (x >= start - UI.preview.hitSlop && x <= start + UI.preview.handleW + UI.preview.hitSlop / 2) area = AREA.BRUSH_LEFT;else if (x > start + UI.preview.handleW && x < end - UI.preview.handleW - UI.preview.hitSlop / 2) area = AREA.BRUSH_CENTER;else if (x >= end - UI.preview.handleW - UI.preview.hitSlop / 2 && x < end + UI.preview.hitSlop) area = AREA.BRUSH_RIGHT;else area = AREA.PREVIEW;\n      }\n      return area;\n    }\n\n    function updateCheckbox(i, off, series_) {\n      if (!V.showButtons) return;\n      var to = off ? 0 : 1,\n          buttonColor = (currentTheme.buttons || {}).color || '#fff',\n          series = series_ || AY;\n      UI['checkbox' + i].attr('class', typeof styles !== 'undefined' ? styles['checkbox'] : 'checkbox ' + (off ? 'off' : 'on')).stylo({\n        backgroundColor: off ? 'transparent' : series[i].color,\n        borderColor: series[i].color\n      });\n      UI['chk' + i].stylo({\n        transform: 'scale(' + to + ')',\n        opacity: to,\n        fill: buttonColor\n      }, true);\n      UI['name' + i].stylo({\n        transform: 'translate3d(' + (to - 1) * 8 + 'px, 0, 0)',\n        color: off ? series[i].color : buttonColor\n      });\n    }\n\n    function toggleCheckbox(i, off) {\n      var s = AY[i];\n      s.off = off !== undefined ? off : !s.off;\n      s.off ? --V.seriesCount : ++V.seriesCount;\n      var from = s.off ? 1 : 0,\n          to = s.off ? 0 : 1;\n      updateCheckbox(i, s.off);\n\n      if (TYPES.stacked || TYPES.bar || TYPES.percentage || TYPES.pie) {\n        V.isOnOffAnimating = true;\n        animate('on' + i, from, to, ON_OFF_DURATION, 0, s.off ? EASE.outQuad : EASE.inQuad, function () {\n          V.isOnOffAnimating = false;\n          V.forceUpdate = true;\n        });\n        A['alphaY' + i] = 1;\n      } else {\n        animate('alphaY' + i, from, to, ON_OFF_DURATION);\n      }\n\n      if (V.zoomedChart) V.zoomedChart.toggleCheckbox(i, off);\n      toggleLegend(false);\n    }\n\n    this.toggleCheckbox = toggleCheckbox;\n\n    function toggleLegend(on) {\n      var pieMode = TYPES.pie || TYPES.percentage && V.isZoomed;\n      if (!pieMode && !(on ^ V.legendIsVisible)) return;\n      if (pieMode && isNaN(V.segment)) return hideLegend();\n\n      if (on) {\n        var y,\n            p,\n            x = V.localStart + (V.vLineX - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart),\n            idx = TYPES.bar ? xToIdxDown(x) : xToIdx(x),\n            scaleX = UI.preview.width / (V.localEnd - V.localStart),\n            dy = TYPES.linear ? UI.grid.markerRadius + UI.grid.markerLineWidth : 0,\n            scaleY = (UI.main.height - UI.main.vPadding - dy) / A.localDY,\n            side = 1,\n            sum = 0;\n\n        if (V.showLegendTitle) {\n          UI.xval.innerText = DATA_TYPES[props.xAxisType](AX[idx]);\n          UI.xval.stylo({\n            display: 'block'\n          });\n        } else UI.xval.stylo({\n          display: 'none'\n        });\n\n        V.highlightedX = V.vLineX;\n        ctx.fillStyle = UI.grid.markerFillColor;\n        ctx.lineWidth = UI.grid.markerLineWidth;\n        ctx.globalAlpha = 1;\n        UI.date.stylo({\n          display: pieMode ? 'none' : 'flex'\n        });\n\n        for (var s = 0, pp = 0; s < AYL; s++) {\n          var S = AY[s],\n              v = pieMode ? S.val : S.data[idx];\n          UI['label' + s].stylo({\n            display: S.off || pieMode && s !== V.segment ? 'none' : 'flex',\n            paddingTop: pieMode ? 0 : 5\n          });\n          if (S.off) continue;\n          sum += v;\n          if (TYPES.multi_yaxis) scaleY = (UI.main.height - UI.main.vPadding - dy) / A['localDY' + s];\n          UI['labelName' + s].innerText = S.name;\n          UI['labelValue' + s].stylo({\n            color: S.color\n          }).innerText = format(v);\n\n          if (TYPES.percentage || TYPES.pie) {\n            p = v / TOTALS[idx];\n            if (s === AYL - 1) p = 1 - pp;\n            pp += p;\n            UI['labelPercent' + s].stylo({\n              display: pieMode ? 'none' : 'flex'\n            }).innerText = Math.round(p * 100) + '%';\n          }\n\n          if (!(TYPES.pie || TYPES.bar || TYPES.percentage)) {\n            ctx.strokeStyle = S.color;\n            ctx.beginPath();\n            ctx.arc(UI.chart.hPadding + (AX[idx] - V.localStart) * scaleX, UI.xAxis.y - (S.data[idx] - A['localMinY' + (TYPES.multi_yaxis ? s : '')]) * scaleY, UI.grid.markerRadius, 0, Math.PI * 2);\n            ctx.stroke();\n            ctx.fill();\n          }\n        }\n\n        if (TYPES.stacked) {\n          UI.labelTotal.stylo({\n            display: V.seriesCount > 1 ? 'flex' : 'none'\n          });\n          UI.labelValueTotal.innerHTML = format(sum);\n        }\n\n        UI.legend.measure();\n\n        if (pieMode) {\n          x = V.pieX + UI.main.width / 2;\n          y = V.pieY + UI.main.height / 2;\n        } else {\n          side = V.vLineX < UI.main.width / 2 ? 0 : 1;\n          x = applyRange(V.vLineX - UI.grid.legendShift - side * (UI.legend.w - 2 * UI.grid.legendShift), 2, UI.main.width - UI.legend.w - 2);\n          if (props.legendPosition === 'top') y = UI.chart.topPadding;else if (props.legendPosition === 'bottom') y = UI.xAxis.y - UI.legend.h + 40;else y = applyRange(V.vLineY - UI.legend.h - (IS_MOBILE ? 50 : 10), UI.chart.topPadding, UI.xAxis.y - UI.legend.h);\n        }\n\n        UI.legend.stylo({\n          opacity: 1,\n          transform: 'translate3d(' + x + 'px, ' + y + 'px, 0)'\n        }, true);\n        if (V.legendTimer) clearTimeout(V.legendTimer);\n        V.legendTimer = setTimeout(hideLegend, LEGEND_TIMER);\n      } else hideLegend();\n\n      V.legendIsVisible = on;\n    }\n\n    function resetCursor() {\n      UI.canvas.stylo({\n        cursor: 'auto'\n      });\n    }\n\n    function dismiss() {\n      if (parent) return;\n      if (hideLegend()) repaint();\n      STATE.draggingArea = 0;\n      resetCursor();\n    }\n\n    this.dismiss = dismiss;\n\n    function applyRange(v, from, to) {\n      return Math.max(from, Math.min(v, to));\n    }\n\n    function updateZoomedChart() {\n      if (V.zoomedChart) V.zoomedChart.setProgress(V);\n    }\n\n    function hideLegend() {\n      var repaint = V.vLineX !== undefined;\n      if (!UI.legend) return;\n      V.vLineX = undefined;\n      V.highlightedX = -1;\n      UI.legend.stylo({\n        transform: 'translate3d(0, -1000px, 0)'\n      });\n\n      if (V.legendTimer) {\n        clearTimeout(V.legendTimer);\n        V.legendTimer = undefined;\n      }\n\n      return repaint;\n    }\n\n    function stop(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    function flerken(o, className) {\n      var el;\n      if ((typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object') el = o;else {\n        el = byId(o === ID ? ID : ID + '-' + o);\n        className = o === ID ? 'chart' : o.replace(/[\\d]+/g, '');\n        if (typeof styles !== 'undefined') className = styles[className];\n      }\n\n      el.on = function (evt, cb) {\n        evt.split(' ').map(function (name) {\n          el.addEventListener(name, function (e) {\n            var touch = e.touches && e.touches.length ? e.touches[0] : e,\n                x = (touch.clientX || touch.pageX) - UI.box.x,\n                y = (touch.clientY || touch.pageY) - UI.box.y;\n            cb(e, x, y, whereAmI(x, y), this);\n          });\n        });\n        return el;\n      };\n\n      el.attr = function (name, value) {\n        el.setAttribute(name, value);\n        return el;\n      };\n\n      el.append = function (name) {\n        var n = document.createElement(name);\n        return flerken(el.appendChild(n), name);\n      };\n\n      el.measure = function () {\n        var s = el.getBoundingClientRect();\n        el.x = s.left;\n        el.y = s.top;\n        el.w = s.width;\n        el.h = s.height;\n        return el;\n      };\n\n      el.stylo = function (s, raw) {\n        var v;\n\n        for (var k in s) {\n          v = raw ? s[k] : s[k] + (isNaN(s[k]) ? '' : 'px');\n          el.style[k] = v;\n\n          if (k === 'transform') {\n            el.style['webkitTransform'] = v;\n            el.style['mozTransform'] = v;\n            el.style['oTransform'] = v;\n            el.style['msTransform'] = v;\n          }\n        }\n\n        return el;\n      };\n\n      el.shake = function () {\n        el.classList.add('shake');\n        setTimeout(function () {\n          el.classList.remove('shake');\n        }, 200);\n      };\n\n      el.line = function (x1, y1, x2, y2, w, color, alpha) {\n        if (!isNaN(alpha)) ctx.globalAlpha = alpha;\n        ctx.strokeStyle = color;\n        ctx.lineWidth = w;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n      };\n\n      el.rect = function (x, y, w, h, radius, left, right, clip) {\n        var r = radius || 0,\n            rightR = right ? r : 0,\n            leftR = left ? r : 0;\n        ctx.beginPath();\n        ctx.moveTo(x + leftR, y);\n        ctx.arcTo(x + w, y, x + w, y + h, rightR);\n        ctx.arcTo(x + w, y + h, x, y + h, rightR);\n        ctx.arcTo(x, y + h, x, y, leftR);\n        ctx.arcTo(x, y, x + w, y, leftR);\n        if (clip) return ctx.clip();\n        ctx.closePath();\n        ctx.fill();\n      };\n\n      el.startLine = function (alpha, strokeStyle, fillStyle, lw) {\n        ctx.globalAlpha = alpha;\n        if (ctx.strokeStyle) ctx.strokeStyle = strokeStyle;\n        if (ctx.fillStyle) ctx.fillStyle = fillStyle;\n        ctx.lineWidth = lw;\n        ctx.beginPath();\n        ctx.lineCap = 'butt';\n        ctx.lineJoin = 'bevel';\n      };\n\n      UI[o === ID ? 'box' : o] = el;\n      return el.attr('class', className).measure();\n    }\n\n    function hide() {\n      V.hidden = true;\n    }\n\n    this.hide = hide;\n\n    function zoomIn(x) {\n      if (V.inProgress) return;\n      V.inProgress = true;\n      var selectedX = V.localStart + (x - UI.chart.hPadding) / UI.preview.width * (V.localEnd - V.localStart),\n          selectedIndex = xToIdx(selectedX),\n          currentGlobalStart = V.globalStart,\n          currentGlobalEnd = V.globalEnd,\n          currentLocalStart = V.localStart,\n          currentLocalEnd = V.localEnd,\n          xVal = AX[selectedIndex];\n      if (props.xAxisType === 'date') roundDate(xVal);\n      V._globalStart = V.globalStart;\n      V._globalEnd = V.globalEnd;\n      V._localStart = V.localStart;\n      V._localEnd = V.localEnd;\n\n      function doZoom() {\n        var newGlobalStart, newGlobalEnd, newLocalStart, newLocalEnd, zoomInterval, stepX;\n\n        if (V.zoomedChart) {\n          var data = V.zoomedChart.getAxesData(),\n              zoomProps = V.zoomedChart.getProps();\n          stepX = zoomProps.stepX || V.zoomStepX || V.stepX;\n          zoomInterval = props.zoomInterval || zoomProps.zoomInterval;\n\n          if (zoomInterval) {\n            newGlobalStart = selectedX - zoomInterval / 2;\n            newGlobalEnd = newGlobalStart + zoomInterval;\n            newLocalStart = selectedX;\n            newLocalEnd = newLocalStart + stepX;\n          } else {\n            newGlobalStart = data.X.min;\n            newGlobalEnd = data.X.max;\n            newLocalStart = zoomProps.startX || newGlobalStart + Math.floor(data.X.d / 2 / stepX) * stepX;\n            newLocalEnd = newLocalStart + stepX;\n          }\n        } else {\n          stepX = V.zoomStepX || V.stepX;\n          zoomInterval = props.zoomInterval || 7 * stepX;\n          newLocalStart = props.startX || xVal;\n          if (newLocalStart + stepX >= X.max) newLocalStart -= stepX;\n          newLocalEnd = newLocalStart + stepX;\n          newGlobalStart = applyRange(xVal - (zoomInterval - stepX) / 2, X.min, X.max);\n          newGlobalEnd = applyRange(newGlobalStart + zoomInterval, X.min, X.max);\n          if (newGlobalEnd - newGlobalStart) newGlobalStart = applyRange(newGlobalEnd - zoomInterval, X.min, X.max);\n        }\n\n        updateRangeText(UI.zoomedRange, newLocalStart, newLocalEnd);\n        V.isZooming = true;\n        animate('zoomIn', 0, 1, TYPES.area ? 2 * ZOOM_IN_DURATION : ZOOM_IN_DURATION, function (v) {\n          var p = Math.min(1, v),\n              p_ = 1 - p;\n          V.progress = v;\n          V.globalStart = currentGlobalStart - p * (currentGlobalStart - newGlobalStart);\n          V.globalEnd = currentGlobalEnd - p * (currentGlobalEnd - newGlobalEnd);\n          V.localStart = currentLocalStart - p * (currentLocalStart - newLocalStart);\n          V.localEnd = currentLocalEnd - p * (currentLocalEnd - newLocalEnd);\n          UI.title.stylo({\n            opacity: p_,\n            transform: 'scale(' + p_ + ', ' + p_ + ')'\n          }, true);\n          UI.zoom.stylo({\n            opacity: p,\n            transform: 'scale(' + p + ', ' + p + ')'\n          }, true);\n          UI.localRange.stylo({\n            opacity: p_,\n            transform: 'scale(' + p_ + ', ' + p_ + ')'\n          }, true);\n          UI.zoomedRange.stylo({\n            opacity: p,\n            transform: 'scale(' + p + ', ' + p + ')'\n          }, true);\n          updateZoomedChart();\n        }, TYPES.area ? EASE.outBack : EASE.outCubic, function () {\n          V.isZooming = false;\n          V.isZoomed = true;\n          V.inProgress = false;\n          V.forceUpdate = true;\n          resize();\n          if (V.zoomedChart) V.zoomedChart.wakeUp();\n        });\n        V.selectedIndex = selectedIndex;\n        hideLegend();\n      }\n\n      if (!props.onZoomIn || TYPES.pie) {\n        if (TYPES.area) return doZoom();\n        V.inProgress = false;\n        return;\n      }\n\n      props.onZoomIn(AX[selectedIndex]).then(function (data) {\n        V.zoomedChart = new Charty(ID, data, self, UI, ctx);\n        doZoom();\n        repaint();\n      }, function (err) {\n        V.inProgress = false;\n        error('Error loading data: ' + JSON.stringify(err) + '\\n\\nx: ' + AX[selectedIndex]);\n      });\n    }\n\n    this.setProgress = function (V_) {\n      SHARED_PROPS.forEach(function (prop) {\n        V[prop] = V_[prop];\n      });\n      V.progress = 1 - V_.progress;\n      repaint();\n    };\n\n    this.getTheme = function () {\n      return currentTheme;\n    };\n\n    function zoomOut(x) {\n      if (!V.isZoomed) return zoomIn();\n      var currentGlobalStart = V.globalStart,\n          currentGlobalEnd = V.globalEnd,\n          currentLocalStart = V.localStart,\n          currentLocalEnd = V.localEnd;\n      V.isZooming = true;\n      animate('zoomOut', 1, 0, ZOOM_OUT_DURATION, function (v) {\n        var v_ = 1 - v;\n        V.globalStart = currentGlobalStart - v_ * (currentGlobalStart - V._globalStart);\n        V.globalEnd = currentGlobalEnd - v_ * (currentGlobalEnd - V._globalEnd);\n        V.localStart = currentLocalStart - v_ * (currentLocalStart - V._localStart);\n        V.localEnd = currentLocalEnd - v_ * (currentLocalEnd - V._localEnd);\n        V.progress = v;\n        UI.title.stylo({\n          opacity: v_,\n          transform: 'scale(' + v_ + ', ' + v_ + ')'\n        }, true);\n        UI.zoom.stylo({\n          opacity: v,\n          transform: 'scale(' + v + ', ' + v + ')'\n        }, true);\n        UI.localRange.stylo({\n          opacity: v_,\n          transform: 'scale(' + v_ + ', ' + v_ + ')'\n        }, true);\n        UI.zoomedRange.stylo({\n          opacity: v,\n          transform: 'scale(' + v + ', ' + v + ')'\n        }, true);\n        updateRangeText(UI.localRange);\n        updateZoomedChart();\n      }, EASE.inCubic, function () {\n        V.isZooming = false;\n        V.isZoomed = false;\n        V.forceUpdate = true;\n        resize();\n\n        if (V.zoomedChart) {\n          V.zoomedChart.destroy();\n          V.zoomedChart = undefined;\n        }\n\n        dismiss();\n        wakeUp();\n      });\n\n      if (V.zoomedChart) {\n        var series = V.zoomedChart.getSeries();\n        series.map(function (S, i) {\n          var off = S.off;\n\n          if (AY[i] && AY[i].name === S.name) {\n            AY[i].off = off;\n            A['alphaY' + i] = off ? 0 : 1;\n            A['on' + i] = off ? 0 : 1;\n          }\n        });\n        renderCtrls();\n        updateTheme();\n        togglePreview(V.showPreview);\n      }\n\n      hideLegend();\n    }\n\n    this.setProps = function (props_) {\n      props = Object.assign({}, props, props_);\n      updateVars();\n      dismiss();\n      V.forceUpdate = true;\n      V.needMeasure = true;\n      UI.title.innerText = props.title || '';\n      repaint();\n    };\n\n    this.setShowButtons = function (on) {\n      V.showButtons = on;\n      renderCtrls();\n      updateTheme();\n    };\n\n    this.setShowMainArea = function (on) {\n      V.showMainArea = on;\n      resize();\n      measureUI();\n      repaint();\n    };\n\n    this.setShowBrush = function (on) {\n      V.showBrush = on;\n      repaint();\n      !on && resetCursor();\n    };\n\n    this.setStartX = function (x) {\n      V.localStart = applyRange(x, V.globalStart, V.globalEnd);\n    };\n\n    this.setEndX = function (x) {\n      V.localEnd = applyRange(x, V.globalStart, V.globalEnd);\n    };\n\n    this.setAutoScale = function (on) {\n      V.localMM = undefined;\n      V.globalMM = undefined;\n      V.autoScale = on;\n    };\n\n    this.setShowPreview = function (on) {\n      V.showPreview = on;\n      if (V.zoomedChart) V.zoomedChart.togglePreview(on);\n      togglePreview(on);\n    };\n\n    this.restart = function () {\n      start(true);\n\n      if (!V.zoomedChart) {\n        renderLegend();\n        renderCtrls();\n        updateTheme();\n      }\n    };\n\n    function wakeUp() {\n      V.hidden = false;\n      V.forceUpdate = true;\n      repaint();\n    }\n\n    function resize() {\n      V.needMeasure = true;\n    }\n\n    function scroll() {\n      V.needMeasure = true;\n    }\n\n    this.wakeUp = wakeUp;\n\n    this.destroy = function () {\n      V.isDestroyed = true;\n      unhookEvents();\n    };\n\n    function moveBrush(newLocalStart, newLocalEnd) {\n      if (V.movingBrush) return;\n      if (newLocalStart === V.localStart && newLocalEnd === V.localEnd) return;\n      if (newLocalStart >= newLocalEnd || newLocalEnd <= newLocalStart) return;\n      V.movingBrush = true;\n      var start = V.localStart,\n          end = V.localEnd;\n      animate('snapX', 0, 1, SNAP_DURATION, function (p) {\n        V.localStart = applyRange(start - p * (start - newLocalStart), X.min, X.max);\n        V.localEnd = applyRange(end - p * (end - newLocalEnd), X.min, X.max);\n        updateZoomedChart();\n      }, 0, function () {\n        V.movingBrush = false;\n        V.forceUpdate = true;\n        updateRangeText(UI.zoomedRange);\n      });\n      updateZoomedChart();\n    }\n\n    function updateCursor(area) {\n      if (!IS_MOBILE && !STATE.draggingArea) {\n        if (area === AREA.BRUSH_LEFT || area === AREA.BRUSH_RIGHT) UI.canvas.stylo({\n          cursor: 'ew-resize'\n        });else if (area === AREA.BRUSH_CENTER) UI.canvas.stylo({\n          cursor: 'move'\n        });else resetCursor();\n      }\n    }\n\n    function unhookEvents() {\n      if (!self.isHooked) return;\n      window.removeEventListener('resize', resize);\n      window.removeEventListener('scroll', scroll);\n      document.removeEventListener('mousemove', dismiss);\n      self.isHooked = false;\n    }\n\n    function hookEvents() {\n      if (self.isHooked) unhookEvents();\n      self.isHooked = true;\n      document.addEventListener('mousemove', dismiss);\n      window.addEventListener('resize', resize);\n      window.addEventListener('scroll', scroll);\n      UI.legend.on('touchmove mousemove', stop);\n      UI.legend.on('touchstart mousedown', function (e, x) {\n        if (!isNaN(V.vLineX) && !V.zoomedChart) zoomIn(V.vLineX);\n      });\n      UI.canvas.on('touchmove mousemove', function (e, x, y, area) {\n        for (var c = 0, cl = CHARTS.length; c < cl; c++) {\n          if (c !== myIdx) CHARTS[c].dismiss();\n        }\n\n        V.vLineX = undefined;\n        V.vLineY = undefined;\n        V.pieX = undefined;\n        V.pieY = undefined;\n\n        if (!V.isZoomed || !TYPES.area) {\n          if (area === AREA.MAIN) {\n            V.vLineX = x;\n            V.vLineY = y;\n          }\n\n          if (!isNaN(V.vLineX)) V.legendIsVisible = false;\n          updateZoomedChart();\n        }\n\n        if (TYPES.pie || V.isZoomed && TYPES.area) {\n          if (area === AREA.MAIN) {\n            V.pieX = x - UI.main.width / 2;\n            V.pieY = y - UI.main.height / 2 - UI.chart.topPadding;\n          }\n        }\n\n        if (area >= AREA.XAXIS) hideLegend();\n        repaint();\n        if (!IS_MOBILE || STATE.draggingArea >= AREA.PREVIEW) stop(e);\n        if (!V.showBrush) return;\n        updateCursor(area);\n        var width = V.localEnd - V.localStart,\n            newLocalStart,\n            newLocalEnd,\n            deltaX,\n            xVal,\n            deltaStepX,\n            stepX = (V.zoomedChart ? V.zoomedChart.getProps().stepX : V.stepX) || 1,\n            minBrushSize = V.isZoomed || TYPES.pie ? stepX : Math.max(stepX, V.minBrushSize);\n        if (V.isZoomed && props.zoomStepX) stepX = props.zoomStepX;\n\n        if (STATE.draggingArea === AREA.BRUSH_LEFT) {\n          xVal = xToVal(x);\n          newLocalStart = applyRange(xVal, V.globalStart, V.localEnd - minBrushSize);\n          deltaX = V.localStart - newLocalStart;\n\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) {\n            V.localStart = newLocalStart;\n          } else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.ceil(deltaX / stepX);\n              moveBrush(V.localStart - deltaStepX, Math.min(V.localEnd, V.globalEnd));\n            }\n          }\n        } else if (STATE.draggingArea === AREA.BRUSH_RIGHT) {\n          xVal = (x + UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n          newLocalEnd = applyRange(xVal, V.localStart + minBrushSize, V.globalEnd);\n          deltaX = V.localEnd - newLocalEnd;\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) V.localEnd = newLocalEnd;else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.floor(deltaX / stepX);\n              moveBrush(Math.max(V.globalStart, V.localStart), V.localEnd - deltaStepX);\n            }\n          }\n        } else if (STATE.draggingArea === AREA.BRUSH_CENTER) {\n          xVal = (x - V.deltaDragX - UI.preview.handleW / 2 - UI.chart.hPadding) / UI.preview.width * (V.globalEnd - V.globalStart) + V.globalStart;\n          newLocalStart = applyRange(xVal, V.globalStart, V.globalEnd - width);\n          newLocalEnd = applyRange(newLocalStart + width, V.globalStart, V.globalEnd);\n          deltaX = V.localEnd - newLocalEnd;\n\n          if (!TYPES.pie && stepX === 1 && Math.abs(deltaX) / stepX >= 1) {\n            V.localStart = newLocalStart;\n            V.localEnd = newLocalEnd;\n          } else {\n            if (Math.abs(deltaX) > stepX * 0.5) {\n              deltaStepX = stepX * Math.round(deltaX / stepX);\n              moveBrush(V.localStart - deltaStepX, V.localEnd - deltaStepX);\n            }\n          }\n        }\n      });\n      UI.zoom.on('touchstart mousedown', function () {\n        if (V.isZoomed) {\n          restorePreview(props.showPreview !== false);\n          zoomOut();\n        }\n      });\n      UI.canvas.on('touchstart mousedown', function (e, x, y, area) {\n        if (!V.showBrush) return;\n        STATE.draggingArea = area;\n\n        if (area > AREA.PREVIEW) {\n          V.deltaDragX = x - valToX(V.localStart) - UI.preview.handleW / 2;\n        } else if (area === AREA.PREVIEW) {\n          var width = V.localEnd - V.localStart,\n              xVal = xToVal(x),\n              newLocalStart = xVal - width / 2,\n              newLocalEnd = xVal + width / 2,\n              dxStart = V.globalStart - newLocalStart,\n              dxEnd = newLocalEnd - V.globalEnd;\n\n          if (dxStart > 0) {\n            newLocalStart = V.globalStart;\n            newLocalEnd = V.globalStart + width;\n          } else if (dxEnd > 0) {\n            newLocalStart = V.globalEnd - width;\n            newLocalEnd = V.globalEnd;\n          }\n\n          moveBrush(newLocalStart, newLocalEnd);\n        }\n      });\n      UI.canvas.on('touchend touchcancel mouseup', function (e, x, y, area) {\n        if (!V.showBrush) return;\n        if (!IS_MOBILE && !isNaN(V.vLineX) && !V.zoomedChart) zoomIn(V.vLineX);\n        STATE.draggingArea = 0;\n        updateCursor(area);\n      });\n    }\n  }\n\n  return Charty;\n}();\n/*\n *  Copyright (c) 2019-present, Aleksandr Telegin\n *\n * This source code is licensed under the MIT license.\n */\n\n\nvar RESTARTING_PROPS = ['data', 'type', 'colors', 'names'];\n\nvar Charty$1 = function (_Component) {\n  inherits(Charty$$1, _Component);\n\n  function Charty$$1() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Charty$$1);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Charty$$1.__proto__ || Object.getPrototypeOf(Charty$$1)).call.apply(_ref, [this].concat(args))), _this), _this.setRef = function (el) {\n      _this.el = el;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(Charty$$1, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.charty = new Charty(this.el, this.props);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this2 = this;\n\n      if (!this.charty) return true;\n      this.charty.setProps(nextProps);\n      if (nextProps.theme !== this.props.theme) this.charty.setTheme(nextProps.theme);\n      if (nextProps.showPreview !== this.props.showPreview) this.charty.setShowPreview(nextProps.showPreview);\n      if (nextProps.showButtons !== this.props.showButtons) this.charty.setShowButtons(nextProps.showButtons);\n      if (nextProps.showMainArea !== this.props.showMainArea) this.charty.setShowMainArea(nextProps.showMainArea);\n      if (nextProps.startX !== this.props.startX) this.charty.setStartX(nextProps.startX);\n      if (nextProps.endX !== this.props.endX) this.charty.setEndX(nextProps.endX);\n      if (nextProps.autoScale !== this.props.autoScale) this.charty.setAutoScale(nextProps.autoScale);\n      var idx = RESTARTING_PROPS.findIndex(function (prop) {\n        return _this2.props[prop] !== nextProps[prop];\n      });\n      if (idx >= 0) this.charty.restart();\n      return false;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.charty) {\n        this.charty.destroy();\n        this.charty = undefined;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        ref: this.setRef,\n        style: this.props.style\n      });\n    }\n  }]);\n  return Charty$$1;\n}(Component);\n\nCharty$1.propTypes = {\n  type: PropTypes.string,\n  title: PropTypes.string,\n  theme: PropTypes.object,\n  animated: PropTypes.bool,\n  showLegend: PropTypes.bool,\n  showLegendTitle: PropTypes.bool,\n  showButtons: PropTypes.bool,\n  showMainArea: PropTypes.bool,\n  showBrush: PropTypes.bool,\n  showPreview: PropTypes.bool,\n  showRangeText: PropTypes.bool,\n  rangeTextType: PropTypes.string,\n  xAxisType: PropTypes.string,\n  yAxisType: PropTypes.string,\n  xAxisStep: PropTypes.number,\n  legendPosition: PropTypes.string,\n  data: PropTypes.object,\n  names: PropTypes.object,\n  colors: PropTypes.object,\n  stepX: PropTypes.number,\n  startX: PropTypes.number,\n  endX: PropTypes.number,\n  onZoomIn: PropTypes.func,\n  zoomInterval: PropTypes.number,\n  zoomStepX: PropTypes.number,\n  autoScale: PropTypes.bool,\n  minY: PropTypes.number,\n  maxY: PropTypes.number\n};\nexport default Charty$1;","/* eslint-disable one-var */\nimport React, { Component } from 'react'\nimport Charty from 'react-charty'\n\nconst LIGHT_THEME = {\n    name: 'light',\n    grid: { color: '#182D3B', alpha: 0.1, markerFillColor: '#fff' },\n    legend: { background: '#fff', color: '#000' },\n    preview: { maskColor: '#E2EEF9', maskAlpha: 0.6, brushColor: '#C0D1E1', brushBorderColor: '#fff', brushBorderAlpha: 1, handleColor: '#fff' },\n    xAxis: { textColor: '#8E8E93', textAlpha: 1 },\n    yAxis: { textColor: '#8E8E93', textAlpha: 1 },\n    title: { color: '#000' },\n    localRange: { color: '#000' },\n    zoomedRange: { color: '#000' },\n    zoomText: { color: '#108BE3' },\n    zoomIcon: { fill: '#108BE3' },\n    buttons: { color: '#fff' },\n    pie: { textColor: '#fff' },\n    body: { backgroundColor: '#fff', color: '#000' },\n    noteColor: '#108BE3',\n    octoColor: '#fff'\n  },\n  DARK_THEME = {\n    name: 'dark',\n    grid: { color: '#fff', alpha: 0.1, markerFillColor: '#242f3e' },\n    legend: { background: '#1c2533', color: '#fff' },\n    preview: { maskColor: '#304259', maskAlpha: 0.6, brushColor: '#56626D', brushBorderAlpha: 0, handleColor: '#fff' },\n    xAxis: { textColor: '#A3B1C2', textAlpha: 0.6 },\n    yAxis: { textColor: '#A3B1C2', textAlpha: 0.6 },\n    title: { color: '#fff' },\n    localRange: { color: '#fff' },\n    zoomedRange: { color: '#fff' },\n    zoomText: { color: '#108BE3' },\n    zoomIcon: { fill: '#108BE3' },\n    buttons: { color: '#fff' },\n    pie: { textColor: '#fff' },\n    body: { backgroundColor: '#262f3d', color: '#fff' },\n    noteColor: '#108BE3',\n    octoColor: '#fff'\n  },\n  MATRIX_THEME = {\n    name: 'matrix',\n    grid: { color: '#00ff41', alpha: 0.2, markerFillColor: '#0d0208' },\n    legend: { background: '#003b00', color: '#00ff41' },\n    preview: { maskColor: '#003b00', maskAlpha: 0.6, brushColor: '#009f11', brushBorderAlpha: 0, handleColor: '#00ff41' },\n    xAxis: { textColor: '#00ff41', textAlpha: 0.6 },\n    yAxis: { textColor: '#00ff41', textAlpha: 0.6 },\n    title: { color: '#008f11' },\n    localRange: { color: '#008f11' },\n    zoomedRange: { color: '#008f11' },\n    zoomText: { color: '#008f11' },\n    zoomIcon: { fill: '#008f11' },\n    buttons: { color: '#0d0208' },\n    pie: { textColor: '#0d0208' },\n    colors: {\n      'Joined': '#00ff41', 'Left': '#008f11', 'Views': '#00ff41', 'Shares': '#008f11', 'Clicks': '#008f11',\n      'Kiwi': '#00ff41', 'Apricots': '#008f11', 'Lemons': '#005b00', 'Mango': '#7ec251', 'Oranges': '#145105',\n      'Pears': '#66e82f', 'Apples': '#0acb3b',\n      'Adventure': '#03c835', 'Western': '#008f11', 'Action': '#00ff41', 'Multiple Genres': '#66e82f', 'Drama': '#0acb3b',\n      'Comedy': '#008f11', 'Thriller/Suspense': '#005b00', 'Concert/Performance': '#7ec251', 'Horror': '#145105',\n      'Romantic Comedy': '#12842f', 'Musical': '#079d2e'\n    },\n    fillColors: {\n      'Joined': '#00ff4177', 'Left': '#00000000'\n    },\n    body: { backgroundColor: '#0d0208', color: '#00ff41' },\n    noteColor: '#008f11',\n    octoColor: '#00ff41'\n  },\n  THEMES = [DARK_THEME, MATRIX_THEME, LIGHT_THEME],\n  IS_MOBILE = window.orientation !== undefined,\n  BOX_OFFICE_DATA = {\n    type: 'pie',\n    data: {\n      x: [2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018],\n      y0: [418894996, 375827476, 405950482, 350025489, 412599414, 356749803, 334756601, 363440937, 480825172, 299653307, 323532944],\n      y10: [2829762, 22654, 11748762, 10677132, 13353944, 17940856, 284339, 3501919, 17013981, 6864560, 3667257],\n      y1: [228907497, 272137386, 228669559, 267026649, 278874194, 297981308, 318724501, 349637236, 285649087, 368643283, 447980568],\n      y12: [70848, 85951, 148783, 190518, 238718, 263510, 628663, 286179, 330890, 514394, 525514],\n      y2: [151729266, 244595555, 213973344, 187934565, 209883469, 164612977, 201036506, 245573737, 157334842, 147887868, 176581251],\n      y3: [292402573, 191387857, 174406757, 188043157, 131991738, 199227435, 155477200, 153408009, 162978825, 87443925, 94998758],\n      y4: [106796214, 128751724, 116501895, 117123096, 186711044, 138499493, 118634566, 129240950, 82084039, 77766071, 67312441],\n      y11: [10533274, 2660484, 396482, 12035978, 3561192, 7980550, 385326, 136417, 3145782, 332699, 298642],\n      y5: [42770147, 77957339, 67327194, 50987000, 44842994, 57311383, 31198061, 44403863, 56039563, 115877974, 98962594],\n      y6: [46079258, 85649416, 65577463, 72861475, 42739101, 24261722, 32398230, 8790834, 15862326, 9586948, 26458555],\n      y7: [36236267, 5244119, 22114278, 10679542, 27725964, 43935184, 30866923, 8178513, 28773877, 99237710, 45842523],\n      y8: [12177214, 24992506, 11895704, 10392818, 16624104, 6064807, 10774221, 7720431, 5870460, 5006181, 11765171]\n    },\n    names: {\n      y0: 'Adventure',\n      y1: 'Action',\n      y2: 'Drama',\n      y3: 'Comedy',\n      y4: 'Thriller/Suspense',\n      y5: 'Horror',\n      y6: 'Romantic Comedy',\n      y7: 'Musical',\n      y8: 'Documentary',\n      y10: 'Western',\n      y11: 'Concert/Performance',\n      y12: 'Multiple Genres'\n    },\n    colors: {\n      y0: '#2373DB',\n      y1: '#EC2049',\n      y2: '#F26B38',\n      y3: '#F7DB4F',\n      y4: '#A7226E',\n      y5: '#474747',\n      y6: '#FC9D9A',\n      y7: '#FF4E50',\n      y8: '#5FB641',\n      y10: '#FC913A',\n      y11: '#C8C8A9',\n      y12: '#2F9599'\n    }\n  }\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      themeIdx: 0,\n      data: []\n    }\n  }\n\n  async componentDidMount() {\n    const dataFiles = [1,2,3,4,5].map((id) => fetch(`data/${id}/overview.json`)),\n      results = await Promise.all(dataFiles),\n      data = await Promise.all(results.map((r) => r.json()));\n\n    this.setState({\n      isLoaded: true,\n      data\n    })\n\n    var themeName = window.location.hash.substr(1),\n      idx = THEMES.findIndex((theme) => theme.name === themeName),\n      themeIdx = Math.max(0, idx)\n\n    this.setState({ themeIdx })\n    this.setTheme(themeIdx)\n  }\n\n  setTheme = (themeIdx) => {\n    var theme = THEMES[themeIdx]\n    document.body.style.backgroundColor = theme.body.backgroundColor\n    document.body.style.color = theme.body.color\n    document.querySelectorAll('.note').forEach((el) => {\n      el.style.color = theme.noteColor\n    })\n    document.getElementById('octo').style.fill = theme.octoColor\n  }\n\n  switchTheme = () => {\n    var themeIdx = this.state.themeIdx\n    themeIdx++\n\n    if (themeIdx === THEMES.length)\n      themeIdx = 0\n\n    this.setState({ themeIdx })\n    this.setTheme(themeIdx)\n  }\n\n  onZoomIn = async (id, x) => {\n    var d = new Date(x),\n      month = '' + (d.getMonth() + 1),\n      day = '' + d.getDate(),\n      year = d.getFullYear()\n\n    if (month.length < 2) month = '0' + month\n    if (day.length < 2) day = '0' + day\n\n    var file = 'data/' + id + '/' + year + '-' + month + '/' + day + '.json',\n      response = await fetch(file)\n\n    return response.json()\n  }\n\n  render () {\n    if (!this.state.isLoaded)\n      return null;\n\n    const width = IS_MOBILE ? '100%' : '50%',\n      theme = THEMES[this.state.themeIdx],\n      data = this.state.data,\n      style = { width, marginTop: 20 }\n\n    return (\n      <React.Fragment>\n        <h3 className=\"note\" onClick={this.switchTheme}>Switch theme</h3>\n        <h4 className=\"note\">(click on the {IS_MOBILE ? 'legend' : 'chart'} to zoom in)</h4>\n        <div className=\"container\">\n          <Charty title=\"Followers\" theme={theme} style={style} {...data[0]} onZoomIn={(x) => this.onZoomIn(1, x)} />\n          <Charty title=\"Fruits\" theme={theme} style={style} {...data[4]} />\n          <Charty title=\"Interactions\" theme={theme} style={style} {...data[1]} onZoomIn={(x) => this.onZoomIn(2, x)} />\n          <Charty title=\"Messages\" theme={theme} style={style} {...data[2]} onZoomIn={(x) => this.onZoomIn(3, x)} />\n          <Charty title=\"Views\" theme={theme} style={style} {...data[3]} onZoomIn={(x) => this.onZoomIn(4, x)} />\n          <Charty title=\"Box Office Ticket Sales\" theme={theme} style={style} {...BOX_OFFICE_DATA} stepX={1} startX={2017} endX={2018} />\n        </div>\n        <h3 className=\"bottom note\" onClick={this.switchTheme}>Switch theme</h3>\n      </React.Fragment>\n    )\n  }\n}\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}